/*! For license information please see app.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.apprun=e():t.apprun=e()}(this,(()=>(()=>{"use strict";var __webpack_modules__={284:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _src_apprun__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(466),_state_machine__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(739);const state={_state:"START",display:"0",arg1:0,arg2:0,op:"",stack:[]},view=({_state:t,op:e,arg1:n,arg2:o,display:a,stack:l})=>_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h(_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.Fragment,null,_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("style",null," ","\n    .calculator { width: 200px; }\n    .buttons {\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      grid-gap: 2px;\n    }\n    button { padding: 10px; width:100%; }\n    button:nth-of-type(1) {\n      grid-column: span 2;\n    }\n    button:nth-of-type(16) {\n      grid-column: span 2;\n    }\n  "),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("div",{class:"calculator"},_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("h1",null,a),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("div",{class:"buttons",$onclick:button_click},_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"CE"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"+/-"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"/"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"7"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"8"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"9"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"*"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"4"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"5"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"6"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"-"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"1"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"2"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"3"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"+"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"0"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"."),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"=")),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("small",null,l.length>0&&`${l[0][0]} ${l[0][1]} `,t.startsWith("FIRST_")&&`${a}`,"OP"===t&&`${n} ${e}`,t.startsWith("SECOND_")&&`${n} ${e} ${a}`,"EQ"===t&&`${n} ${e} ${o} = ${a}`))),button_click=(state,e)=>{var _a;const priority={"*":2,"/":2,"+":1,"-":1},getEvent=t=>{switch(t){case"+/-":return"+/-";case"CE":return"CE";case".":return"DOT";case"=":return"EQ";default:return/\d/.test(t)?"NUM":"OP"}},key=(null===(_a=e.target)||void 0===_a?void 0:_a.textContent)||e,event=getEvent(key);let{_state,op,arg1,arg2,display,stack}=state;const clear=()=>{display="0",arg1=arg2=0,op="",stack.length=0},negative=()=>{display=display.startsWith("-")?display.substring(1):"-"+display},calc=()=>{display=eval(`${arg1}${op}${arg2}`).toString()},op1=()=>{op=key,arg1=parseFloat(display)},op2=()=>{if(priority[key]===priority[op])arg2=parseFloat(display),calc(),op=key,arg1=parseFloat(display);else if(priority[key]<priority[op]){if(arg2=parseFloat(display),calc(),arg1=parseFloat(display),op=key,stack.length){const f=stack.pop();arg1=eval(`${f[0]}${f[1]}${display}`),display=arg1.toString()}}else stack.push([arg1,op]),arg1=parseFloat(display),op=key},eq0=()=>{arg1=parseFloat(display),calc()},eq2=()=>{if(arg2=parseFloat(display),calc(),stack.length){arg2=parseFloat(display);const f=stack.pop();display=eval(`${f[0]}${f[1]}${display}`).toString(),arg1=f[0],op=f[1]}},state_machine={START:[["NUM","FIRST_ARG",()=>display=key],["DOT","FIRST_ARG_FLOAT",()=>display="0."]],FIRST_ARG:[["+/-","FIRST_ARG",negative],["NUM","FIRST_ARG",()=>display+=key],["DOT","FIRST_ARG_FLOAT",()=>display+=key],["OP","OP",op1],["CE","START",clear]],FIRST_ARG_FLOAT:[["+/-","FIRST_ARG_FLOAT",negative],["NUM","FIRST_ARG_FLOAT",()=>display+=key],["OP","OP",op1],["CE","START",clear]],OP:[["NUM","SECOND_ARG",()=>display=key],["DOT","SECOND_ARG",()=>display="0."],["OP","OP",()=>op=key],["CE","START",clear]],SECOND_ARG:[["+/-","SECOND_ARG",negative],["NUM","SECOND_ARG",()=>display+=key],["DOT","SECOND_ARG_FLOAT",()=>display+=key],["EQ","EQ",eq2],["OP","OP",op2],["CE","OP",()=>display="0"]],SECOND_ARG_FLOAT:[["+/-","SECOND_ARG_FLOAT",negative],["NUM","SECOND_ARG_FLOAT",()=>display+=key],["EQ","EQ",eq2],["OP","OP",op2],["CE","OP",()=>display="0"]],EQ:[["+/-","FIRST_ARG",negative],["NUM","FIRST_ARG",()=>display=key],["DOT","FIRST_ARG_FLOAT",()=>display="0."],["EQ","EQ",eq0],["OP","OP",op1],["CE","START",clear]]},{next_state,transition}=(0,_state_machine__WEBPACK_IMPORTED_MODULE_1__.a)(state_machine,_state,event);return _state=next_state||_state,transition&&transition(),{_state,op,arg1,arg2,display,stack}},update={"#calculator":t=>t},__WEBPACK_DEFAULT_EXPORT__=t=>new _src_apprun__WEBPACK_IMPORTED_MODULE_0__.Component(state,view,update).mount(t)},739:(t,e,n)=>{n.d(e,{a:()=>o});const o=(t,e,n)=>{const o=t[e];if(!o)throw new Error(`No state: ${o} found in state machine`);const a=o.find((t=>t[0]===n));return a?{next_state:a[1],transition:a[2]}:{}}},859:(t,e,n)=>{n.d(e,{A:()=>i,q:()=>a});var o=n(672);class a{constructor(){this._events={}}on(t,e,n={}){this._events[t]=this._events[t]||[],this._events[t].push({fn:e,options:n})}off(t,e){const n=this._events[t]||[];this._events[t]=n.filter((t=>t.fn!==e))}find(t){return this._events[t]}run(t,...e){const n=this.getSubscribers(t,this._events);return console.assert(n&&n.length>0,"No subscriber for event: "+t),n.forEach((n=>{const{fn:o,options:a}=n;if(!o||"function"!=typeof o)return console.error(`AppRun event handler for '${t}' is not a function:`,o),!1;if(a.delay)this.delay(t,o,e,a);else try{Object.keys(a).length>0?o.apply(this,[...e,a]):o.apply(this,e)}catch(e){console.error(`Error in event handler for '${t}':`,e)}return!n.options.once})),n.length}once(t,e,n={}){this.on(t,e,Object.assign(Object.assign({},n),{once:!0}))}delay(t,e,n,o){o._t&&clearTimeout(o._t),o._t=setTimeout((()=>{clearTimeout(o._t);try{Object.keys(o).length>0?e.apply(this,[...n,o]):e.apply(this,n)}catch(e){console.error(`Error in delayed event handler for '${t}':`,e)}}),o.delay)}runAsync(t,...e){const n=this.getSubscribers(t,this._events);console.assert(n&&n.length>0,"No subscriber for event: "+t);const o=n.map((n=>{const{fn:o,options:a}=n;if(!o||"function"!=typeof o)return console.error(`AppRun async event handler for '${t}' is not a function:`,o),Promise.resolve(null);try{return Object.keys(a).length>0?o.apply(this,[...e,a]):o.apply(this,e)}catch(e){return console.error(`Error in async event handler for '${t}':`,e),Promise.reject(e)}}));return Promise.all(o)}query(t,...e){return console.warn("app.query() is deprecated. Use app.runAsync() instead."),this.runAsync(t,...e)}getSubscribers(t,e){const n=e[t]||[];return e[t]=n.filter((t=>!t.options.once)),Object.keys(e).filter((e=>e.endsWith("*")&&t.startsWith(e.replace("*","")))).sort(((t,e)=>e.length-t.length)).forEach((o=>n.push(...e[o].map((e=>Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{event:t})})))))),n}}const l=o.C;let s;const r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};r.app&&r._AppRunVersions?s=r.app:(s=new a,r.app=s,r._AppRunVersions=l);const i=s},72:(t,e,n)=>{var o=n(859);function a(t){return t.map((t=>s(t))).join("")}function l(t){for(var e in t)null==t[e]?delete t[e]:"object"==typeof t[e]&&l(t[e])}function s(t){if(!t)return"";if(t._$litType$)return t.toString();if(l(t),Array.isArray(t))return a(t);if("string"==typeof t)return t.startsWith("_html:")?t.substring(6):t;if(t.tag){const e=t.props?function(t){return Object.keys(t).map((e=>{return` ${"className"===e?"class":e}="${n=t[e],"object"==typeof n?Object.keys(n).map((t=>`${t}:${n[t]}`)).join(";"):n.toString()}"`;var n})).join("")}(t.props):"",n=t.children?a(t.children):"";return`<${t.tag}${e}>${n}</${t.tag}>`}return"object"==typeof t?JSON.stringify(t):void 0}const r=s;let i;function u(t){i=window.open("",t),i.document.write(`<html>\n  <title>AppRun Analyzer | ${document.location.href}</title>\n  <style>\n    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI" }\n  </style>\n  <body><pre>`)}function c(t){i.document.write(t+"\n")}function p(){i.document.write("</pre>\n  </body>\n  </html>"),i.document.close()}app.debug=!0;const d=t=>{c(`import ${t.constructor.name} from '../src/${t.constructor.name}'`),c(`describe('${t.constructor.name}', ()=>{`),t._actions.forEach((e=>{"."!==e.name&&(c(`  it ('should handle event: ${e.name}', (done)=>{`),c(`    const component = new ${t.constructor.name}().mount();`),c(`    component.run('${e.name}');`),c("    setTimeout(() => {"),c("      //expect(?).toHaveBeenCalled();"),c("      //expect(component.state).toBe(?);"),c("    done();"),c("  })"))})),c("});")};let h=!1,m=[];app.on("debug",(t=>{h&&t.vdom&&(m.push(t),console.log(`* ${m.length} state(s) recorded.`))}));var f;function _(t){const e={get(t,e,n){const o=Reflect.get(t,e,n);return"object"==typeof o&&null!==o?Array.isArray(o)?o.map((t=>_(t))):_(o):`{${e}}`}};return Array.isArray(t)?t.map((t=>_(t))):new Proxy(t,e)}function g(t){let e;if("object"==typeof t.state){const n=_(t.state);e=t.view(n)}else e=t.view(t.state);return e}function v(t){const e=window.open("","_apprun_debug","toolbar=0");e.document.write(`<html>\n  <title>AppRun Analyzer | ${document.location.href}</title>\n  <style>\n    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI" }\n    li { margin-left: 80px; }\n  </style>\n  <body>\n  <div id="main">${t}</div>\n  <\/script>\n  </body>\n  </html>`),e.document.close()}o.A.debug=!0,window["_apprun-help"]=["",()=>{Object.keys(window).forEach((t=>{t.startsWith("_apprun-")&&("_apprun-help"===t?console.log("AppRun Commands:"):console.log(`* ${t.substring(8)}: ${window[t][0]}`))}))}];const y=()=>{const t={components:{}};o.A.run("get-components",t);const{components:e}=t;return e};let b=Number(null===(f=null===window||void 0===window?void 0:window.localStorage)||void 0===f?void 0:f.getItem("__apprun_debugging__"))||0;if(o.A.on("debug",(t=>{1&b&&t.event&&console.log(t),2&b&&t.vdom&&console.log(t)})),window["_apprun-components"]=["components [print]",t=>{(t=>{const e=y(),n=[];if(e instanceof Map)for(let[t,o]of e){const e="string"==typeof t?document.getElementById(t)||document.querySelector(t):t;n.push({element:e,comps:o})}else Object.keys(e).forEach((t=>{const o="string"==typeof t?document.getElementById(t)||document.querySelector(t):t;n.push({element:o,comps:e[t]})}));if(t){const t=(t=>{const e=({components:t})=>o.A.h("ul",null,t.map((t=>{const e=g(t),n=t._actions.map((t=>t.name)),a={state:t.state,view:e,actions:n,update:t.update};return o.A.h("li",null,o.A.h("div",null,t.constructor.name),o.A.h("div",null,o.A.h("pre",null,(l=JSON.stringify(a,null,2))?l.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):l)),o.A.h("br",null));var l})));return o.A.h("ul",null,t.map((({element:t,comps:n})=>o.A.h("li",null,o.A.h("div",null,(t=>o.A.h("div",null,t.tagName.toLowerCase(),t.id?"#"+t.id:""," ",t.className&&t.className.split(" ").map((t=>"."+t)).join()))(t)),o.A.h(e,{components:n})))))})(n);v(r(t))}else n.forEach((({element:t,comps:e})=>console.log(t,e)))})("print"===t)}],window["_apprun-events"]=["events [print]",t=>{(t=>{const e=o.A._events,n={},a=y(),l=t=>t._actions.forEach((e=>{n[e.name]=n[e.name]||[],n[e.name].push(t)}));if(a instanceof Map)for(let[t,e]of a)e.forEach(l);else Object.keys(a).forEach((t=>a[t].forEach(l)));const s=[];if(Object.keys(n).forEach((t=>{s.push({event:t,components:n[t],global:!!e[t]})})),s.sort(((t,e)=>t.event>e.event?1:-1)).map((t=>t.event)),t){const t=(t=>{const e=({components:t})=>o.A.h("ul",null,t.map((t=>o.A.h("li",null,o.A.h("div",null,t.constructor.name))))),n=({events:t,global:n})=>o.A.h("ul",null,t&&t.filter((t=>t.global===n&&"."!==t.event)).map((({event:t,components:n})=>o.A.h("li",null,o.A.h("div",null,t),o.A.h(e,{components:n})))));return o.A.h("div",null,o.A.h("div",null,"GLOBAL EVENTS"),o.A.h(n,{events:t,global:!0}),o.A.h("div",null,"LOCAL EVENTS"),o.A.h(n,{events:t,global:!1}))})(s);v(r(t))}else console.log("=== GLOBAL EVENTS ==="),s.filter((t=>t.global&&"."!==t.event)).forEach((({event:t,components:e})=>console.log({event:t},e))),console.log("=== LOCAL EVENTS ==="),s.filter((t=>!t.global&&"."!==t.event)).forEach((({event:t,components:e})=>console.log({event:t},e)))})("print"===t)}],window["_apprun-log"]=["log [event|view] on|off",(t,e)=>{var n;"on"===t?b=3:"off"===t?b=0:"event"===t?"on"===e?b|=1:"off"===e&&(b&=-2):"view"===t&&("on"===e?b|=2:"off"===e&&(b&=-3)),console.log(`* log ${t} ${e||""}`),null===(n=null===window||void 0===window?void 0:window.localStorage)||void 0===n||n.setItem("__apprun_debugging__",`${b}`)}],window["_apprun-create-event-tests"]=["create-event-tests",()=>(()=>{const t={components:{}};app.run("get-components",t);const{components:e}=t;if(u(""),e instanceof Map)for(let[t,n]of e)n.forEach(d);else Object.keys(e).forEach((t=>{e[t].forEach(d)}));p()})()],window["_apprun-create-state-tests"]=["create-state-tests <start|stop>",t=>(t=>{"start"===t?(m=[],h=!0,console.log("* State logging started.")):"stop"===t?(0!==m.length?(u(""),m.forEach(((t,e)=>{c(`  it ('view snapshot: #${e+1}', ()=>{`),c(`    const component = new ${t.component.constructor.name}()`),c(`    const state = ${JSON.stringify(t.state,void 0,2)};`),c("    const vdom = component['view'](state);"),c("    expect(JSON.stringify(vdom)).toMatchSnapshot();"),c("  })")})),p()):console.log("* No state recorded."),h=!1,m=[],console.log("* State logging stopped.")):console.log("create-state-tests <start|stop>")})(t)],window._apprun=t=>{const[e,...n]=t[0].split(" ").filter((t=>!!t)),o=window[`_apprun-${e}`];o?o[1](...n):window["_apprun-help"][1]()},console.info('AppRun DevTools 2.27: type "_apprun `help`" to list all available commands.'),window.__REDUX_DEVTOOLS_EXTENSION__){let t=!1;const e=window.__REDUX_DEVTOOLS_EXTENSION__.connect();if(e){const n=location.hash||"#";e.send(n,"");const a=[{component:null,state:""}];console.info("Connected to the Redux DevTools"),e.subscribe((e=>{if("START"===e.type)t=!0;else if("STOP"===e.type)t=!1;else if("DISPATCH"===e.type){const t=e.payload.index;if(0===t)o.A.run(n);else{const{component:e,state:n}=a[t];null==e||e.setState(n)}}}));const l=(t,n,o)=>{null!=o&&(a.push({component:t,state:o}),e.send(n,o))};o.A.on("debug",(e=>{if(t&&e.event){const t=e.newState,n={type:e.event,payload:e.p},o=e.component;t instanceof Promise?t.then((t=>l(o,n,t))):l(o,n,t)}}))}}},14:(t,e,n)=>{n.d(e,{Component:()=>o.Component,html:()=>O.qy,run:()=>j,svg:()=>O.JW});var o=n(466),a=n(634),l=n(593);const s=globalThis,r=s.ShadowRoot&&(void 0===s.ShadyCSS||s.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,i=Symbol(),u=new WeakMap;class c{constructor(t,e,n){if(this._$cssResult$=!0,n!==i)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(r&&void 0===t){const n=void 0!==e&&1===e.length;n&&(t=u.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&u.set(e,t))}return t}toString(){return this.cssText}}const p=(t,e)=>{if(r)t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const n of e){const e=document.createElement("style"),o=s.litNonce;void 0!==o&&e.setAttribute("nonce",o),e.textContent=n.cssText,t.appendChild(e)}},d=r?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return(t=>new c("string"==typeof t?t:t+"",void 0,i))(e)})(t):t,{is:h,defineProperty:m,getOwnPropertyDescriptor:f,getOwnPropertyNames:_,getOwnPropertySymbols:g,getPrototypeOf:v}=Object,y=globalThis,b=y.trustedTypes,w=b?b.emptyScript:"",A=y.reactiveElementPolyfillSupport,C=(t,e)=>t,E={toAttribute(t,e){switch(e){case Boolean:t=t?w:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},$=(t,e)=>!h(t,e),k={attribute:!0,type:String,converter:E,reflect:!1,useDefault:!1,hasChanged:$};Symbol.metadata??=Symbol("metadata"),y.litPropertyMetadata??=new WeakMap;class S extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=k){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const n=Symbol(),o=this.getPropertyDescriptor(t,n,e);void 0!==o&&m(this.prototype,t,o)}}static getPropertyDescriptor(t,e,n){const{get:o,set:a}=f(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get:o,set(e){const l=o?.call(this);a?.call(this,e),this.requestUpdate(t,l,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??k}static _$Ei(){if(this.hasOwnProperty(C("elementProperties")))return;const t=v(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(C("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(C("properties"))){const t=this.properties,e=[..._(t),...g(t)];for(const n of e)this.createProperty(n,t[n])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,n]of e)this.elementProperties.set(t,n)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const n=this._$Eu(t,e);void 0!==n&&this._$Eh.set(n,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const t of n)e.unshift(d(t))}else void 0!==t&&e.push(d(t));return e}static _$Eu(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const n of e.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return p(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$ET(t,e){const n=this.constructor.elementProperties.get(t),o=this.constructor._$Eu(t,n);if(void 0!==o&&!0===n.reflect){const a=(void 0!==n.converter?.toAttribute?n.converter:E).toAttribute(e,n.type);this._$Em=t,null==a?this.removeAttribute(o):this.setAttribute(o,a),this._$Em=null}}_$AK(t,e){const n=this.constructor,o=n._$Eh.get(t);if(void 0!==o&&this._$Em!==o){const t=n.getPropertyOptions(o),a="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:E;this._$Em=o,this[o]=a.fromAttribute(e,t.type)??this._$Ej?.get(o)??null,this._$Em=null}}requestUpdate(t,e,n){if(void 0!==t){const o=this.constructor,a=this[t];if(n??=o.getPropertyOptions(t),!((n.hasChanged??$)(a,e)||n.useDefault&&n.reflect&&a===this._$Ej?.get(t)&&!this.hasAttribute(o._$Eu(t,n))))return;this.C(t,e,n)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,e,{useDefault:n,reflect:o,wrapped:a},l){n&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,l??e??this[t]),!0!==a||void 0!==l)||(this._$AL.has(t)||(this.hasUpdated||n||(e=void 0),this._$AL.set(t,e)),!0===o&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,n]of t){const{wrapped:t}=n,o=this[e];!0!==t||this._$AL.has(e)||void 0===o||this.C(e,void 0,n,o)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$EM()}catch(e){throw t=!1,this._$EM(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}S.elementStyles=[],S.shadowRootOptions={mode:"open"},S[C("elementProperties")]=new Map,S[C("finalized")]=new Map,A?.({ReactiveElement:S}),(y.reactiveElementVersions??=[]).push("2.1.0");var O=n(752);const x=globalThis;class T extends S{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=(0,O.XX)(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return O.c0}}T._$litElement$=!0,T.finalized=!0,x.litElementHydrateSupport?.({LitElement:T});const P=x.litElementPolyfillSupport;P?.({LitElement:T}),(x.litElementVersions??=[]).push("4.2.0");var M=n(804);class R extends M.WL{constructor(t){if(super(t),this.it=O.s6,t.type!==M.OA.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===O.s6||null==t)return this._t=void 0,this.it=t;if(t===O.c0)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this._t;this.it=t;const e=[t];return e.raw=e,this._t={_$litType$:this.constructor.resultType,strings:e,values:[]}}}R.directiveName="unsafeHTML",R.resultType=1;const D=(0,M.u$)(R);class L extends M.WL{constructor(t){if(super(t),t.type!==M.OA.EVENT)throw new Error("run() can only be used in event handlers")}update(t,e){const n=t.element,a=t.name,[l,...s]=e,r=()=>{let t=n,e=t._component;for(;!e&&t;)t=t.parentElement,e=t&&t._component;return console.assert(!!e,"Component not found."),e};return"string"==typeof l?n[`on${a}`]=t=>{const e=r();e?e.run(l,...s,t):o.default.run(l,...s,t)}:"function"==typeof l&&(n[`on${a}`]=t=>r().setState(l(r().state,...s,t))),this.render()}render(){return O.c0}}const j=(0,M.u$)(L);if(o.default.createElement=l.n,o.default.render=function(t,e,n){e&&("string"==typeof e?(t._$litPart$||t.replaceChildren(),(0,O.XX)(O.qy`${D(e)}`,t)):e._$litType$?(t._$litPart$||t.replaceChildren(),(0,O.XX)(e,t)):((0,l.cJ)(t,e,n),t._$litPart$=void 0))},o.default.Fragment=l.FK,"object"==typeof window){const t=window;(0,a.Q0)(t,{React:t._React||o.default,html:O.qy,svg:O.JW,run:j})}},466:(t,e,n)=>{n.d(e,{Component:()=>h,ROUTER_EVENT:()=>_,app:()=>o.A,default:()=>b,on:()=>i});var o=n(859),a=n(320);const l=(t,e={})=>class extends HTMLElement{constructor(){super()}get component(){return this._component}get state(){return this._component.state}static get observedAttributes(){return(e.observedAttributes||[]).map((t=>t.toLowerCase()))}connectedCallback(){if(this.isConnected&&!this._component){const n=e||{};this._shadowRoot=n.shadow?this.attachShadow({mode:"open"}):this;const o=n.observedAttributes||[],a=o.reduce(((t,e)=>{const n=e.toLowerCase();return n!==e&&(t[n]=e),t}),{});this._attrMap=t=>a[t]||t;const l={};Array.from(this.attributes).forEach((t=>l[this._attrMap(t.name)]=t.value)),o.forEach((t=>{void 0!==this[t]&&(l[t]=this[t]),Object.defineProperty(this,t,{get:()=>l[t],set(e){this.attributeChangedCallback(t,l[t],e)},configurable:!0,enumerable:!0})})),requestAnimationFrame((()=>{const e=this.children?Array.from(this.children):[];if(this._component=new t(Object.assign(Object.assign({},l),{children:e})).mount(this._shadowRoot,n),this._component._props=l,this._component.dispatchEvent=this.dispatchEvent.bind(this),this._component.mounted){const t=this._component.mounted(l,e,this._component.state);void 0!==t&&(this._component.state=t)}this.on=this._component.on.bind(this._component),this.run=this._component.run.bind(this._component),!1!==n.render&&this._component.run(".")}))}}disconnectedCallback(){var t,e,n,o;null===(e=null===(t=this._component)||void 0===t?void 0:t.unload)||void 0===e||e.call(t),null===(o=null===(n=this._component)||void 0===n?void 0:n.unmount)||void 0===o||o.call(n),this._component=null}attributeChangedCallback(t,n,o){if(this._component){const a=this._attrMap(t);this._component._props[a]=o,this._component.run("attributeChanged",a,n,o),o!==n&&!1!==e.render&&window.requestAnimationFrame((()=>{this._component.run(".")}))}}},s=(t,e,n)=>{"undefined"!=typeof customElements&&customElements.define(t,l(e,n))},r={meta:new WeakMap,defineMetadata(t,e,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[t]=e},getMetadataKeys(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata(t,e){return e=Object.getPrototypeOf(e),this.meta.get(e)?this.meta.get(e)[t]:null}};function i(t,e={}){return function(n,o){const a=t?t.toString():o;r.defineMetadata(`apprun-update:${a}`,{name:a,key:o,options:e},n)}}var u=n(741),c=n(634);const p=new Map;o.A.find("get-components")||o.A.on("get-components",(t=>t.components=p));const d=t=>t;class h{renderState(t,e=null){if(!this.view)return;let n=e||this.view(t);if(o.A.debug&&o.A.run("debug",{component:this,_:n?".":"-",state:t,vdom:n,el:this.element}),"object"!=typeof document)return;const a="string"==typeof this.element&&this.element?(0,c.oP)(this.element)||(0,c.bV)(this.element):this.element;if(!a)return void console.warn(`Component element not found: ${this.element}`);const l="_c";this.unload?a._component===this&&a.getAttribute(l)===this.tracking_id||(this.tracking_id=(new Date).valueOf().toString(),a.setAttribute(l,this.tracking_id),"undefined"!=typeof MutationObserver&&(this.observer||(this.observer=new MutationObserver((t=>{t[0].oldValue!==this.tracking_id&&document.body.contains(a)||(this.unload(this.state),this.observer.disconnect(),this.observer=null)}))),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[l]}))):a.removeAttribute&&a.removeAttribute(l),a._component=this,!e&&n&&(n=(0,u.A)(n,this),this.options.transition&&document&&document.startViewTransition?document.startViewTransition((()=>o.A.render(a,n,this))):o.A.render(a,n,this)),this.rendered&&this.rendered(this.state)}setState(t,e={render:!0,history:!1}){const n=t;if(null==n?void 0:n[Symbol.asyncIterator])this.setState((async t=>{try{for(;;){const{value:n,done:o}=await t.next();if(o)break;this.setState(n,e)}}catch(t){console.error("Error in async iterator:",t)}})(n[Symbol.asyncIterator]()),e);else if((null==n?void 0:n[Symbol.iterator])&&"function"==typeof n.next)for(const t of n)this.setState(t,e);else if(t&&t instanceof Promise)Promise.resolve(t).then((n=>{this.setState(n,e),this._state=t}));else{if(this._state=t,null==t)return;this.state=t,!1!==e.render&&(e.transition&&document&&document.startViewTransition?document.startViewTransition((()=>this.renderState(t))):this.renderState(t)),!1!==e.history&&this.enable_history&&(this._history=[...this._history,t],this._history_idx=this._history.length-1),"function"==typeof e.callback&&e.callback(this.state)}}constructor(t,e,n,a){this.state=t,this.view=e,this.update=n,this.options=a,this._app=new o.q,this._actions=[],this._global_events=[],this._history=[],this._history_idx=-1,this._history_prev=()=>{this._history_idx--,this._history_idx>=0?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=0},this._history_next=()=>{this._history_idx++,this._history_idx<this._history.length?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=this._history.length-1},this.start=(t=null,e)=>{if(this.mount(t,Object.assign({render:!0},e)),this.mounted&&"function"==typeof this.mounted){const t=this.mounted({},[],this.state);void 0!==t&&this.setState(t)}return this}}mount(t=null,e){var n,a;return console.assert(!this.element,"Component already mounted."),this.options=e=Object.assign(Object.assign({},this.options),e),this.element=t,this.global_event=e.global_event,this.enable_history=!!e.history,this.enable_history&&(this.on(e.history.prev||"history-prev",this._history_prev),this.on(e.history.next||"history-next",this._history_next)),e.route&&(this.update=this.update||{},this.update[e.route]||(this.update[e.route]=d)),this.add_actions(),this.state=null!==(a=null!==(n=this.state)&&void 0!==n?n:this.model)&&void 0!==a?a:{},"function"==typeof this.state&&(this.state=this.state()),this.setState(this.state,{render:!!e.render,history:!0}),o.A.debug&&(p.get(t)?p.get(t).push(this):p.set(t,[this])),this}is_global_event(t){return t&&(this.global_event||this._global_events.indexOf(t)>=0||t.startsWith("#")||t.startsWith("/")||t.startsWith("@"))}add_action(t,e,n={}){e&&"function"==typeof e?(n.global&&this._global_events.push(t),this.on(t,((...a)=>{o.A.debug&&o.A.run("debug",{component:this,_:">",event:t,p:a,current_state:this.state,options:n});try{const l=e(this.state,...a);o.A.debug&&o.A.run("debug",{component:this,_:"<",event:t,p:a,newState:l,state:this.state,options:n}),this.setState(l,n)}catch(e){console.error(`Error in component action '${t}':`,e),o.A.debug&&o.A.run("debug",{component:this,_:"!",event:t,p:a,error:e,state:this.state,options:n})}}),n)):console.warn(`Component action for '${t}' is not a valid function:`,e)}add_actions(){const t=this.update||{};r.getMetadataKeys(this).forEach((e=>{if(e.startsWith("apprun-update:")){const n=r.getMetadata(e,this);t[n.name]=[this[n.key].bind(this),n.options]}}));const e={};Array.isArray(t)?t.forEach((t=>{const[n,o,a]=t;n.toString().split(",").forEach((t=>e[t.trim()]=[o,a]))})):Object.keys(t).forEach((n=>{const o=t[n];("function"==typeof o||Array.isArray(o))&&n.split(",").forEach((t=>e[t.trim()]=o))})),e["."]||(e["."]=d),Object.keys(e).forEach((t=>{const n=e[t];"function"==typeof n?this.add_action(t,n):Array.isArray(n)&&this.add_action(t,n[0],n[1])}))}run(t,...e){if(this.state instanceof Promise)return Promise.resolve(this.state).then((n=>{this.state=n,this.run(t,...e)}));{const n=t.toString();return this.is_global_event(n)?o.A.run(n,...e):this._app.run(n,...e)}}on(t,e,n){const a=t.toString();return this._actions.push({name:a,fn:e}),this.is_global_event(a)?o.A.on(a,e,n):this._app.on(a,e,n)}runAsync(t,...e){const n=t.toString();return this.is_global_event(n)?o.A.runAsync(n,...e):this._app.runAsync(n,...e)}query(t,...e){return console.warn("component.query() is deprecated. Use component.runAsync() instead."),this.runAsync(t,...e)}unmount(){var t;null===(t=this.observer)||void 0===t||t.disconnect(),this._actions.forEach((t=>{const{name:e,fn:n}=t;this.is_global_event(e)?o.A.off(e,n):this._app.off(e,n)}))}}function m(){const t=o.A.find("#");if(t&&t.length>0)return o.A.run("#"),void o.A.run(_,"#");const e=o.A.find("/");if(e&&e.length>0)return o.A.run("/"),void o.A.run(_,"/");const n=o.A.find("#/");if(n&&n.length>0)return o.A.run("#/"),void o.A.run(_,"#/");console.warn("No subscribers for event: "),o.A.run(g,""),o.A.run(_,"")}h.__isAppRunComponent=!0;const f=(t,...e)=>{if(!t||t===_||t===g)return;const n=o.A.find(t);n&&0!==n.length?o.A.run(t,...e):(console.warn(`No subscribers for event: ${t}`),o.A.run(g,t,...e)),o.A.run(_,t,...e)},_="//",g="///",v=t=>{o.A.lastUrl!==t&&(o.A.lastUrl=t,function(t){if(!t)return void m();t=function(t){return t&&"/"!==t&&"#"!==t&&"#/"!==t&&t.endsWith("/")?t.slice(0,-1):t}(t);const e=o.A.basePath;e&&(t=function(t,e){if(!e||"/"===e||""===e)return t;const n=e.startsWith("/")?e:"/"+e;if(t.startsWith(n)){const e=t.substring(n.length);return e.startsWith("/")?e:"/"+e}return t}(t,e));const n=function(t){return t?t.startsWith("#/")?t.substring(2).split("/"):t.startsWith("#")||t.startsWith("/")?t.substring(1).split("/"):t.split("/"):[]}(t);let a;!function(t){const e=t.filter(Boolean);e.length>11&&console.warn(`Deep route hierarchy detected: ${e.join("/")} (${e.length} levels)`)}(n),a=t.startsWith("#/")?"hash-slash":t.startsWith("#")?"hash":t.startsWith("/")?"path":"non-prefixed";const l=function(t,e){const n=[];for(let o=t.length;o>0;o--){const a=t.slice(0,o);let l="";switch(e){case"path":l="/"+a.join("/");break;case"hash":l="#"+a.join("/");break;case"hash-slash":l="#/"+a.join("/");break;case"non-prefixed":l=a.join("/")}n.push(l)}return n}(n,a),s=function(t,e){for(let n=0;n<t.length;n++){const a=t[n],l=o.A.find(a);if(l&&l.length>0){const o=t.length-n;return{eventName:a,parameters:e.slice(o)}}}return null}(l,n);if(s)f(s.eventName,...s.parameters);else if(l.length>0){const e=l[l.length-1];console.warn(`No subscribers for event: ${e}`),o.A.run(g,t),o.A.run(_,t)}else m()}(t))};var y=n(672);const b=o.A;if(!o.A.start){o.A.version=y.a,o.A.h=o.A.createElement=a.createElement,o.A.render=a.render,o.A.Fragment=a.Fragment,o.A.webComponent=s,o.A.safeHTML=a.safeHTML,o.A.start=(t,e,n,o,a)=>{const l=Object.assign({render:!0,global_event:!0},a),s=new h(e,n,o);return a&&a.rendered&&(s.rendered=a.rendered),a&&a.mounted&&(s.mounted=a.mounted),s.start(t,l),s},o.A.once=o.A.once||((t,e,n={})=>{o.A.on(t,e,Object.assign(Object.assign({},n),{once:!0}))}),o.A.query=o.A.query||o.A.runAsync;const t=t=>{};if(o.A.on("/",t),o.A.on("debug",(e=>t)),o.A.on(_,t),o.A.on(g,t),o.A.route=v,o.A.on("route",(t=>o.A.route&&o.A.route(t))),"object"==typeof document&&document.addEventListener("DOMContentLoaded",(()=>{const t=document.body.hasAttribute("apprun-no-init")||o.A["no-init-route"]||!1,e=o.A.find("#")||o.A.find("#/")||!1;window.addEventListener("hashchange",(()=>v(location.hash))),window.addEventListener("popstate",(()=>v(location.pathname))),e?!t&&v(location.hash):(!t&&(()=>{const t=o.A.basePath||"";let e=location.pathname;t&&e.startsWith(t)&&(e=e.substring(t.length),e.startsWith("/")||(e="/"+e)),v(e)})(),document.body.addEventListener("click",(t=>{const e=t.target;if(!e)return;const n="A"===e.tagName?e:e.closest("a");if(n&&n.origin===location.origin&&n.pathname){t.preventDefault();const e=(o.A.basePath||"")+n.pathname;history.pushState(null,"",e),v(n.pathname)}})))})),"object"==typeof window){const t=window;t.Component=h,t._React=t.React,t.React=o.A,t.on=i,t.customElement=function(t,e){return function(n){return s(t,n,e),n}},t.safeHTML=a.safeHTML}o.A.use_render=(t,e=0)=>{o.A.render=0===e?(e,n)=>t(n,e):(e,n)=>t(e,n)},o.A.use_react=(t,e)=>{if(t&&e)if("function"==typeof t.createElement)if(t.Fragment)if(o.A.h=o.A.createElement=t.createElement,o.A.Fragment=t.Fragment,t.version&&t.version.startsWith("18")){if(!e.createRoot||"function"!=typeof e.createRoot)return void console.error("AppRun use_react: ReactDOM.createRoot not found in React 18+");o.A.render=(t,n)=>{t&&void 0!==n&&(t._root||(t._root=e.createRoot(t)),t._root.render(n))}}else{if(!e.render||"function"!=typeof e.render)return void console.error("AppRun use_react: ReactDOM.render not found in legacy React");o.A.render=(t,n)=>e.render(n,t)}else console.error("AppRun use_react: Invalid React object - Fragment not found");else console.error("AppRun use_react: Invalid React object - createElement method not found");else console.error("AppRun use_react: React and ReactDOM parameters are required")}}},741:(t,e,n)=>{n.d(e,{A:()=>i});var o=n(859),a=n(634);const l=(t,e)=>(e?t.state[e]:t.state)||"",s=(t,e,n)=>{if(e){const o=t.state||{};o[e]=n,t.setState(o)}else t.setState(n)},r=(t,e)=>{if(Array.isArray(t))return t.map((t=>r(t,e)));{let{type:n,tag:i,props:u,children:c}=t;return i=i||n,c=c||(null==u?void 0:u.children),u&&Object.keys(u).forEach((t=>{t.startsWith("$")&&(((t,e,n,r)=>{if(t.startsWith("$on")){const n=e[t];if(t=t.substring(1),"boolean"==typeof n)e[t]=e=>r.run?r.run(t,e):o.A.run(t,e);else if("string"==typeof n)e[t]=t=>r.run?r.run(n,t):o.A.run(n,t);else if("function"==typeof n)e[t]=t=>r.setState(n(r.state,t));else if(Array.isArray(n)){const[a,...l]=n;"string"==typeof a?e[t]=t=>r.run?r.run(a,...l,t):o.A.run(a,...l,t):"function"==typeof a&&(e[t]=t=>r.setState(a(r.state,...l,t)))}}else if("$bind"===t){const o=e.type||"text",i="string"==typeof e[t]?e[t]:e.name;if("input"===n)switch(o){case"checkbox":e.checked=l(r,i),e.onclick=t=>{const e=(0,a.PB)(t);e&&s(r,i||e.name,e.checked)};break;case"radio":e.checked=l(r,i)===e.value,e.onclick=t=>{const e=(0,a.PB)(t);e&&s(r,i||e.name,e.value)};break;case"number":case"range":e.value=l(r,i),e.oninput=t=>{const e=(0,a.PB)(t);e&&s(r,i||e.name,Number(e.value))};break;default:e.value=l(r,i),e.oninput=t=>{const e=(0,a.PB)(t);e&&s(r,i||e.name,e.value)}}else"select"===n?(e.value=l(r,i),e.onchange=t=>{const e=(0,a.PB)(t);e&&!e.multiple&&s(r,i||e.name,e.value)}):"option"===n?(e.selected=l(r,i),e.onclick=t=>{const e=(0,a.PB)(t);e&&s(r,i||e.name,e.selected)}):"textarea"===n&&(e.innerHTML=l(r,i),e.oninput=t=>{const e=(0,a.PB)(t);e&&s(r,i||e.name,e.value)})}else o.A.run("$",{key:t,tag:n,props:e,component:r})})(t,u,i,e),delete u[t])})),c&&r(c,e),t}},i=r},634:(t,e,n)=>{function o(t){return(null==t?void 0:t.target)instanceof HTMLElement?t.target:null}function a(t,e){"object"==typeof t&&null!==t&&Object.keys(e).forEach((n=>{t[n]=e[n]}))}function l(t,e=document){try{return e.querySelector(t)}catch(e){return console.warn(`Invalid selector: ${t}`,e),null}}function s(t){try{return document.getElementById(t)}catch(e){return console.warn(`Error getting element by id: ${t}`,e),null}}n.d(e,{PB:()=>o,Q0:()=>a,bV:()=>l,oP:()=>s})},593:(t,e,n)=>{n.d(e,{FK:()=>V,n:()=>X,t_:()=>Z,cJ:()=>J});var o={};n.r(o),n.d(o,{boolean:()=>r,booleanish:()=>i,commaOrSpaceSeparated:()=>h,commaSeparated:()=>d,number:()=>c,overloadedBoolean:()=>u,spaceSeparated:()=>p});var a=n(741);class l{constructor(t,e){this.attribute=e,this.property=t}}l.prototype.attribute="",l.prototype.booleanish=!1,l.prototype.boolean=!1,l.prototype.commaOrSpaceSeparated=!1,l.prototype.commaSeparated=!1,l.prototype.defined=!1,l.prototype.mustUseProperty=!1,l.prototype.number=!1,l.prototype.overloadedBoolean=!1,l.prototype.property="",l.prototype.spaceSeparated=!1,l.prototype.space=void 0;let s=0;const r=m(),i=m(),u=m(),c=m(),p=m(),d=m(),h=m();function m(){return 2**++s}const f=Object.keys(o);class _ extends l{constructor(t,e,n,a){let l=-1;if(super(t,e),g(this,"space",a),"number"==typeof n)for(;++l<f.length;){const t=f[l];g(this,f[l],(n&o[t])===o[t])}}}function g(t,e,n){n&&(t[e]=n)}function v(t){return t.toLowerCase()}_.prototype.defined=!0;const y=/[A-Z]/g,b=/-[a-z]/g,w=/^data[-\w.:]+$/i;function A(t){return"-"+t.toLowerCase()}function C(t){return t.charAt(1).toUpperCase()}class E{constructor(t,e,n){this.normal=e,this.property=t,n&&(this.space=n)}}function $(t,e){const n={},o={};for(const e of t)Object.assign(n,e.property),Object.assign(o,e.normal);return new E(n,o,e)}function k(t){const e={},n={};for(const[o,a]of Object.entries(t.properties)){const l=new _(o,t.transform(t.attributes||{},o),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(l.mustUseProperty=!0),e[o]=l,n[v(o)]=o,n[v(l.attribute)]=o}return new E(e,n,t.space)}E.prototype.normal={},E.prototype.property={},E.prototype.space=void 0;const S=k({properties:{ariaActiveDescendant:null,ariaAtomic:i,ariaAutoComplete:null,ariaBusy:i,ariaChecked:i,ariaColCount:c,ariaColIndex:c,ariaColSpan:c,ariaControls:p,ariaCurrent:null,ariaDescribedBy:p,ariaDetails:null,ariaDisabled:i,ariaDropEffect:p,ariaErrorMessage:null,ariaExpanded:i,ariaFlowTo:p,ariaGrabbed:i,ariaHasPopup:null,ariaHidden:i,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:p,ariaLevel:c,ariaLive:null,ariaModal:i,ariaMultiLine:i,ariaMultiSelectable:i,ariaOrientation:null,ariaOwns:p,ariaPlaceholder:null,ariaPosInSet:c,ariaPressed:i,ariaReadOnly:i,ariaRelevant:null,ariaRequired:i,ariaRoleDescription:p,ariaRowCount:c,ariaRowIndex:c,ariaRowSpan:c,ariaSelected:i,ariaSetSize:c,ariaSort:null,ariaValueMax:c,ariaValueMin:c,ariaValueNow:c,ariaValueText:null,role:null},transform:(t,e)=>"role"===e?e:"aria-"+e.slice(4).toLowerCase()});function O(t,e){return e in t?t[e]:e}function x(t,e){return O(t,e.toLowerCase())}const T=k({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:d,acceptCharset:p,accessKey:p,action:null,allow:null,allowFullScreen:r,allowPaymentRequest:r,allowUserMedia:r,alt:null,as:null,async:r,autoCapitalize:null,autoComplete:p,autoFocus:r,autoPlay:r,blocking:p,capture:null,charSet:null,checked:r,cite:null,className:p,cols:c,colSpan:null,content:null,contentEditable:i,controls:r,controlsList:p,coords:c|d,crossOrigin:null,data:null,dateTime:null,decoding:null,default:r,defer:r,dir:null,dirName:null,disabled:r,download:u,draggable:i,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:r,formTarget:null,headers:p,height:c,hidden:u,high:c,href:null,hrefLang:null,htmlFor:p,httpEquiv:p,id:null,imageSizes:null,imageSrcSet:null,inert:r,inputMode:null,integrity:null,is:null,isMap:r,itemId:null,itemProp:p,itemRef:p,itemScope:r,itemType:p,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:r,low:c,manifest:null,max:null,maxLength:c,media:null,method:null,min:null,minLength:c,multiple:r,muted:r,name:null,nonce:null,noModule:r,noValidate:r,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:r,optimum:c,pattern:null,ping:p,placeholder:null,playsInline:r,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:r,referrerPolicy:null,rel:p,required:r,reversed:r,rows:c,rowSpan:c,sandbox:p,scope:null,scoped:r,seamless:r,selected:r,shadowRootClonable:r,shadowRootDelegatesFocus:r,shadowRootMode:null,shape:null,size:c,sizes:null,slot:null,span:c,spellCheck:i,src:null,srcDoc:null,srcLang:null,srcSet:null,start:c,step:null,style:null,tabIndex:c,target:null,title:null,translate:null,type:null,typeMustMatch:r,useMap:null,value:i,width:c,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:p,axis:null,background:null,bgColor:null,border:c,borderColor:null,bottomMargin:c,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:r,declare:r,event:null,face:null,frame:null,frameBorder:null,hSpace:c,leftMargin:c,link:null,longDesc:null,lowSrc:null,marginHeight:c,marginWidth:c,noResize:r,noHref:r,noShade:r,noWrap:r,object:null,profile:null,prompt:null,rev:null,rightMargin:c,rules:null,scheme:null,scrolling:i,standby:null,summary:null,text:null,topMargin:c,valueType:null,version:null,vAlign:null,vLink:null,vSpace:c,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:r,disableRemotePlayback:r,prefix:null,property:null,results:c,security:null,unselectable:null},space:"html",transform:x}),P=k({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:h,accentHeight:c,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:c,amplitude:c,arabicForm:null,ascent:c,attributeName:null,attributeType:null,azimuth:c,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:c,by:null,calcMode:null,capHeight:c,className:p,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:c,diffuseConstant:c,direction:null,display:null,dur:null,divisor:c,dominantBaseline:null,download:r,dx:null,dy:null,edgeMode:null,editable:null,elevation:c,enableBackground:null,end:null,event:null,exponent:c,externalResourcesRequired:null,fill:null,fillOpacity:c,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:d,g2:d,glyphName:d,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:c,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:c,horizOriginX:c,horizOriginY:c,id:null,ideographic:c,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:c,k:c,k1:c,k2:c,k3:c,k4:c,kernelMatrix:h,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:c,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:c,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:c,overlineThickness:c,paintOrder:null,panose1:null,path:null,pathLength:c,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:p,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:c,pointsAtY:c,pointsAtZ:c,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:h,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:h,rev:h,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:h,requiredFeatures:h,requiredFonts:h,requiredFormats:h,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:c,specularExponent:c,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:c,strikethroughThickness:c,string:null,stroke:null,strokeDashArray:h,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:c,strokeOpacity:c,strokeWidth:null,style:null,surfaceScale:c,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:h,tabIndex:c,tableValues:null,target:null,targetX:c,targetY:c,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:h,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:c,underlineThickness:c,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:c,values:null,vAlphabetic:c,vMathematical:c,vectorEffect:null,vHanging:c,vIdeographic:c,version:null,vertAdvY:c,vertOriginX:c,vertOriginY:c,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:c,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:O}),M=k({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(t,e)=>"xlink:"+e.slice(5).toLowerCase()}),R=k({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:x}),D=k({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(t,e)=>"xml:"+e.slice(3).toLowerCase()}),L=$([S,T,M,R,D],"html"),j=$([S,P,M,R,D],"svg"),U="_props",I=new Map;function N(t,e,n){!function(t){return null!=t&&!1!==t&&""!==t&&(!0===t||("string"==typeof t?"false"!==t.toLowerCase()&&"0"!==t:Boolean(t)))}(n)?t.removeAttribute(e):t.setAttribute(e,e)}function H(t,e,n){try{t[e]=n}catch(o){B(t,e,n,!1)}}function B(t,e,n,o){if(null==n)return void t.removeAttribute(e);const a=String(n);if(o&&e.includes(":")){const[n]=e.split(":");"xlink"===n?t.setAttributeNS("http://www.w3.org/1999/xlink",e,a):t.setAttribute(e,a)}else t.setAttribute(e,a)}function W(t,e,n,o){if(a=t,s=e,document.activeElement===a?["value","selectionStart","selectionEnd","selectionDirection"].includes(s):"scrollTop"===s||"scrollLeft"===s||a instanceof HTMLMediaElement&&["currentTime","paused","playbackRate","volume"].includes(s))return;var a,s;if("style"===e){if(t.style.cssText&&(t.style.cssText=""),"string"==typeof n)t.style.cssText=n;else if(n&&"object"==typeof n)for(const e in n)t.style[e]!==n[e]&&(t.style[e]=n[e]);return}if("key"===e)return void(null!=n&&(t.key=n));if(e.startsWith("data-"))return void function(t,e,n){const o=(a=e.slice(5)).length<=1?a.toLowerCase():a.split("-").map(((t,e)=>0===e?t.toLowerCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase())).join("");var a;null==n?delete t.dataset[o]:t.dataset[o]=String(n)}(t,e,n);if(e.startsWith("on"))return void function(t,e,n){e.startsWith("on")&&(n&&"function"!=typeof n?"string"==typeof n&&(n?t.setAttribute(e,n):t.removeAttribute(e)):t[e]=n)}(t,e,n);if(!("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&"SELECT"!==t.tagName||"value"!==e&&"selected"!==e&&"selectedIndex"!==e))return void H(t,e,n);if("INPUT"===t.tagName&&"checked"===e)return H(t,e,n),void N(t,e,n);const r=function(t,e){const n=`${t}:${e}`;let o=I.get(n);return void 0===o&&(o=function(t,e){const n=v(e);let o=e,a=l;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&w.test(e)){if("-"===e.charAt(4)){const t=e.slice(5).replace(b,C);o="data"+t.charAt(0).toUpperCase()+t.slice(1)}else{const t=e.slice(4);if(!b.test(t)){let n=t.replace(y,A);"-"!==n.charAt(0)&&(n="-"+n),e="data"+n}}a=_}return new a(o,e)}(e?j:L,t)||null,I.set(n,o)),o}(e,o);r?r.boolean||r.overloadedBoolean?N(t,r.attribute,n):r.mustUseProperty&&!o?H(t,r.property,n):B(t,r.attribute,n,o):e.startsWith("aria-")||"role"===e?B(t,e,n,o):e in t||void 0!==t[e]?H(t,e,n):B(t,e,n,o)}function F(t){return/^[a-zA-Z_:][\w\-:.]*$/.test(t)&&!t.includes("<")&&!t.includes(">")&&!t.includes('"')&&!t.includes("'")}function q(t,e,n){const o=function(t,e){if(e&&(e.class=e.class||e.className,delete e.className),!t||0===Object.keys(t).length)return e||{};if(!e||0===Object.keys(e).length){const e={};return Object.keys(t).forEach((t=>e[t]=null)),e}const n={};return Object.keys(t).forEach((t=>{t in e||(n[t]=null)})),Object.keys(e).forEach((t=>n[t]=e[t])),n}(t[U]||{},e);t[U]=e||{},function(t,e,n,o){for(const n in e)F(n)&&W(t,n,e[n],o);e&&"function"==typeof e.ref&&window.requestAnimationFrame((()=>e.ref(t)))}(t,o,0,n)}function V(t,...e){return z(e)}function z(t){const e=[],n=t=>{null!=t&&""!==t&&!1!==t&&e.push("function"==typeof t||"object"==typeof t?t:`${t}`)};return t&&t.forEach((t=>{Array.isArray(t)?t.forEach((t=>n(t))):n(t)})),e}const K={};let G=0;function X(t,e,...n){const o=z(n);if("string"==typeof t)return{tag:t,props:e,children:o};if(Array.isArray(t))return t;if(void 0===t&&n)return o;if(Object.getPrototypeOf(t).__isAppRunComponent)return{tag:t,props:e,children:o};if("function"==typeof t)return t(e,o);throw new Error(`Unknown tag in vdom ${t}`)}const J=(t,e,n={})=>{null!=e&&!1!==e&&function(t,e,n={}){if(null==e||!1===e)return;if(e=nt(e,n),!t)return;const o="SVG"===t.nodeName;Array.isArray(e)?Q(t,e,o):Q(t,[e],o)}("string"==typeof t&&t?document.getElementById(t)||document.querySelector(t):t,e=(0,a.A)(e,n),n)};function Y(t,e,n){n=n||"svg"===e.tag,function(t,e){const n=t.nodeName,o=`${e.tag||""}`;return n.toUpperCase()===o.toUpperCase()}(t,e)?(Q(t,e.children,n),q(t,e.props,n)):t.parentNode.replaceChild(et(e,n),t)}function Q(t,e,n){var o,a;const l=(null===(o=t.childNodes)||void 0===o?void 0:o.length)||0,s=(null==e?void 0:e.length)||0,r=Math.min(l,s);for(let o=0;o<r;o++){const a=e[o],l=t.childNodes[o];if("string"==typeof a)l.textContent!==a&&(3===l.nodeType?l.nodeValue=a:t.replaceChild(tt(a),l));else if(a instanceof HTMLElement||a instanceof SVGElement)t.insertBefore(a,l);else{const e=a.props&&a.props.key;if(e)if(l.key===e)Y(t.childNodes[o],a,n);else{const s=K[e];s?(t.insertBefore(s,l),Y(t.childNodes[o],a,n)):t.replaceChild(et(a,n),l)}else Y(t.childNodes[o],a,n)}}let i=(null===(a=t.childNodes)||void 0===a?void 0:a.length)||0;for(;i>r;)t.removeChild(t.lastChild),i--;if(s>r){const o=document.createDocumentFragment();for(let t=r;t<e.length;t++)o.appendChild(et(e[t],n));t.appendChild(o)}}const Z=t=>{const e=document.createElement("section");return e.insertAdjacentHTML("afterbegin",t),Array.from(e.children)};function tt(t){if(0===(null==t?void 0:t.indexOf("_html:"))){const e=document.createElement("div");return e.insertAdjacentHTML("afterbegin",t.substring(6)),e}return document.createTextNode(null!=t?t:"")}function et(t,e){if(t instanceof HTMLElement||t instanceof SVGElement)return t;if("string"==typeof t)return tt(t);if(!t.tag||"function"==typeof t.tag)return tt(JSON.stringify(t));const n=(e=e||"svg"===t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag);return q(n,t.props,e),t.children&&t.children.forEach((t=>n.appendChild(et(t,e)))),t.props&&void 0!==t.props.key&&(n.key=t.props.key,K[t.props.key]=n,++G>=500&&(function(){if(!(Object.keys(K).length<=1e3))for(const[t,e]of Object.entries(K))e.isConnected||delete K[t]}(),G=0)),n}function nt(t,e,n=0){var o;if("string"==typeof t)return t;if(Array.isArray(t))return t.map((t=>nt(t,e,n++)));let a=t;if(t&&"function"==typeof t.tag&&Object.getPrototypeOf(t.tag).__isAppRunComponent&&(a=function(t,e,n){const{tag:o,props:a,children:l}=t;let s=`_${n}`,r=a&&a.id;r?s=r:r=`_${n}${Date.now()}`;let i="section";a&&a.as&&(i=a.as,delete a.as),e.__componentCache||(e.__componentCache={});let u=e.__componentCache[s];if(u&&u instanceof o&&u.element)u.renderState(u.state);else{const t=document.createElement(i);u=e.__componentCache[s]=new o(Object.assign(Object.assign({},a),{children:l})).mount(t,{render:!0})}if(u.mounted){const t=u.mounted(a,l,u.state);void 0!==t&&u.setState(t)}return q(u.element,a,!1),u.element}(t,e,n)),a&&Array.isArray(a.children)){const t=null===(o=a.props)||void 0===o?void 0:o._component;if(t){let e=0;a.children=a.children.map((n=>nt(n,t,e++)))}else a.children=a.children.map((t=>nt(t,e,n++)))}return a}},320:(t,e,n)=>{n.d(e,{Fragment:()=>o.FK,createElement:()=>o.n,render:()=>o.cJ,safeHTML:()=>o.t_});var o=n(593)},672:(t,e,n)=>{n.d(e,{C:()=>a,a:()=>o});const o="3.36.1",a=`AppRun-${o}`},804:(t,e,n)=>{n.d(e,{OA:()=>o,WL:()=>l,u$:()=>a});const o={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},a=t=>(...e)=>({_$litDirective$:t,values:e});class l{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}},752:(t,e,n)=>{n.d(e,{JW:()=>$,XX:()=>F,c0:()=>k,ge:()=>B,qy:()=>E,s6:()=>S});const o=globalThis,a=o.trustedTypes,l=a?a.createPolicy("lit-html",{createHTML:t=>t}):void 0,s="$lit$",r=`lit$${Math.random().toFixed(9).slice(2)}$`,i="?"+r,u=`<${i}>`,c=document,p=()=>c.createComment(""),d=t=>null===t||"object"!=typeof t&&"function"!=typeof t,h=Array.isArray,m=t=>h(t)||"function"==typeof t?.[Symbol.iterator],f="[ \t\n\f\r]",_=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,g=/-->/g,v=/>/g,y=RegExp(`>|${f}(?:([^\\s"'>=/]+)(${f}*=${f}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),b=/'/g,w=/"/g,A=/^(?:script|style|textarea|title)$/i,C=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),E=C(1),$=C(2),k=(C(3),Symbol.for("lit-noChange")),S=Symbol.for("lit-nothing"),O=new WeakMap,x=c.createTreeWalker(c,129);function T(t,e){if(!h(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==l?l.createHTML(e):e}const P=(t,e)=>{const n=t.length-1,o=[];let a,l=2===e?"<svg>":3===e?"<math>":"",i=_;for(let e=0;e<n;e++){const n=t[e];let c,p,d=-1,h=0;for(;h<n.length&&(i.lastIndex=h,p=i.exec(n),null!==p);)h=i.lastIndex,i===_?"!--"===p[1]?i=g:void 0!==p[1]?i=v:void 0!==p[2]?(A.test(p[2])&&(a=RegExp("</"+p[2],"g")),i=y):void 0!==p[3]&&(i=y):i===y?">"===p[0]?(i=a??_,d=-1):void 0===p[1]?d=-2:(d=i.lastIndex-p[2].length,c=p[1],i=void 0===p[3]?y:'"'===p[3]?w:b):i===w||i===b?i=y:i===g||i===v?i=_:(i=y,a=void 0);const m=i===y&&t[e+1].startsWith("/>")?" ":"";l+=i===_?n+u:d>=0?(o.push(c),n.slice(0,d)+s+n.slice(d)+r+m):n+r+(-2===d?e:m)}return[T(t,l+(t[n]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),o]};class M{constructor({strings:t,_$litType$:e},n){let o;this.parts=[];let l=0,u=0;const c=t.length-1,d=this.parts,[h,m]=P(t,e);if(this.el=M.createElement(h,n),x.currentNode=this.el.content,2===e||3===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(o=x.nextNode())&&d.length<c;){if(1===o.nodeType){if(o.hasAttributes())for(const t of o.getAttributeNames())if(t.endsWith(s)){const e=m[u++],n=o.getAttribute(t).split(r),a=/([.?@])?(.*)/.exec(e);d.push({type:1,index:l,name:a[2],strings:n,ctor:"."===a[1]?U:"?"===a[1]?I:"@"===a[1]?N:j}),o.removeAttribute(t)}else t.startsWith(r)&&(d.push({type:6,index:l}),o.removeAttribute(t));if(A.test(o.tagName)){const t=o.textContent.split(r),e=t.length-1;if(e>0){o.textContent=a?a.emptyScript:"";for(let n=0;n<e;n++)o.append(t[n],p()),x.nextNode(),d.push({type:2,index:++l});o.append(t[e],p())}}}else if(8===o.nodeType)if(o.data===i)d.push({type:2,index:l});else{let t=-1;for(;-1!==(t=o.data.indexOf(r,t+1));)d.push({type:7,index:l}),t+=r.length-1}l++}}static createElement(t,e){const n=c.createElement("template");return n.innerHTML=t,n}}function R(t,e,n=t,o){if(e===k)return e;let a=void 0!==o?n._$Co?.[o]:n._$Cl;const l=d(e)?void 0:e._$litDirective$;return a?.constructor!==l&&(a?._$AO?.(!1),void 0===l?a=void 0:(a=new l(t),a._$AT(t,n,o)),void 0!==o?(n._$Co??=[])[o]=a:n._$Cl=a),void 0!==a&&(e=R(t,a._$AS(t,e.values),a,o)),e}class D{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:n}=this._$AD,o=(t?.creationScope??c).importNode(e,!0);x.currentNode=o;let a=x.nextNode(),l=0,s=0,r=n[0];for(;void 0!==r;){if(l===r.index){let e;2===r.type?e=new L(a,a.nextSibling,this,t):1===r.type?e=new r.ctor(a,r.name,r.strings,this,t):6===r.type&&(e=new H(a,this,t)),this._$AV.push(e),r=n[++s]}l!==r?.index&&(a=x.nextNode(),l++)}return x.currentNode=c,o}p(t){let e=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class L{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,n,o){this.type=2,this._$AH=S,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cv=o?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=R(this,t,e),d(t)?t===S||null==t||""===t?(this._$AH!==S&&this._$AR(),this._$AH=S):t!==this._$AH&&t!==k&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):m(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==S&&d(this._$AH)?this._$AA.nextSibling.data=t:this.T(c.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:n}=t,o="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=M.createElement(T(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===o)this._$AH.p(e);else{const t=new D(o,this),n=t.u(this.options);t.p(e),this.T(n),this._$AH=t}}_$AC(t){let e=O.get(t.strings);return void 0===e&&O.set(t.strings,e=new M(t)),e}k(t){h(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,o=0;for(const a of t)o===e.length?e.push(n=new L(this.O(p()),this.O(p()),this,this.options)):n=e[o],n._$AI(a),o++;o<e.length&&(this._$AR(n&&n._$AB.nextSibling,o),e.length=o)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class j{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,n,o,a){this.type=1,this._$AH=S,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=a,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=S}_$AI(t,e=this,n,o){const a=this.strings;let l=!1;if(void 0===a)t=R(this,t,e,0),l=!d(t)||t!==this._$AH&&t!==k,l&&(this._$AH=t);else{const o=t;let s,r;for(t=a[0],s=0;s<a.length-1;s++)r=R(this,o[n+s],e,s),r===k&&(r=this._$AH[s]),l||=!d(r)||r!==this._$AH[s],r===S?t=S:t!==S&&(t+=(r??"")+a[s+1]),this._$AH[s]=r}l&&!o&&this.j(t)}j(t){t===S?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class U extends j{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===S?void 0:t}}class I extends j{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==S)}}class N extends j{constructor(t,e,n,o,a){super(t,e,n,o,a),this.type=5}_$AI(t,e=this){if((t=R(this,t,e,0)??S)===k)return;const n=this._$AH,o=t===S&&n!==S||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,a=t!==S&&(n===S||o);o&&this.element.removeEventListener(this.name,this,n),a&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class H{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){R(this,t)}}const B={M:s,P:r,A:i,C:1,L:P,R:D,D:m,V:R,I:L,H:j,N:I,U:N,B:U,F:H},W=o.litHtmlPolyfillSupport;W?.(M,L),(o.litHtmlVersions??=[]).push("3.3.0");const F=(t,e,n)=>{const o=n?.renderBefore??e;let a=o._$litPart$;if(void 0===a){const t=n?.renderBefore??null;o._$litPart$=a=new L(e.insertBefore(p(),t),t,void 0,n??{})}return a._$AI(t),a}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={},apprun=__webpack_require__(466);let _element;const HTML=({url:t})=>{_element.innerHTML="<div></div>",$(_element.firstChild).load(t)};apprun.default.on("#",(()=>apprun.default.render(_element,apprun.default.h(HTML,{url:"demo/home.html"})))),apprun.default.on("#new",(()=>apprun.default.render(_element,apprun.default.h(HTML,{url:"demo/new.html"}))));const home=t=>_element=t,model=0,view=t=>apprun.default.h("div",null,apprun.default.h("h1",null,t),apprun.default.h("button",{$onclick:"DECREASE"},"-1"),apprun.default.h("button",{$onclick:"INCREASE"},"+1")),update={"#counter":t=>t,INCREASE:t=>t+1,DECREASE:t=>t-1},counter=t=>apprun.default.start(t,model,view,update,{render:!1}),counters_model=[],Counter=({num:t,idx:e})=>apprun.default.h("div",null,apprun.default.h("h1",null,t),apprun.default.h("button",{onclick:()=>apprun.default.run("-1",e)},"-1"),apprun.default.h("button",{onclick:()=>apprun.default.run("+1",e)},"+1"),apprun.default.h("button",{onclick:()=>apprun.default.run("remove-counter",e)},"x")),CounterList=({counters:t})=>t.map(((t,e)=>apprun.default.h(Counter,{num:t,idx:e}))),counters_view=t=>(console.log(t),apprun.default.h("div",null,apprun.default.h("div",null,apprun.default.h("button",{onclick:()=>apprun.default.run("history-prev")}," << "),apprun.default.h("button",{onclick:()=>apprun.default.run("history-next")}," >> "),apprun.default.h("button",{onclick:()=>apprun.default.run("add-counter")},"add counter"),apprun.default.h("button",{onclick:()=>apprun.default.run("remove-counter",t.length-1),disabled:t.length<=0},"remove counter")),apprun.default.h("br",null),apprun.default.h(CounterList,{counters:t}))),counters_update={"#counters":t=>t,"add-counter":t=>[...t,0],"remove-counter":(t,e)=>[...t.slice(0,e),...t.slice(e+1)],"+1":(t,e)=>[...t.slice(0,e),t[e]+1,...t.slice(e+1)],"-1":(t,e)=>[...t.slice(0,e),t[e]-1,...t.slice(e+1)]},counters=t=>apprun.default.start(t,counters_model,counters_view,counters_update,{history:!0,render:!1});class DragDemo extends apprun.Component{constructor(){super(...arguments),this.model={dragging:!1,position:{x:100,y:100},start:{x:0,y:0}},this.view=t=>{const e={userSelect:"none",cursor:"move",position:"absolute",padding:"50px",border:"1px solid black",color:t.dragging?"gold":"white","background-color":"#3C8D2F",left:`${t.position.x}px`,top:`${t.position.y}px`};return apprun.app.h("div",{ref:e=>t.el=e,$onpointerdown:"drag",$onpointermove:"move",$onpointerup:"drop",style:e}," Drag me!")},this.update={"#dragdrop":t=>t,drag:(t,e)=>(e.target.setPointerCapture(e.pointerId),Object.assign(Object.assign({},t),{dragging:!0,start:{x:e.pageX,y:e.pageY}})),move:(t,e)=>{if(!t.dragging)return;const n={x:e.pageX,y:e.pageY},o={x:t.position.x+e.pageX-t.start.x,y:t.position.y+e.pageY-t.start.y};return Object.assign(Object.assign({},t),{start:n,position:o})},drop:(t,e)=>(e.target.releasePointerCapture(e.pointerId),Object.assign(Object.assign({},t),{dragging:!1}))},this.unload=({el:t})=>{console.log("dragdrop.unload"),t.onpointerdown=t.onpointerup=t.onpointermove=null}}}const dragdrop=t=>(new DragDemo).mount(t);var calculator=__webpack_require__(284),Filters;!function(t){t[t.all=0]="all",t[t.todo=1]="todo",t[t.done=2]="done"}(Filters||(Filters={}));const ENTER=13,todo_model={filter:0,todos:[]},Todo=({todo:t,idx:e})=>apprun.default.h("li",{onclick:()=>component.run("toggle",e),style:{color:t.done?"green":"red",textDecoration:t.done?"line-through":"none",cursor:"pointer"}},t.value),todo_view=t=>{const e=e=>({"font-weight":t.filter===e?"bold":"normal",cursor:"pointer"});return apprun.default.h("div",null,apprun.default.h("h1",null,"Todo"),apprun.default.h("div",null,apprun.default.h("span",null,"Show:"),apprun.default.h("span",null," ",apprun.default.h("a",{style:e(0),onclick:()=>component.run("filter",0)},"All"))," |",apprun.default.h("span",null," ",apprun.default.h("a",{style:e(1),onclick:()=>component.run("filter",1)},"Todo"))," |",apprun.default.h("span",null," ",apprun.default.h("a",{style:e(2),onclick:()=>component.run("filter",2)},"Done"))),apprun.default.h("ul",null,t.todos.filter((e=>0===t.filter||1===t.filter&&!e.done||2===t.filter&&e.done)).map(((t,e)=>apprun.default.h(Todo,{todo:t,idx:e})))),apprun.default.h("div",null,apprun.default.h("input",{id:"new-todo",placeholder:"add todo",onkeyup:t=>add(t.keyCode)}),apprun.default.h("button",{onclick:t=>add(ENTER)},"Add"),apprun.default.h("button",{onclick:()=>component.run("clear")},"Clear")),apprun.default.h("br",null),apprun.default.h("div",null,apprun.default.h("button",{onclick:()=>component.run("todo-undo")}," Undo "),apprun.default.h("button",{onclick:()=>component.run("todo-redo")}," Redo ")))},add=t=>{const e=document.getElementById("new-todo");t===ENTER&&e.value&&(component.run("add",e.value),e.value="")},todo_update={"#todo":t=>t,add:(t,e)=>Object.assign(Object.assign({},t),{todos:[...t.todos,{value:e,done:!1}]}),toggle:(t,e)=>Object.assign(Object.assign({},t),{todos:[...t.todos.slice(0,e),Object.assign(Object.assign({},t.todos[e]),{done:!t.todos[e].done}),...t.todos.slice(e+1)]}),filter:(t,e)=>Object.assign(Object.assign({},t),{filter:e}),clear:t=>Object.assign(Object.assign({},t),{todos:[]})};let component=new apprun.Component(todo_model,todo_view,todo_update);const todo=t=>component.mount(t,{history:{prev:"todo-undo",next:"todo-redo"}});var lit_html=__webpack_require__(752),directive=__webpack_require__(804);const{I:t}=lit_html.ge,i=t=>null===t||"object"!=typeof t&&"function"!=typeof t,n={HTML:1,SVG:2,MATHML:3},e=(t,e)=>void 0===e?void 0!==t?._$litType$:t?._$litType$===e,l=t=>null!=t?._$litType$?.h,c=t=>void 0!==t?._$litDirective$,d=t=>t?._$litDirective$,f=t=>void 0===t.strings,s=()=>document.createComment(""),directive_helpers_r=(e,n,o)=>{const a=e._$AA.parentNode,l=void 0===n?e._$AB:n._$AA;if(void 0===o){const n=a.insertBefore(s(),l),r=a.insertBefore(s(),l);o=new t(n,r,e,e.options)}else{const t=o._$AB.nextSibling,n=o._$AM,s=n!==e;if(s){let t;o._$AQ?.(e),o._$AM=e,void 0!==o._$AP&&(t=e._$AU)!==n._$AU&&o._$AP(t)}if(t!==l||s){let e=o._$AA;for(;e!==t;){const t=e.nextSibling;a.insertBefore(e,l),e=t}}}return o},directive_helpers_v=(t,e,n=t)=>(t._$AI(e,n),t),u={},directive_helpers_m=(t,e=u)=>t._$AH=e,directive_helpers_p=t=>t._$AH,M=t=>{t._$AP?.(!1,!0);let e=t._$AA;const n=t._$AB.nextSibling;for(;e!==n;){const t=e.nextSibling;e.remove(),e=t}},h=t=>{t._$AR()},repeat_u=(t,e,n)=>{const o=new Map;for(let a=e;a<=n;a++)o.set(t[a],a);return o},repeat_c=(0,directive.u$)(class extends directive.WL{constructor(t){if(super(t),t.type!==directive.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,e,n){let o;void 0===n?n=e:void 0!==e&&(o=e);const a=[],l=[];let s=0;for(const e of t)a[s]=o?o(e,s):s,l[s]=n(e,s),s++;return{values:l,keys:a}}render(t,e,n){return this.dt(t,e,n).values}update(t,[e,n,o]){const a=directive_helpers_p(t),{values:l,keys:s}=this.dt(e,n,o);if(!Array.isArray(a))return this.ut=s,l;const r=this.ut??=[],i=[];let u,c,p=0,d=a.length-1,h=0,m=l.length-1;for(;p<=d&&h<=m;)if(null===a[p])p++;else if(null===a[d])d--;else if(r[p]===s[h])i[h]=directive_helpers_v(a[p],l[h]),p++,h++;else if(r[d]===s[m])i[m]=directive_helpers_v(a[d],l[m]),d--,m--;else if(r[p]===s[m])i[m]=directive_helpers_v(a[p],l[m]),directive_helpers_r(t,i[m+1],a[p]),p++,m--;else if(r[d]===s[h])i[h]=directive_helpers_v(a[d],l[h]),directive_helpers_r(t,a[p],a[d]),d--,h++;else if(void 0===u&&(u=repeat_u(s,h,m),c=repeat_u(r,p,d)),u.has(r[p]))if(u.has(r[d])){const e=c.get(s[h]),n=void 0!==e?a[e]:null;if(null===n){const e=directive_helpers_r(t,a[p]);directive_helpers_v(e,l[h]),i[h]=e}else i[h]=directive_helpers_v(n,l[h]),directive_helpers_r(t,a[p],n),a[e]=null;h++}else M(a[d]),d--;else M(a[p]),p++;for(;h<=m;){const e=directive_helpers_r(t,i[m+1]);directive_helpers_v(e,l[h]),i[h++]=e}for(;p<=d;){const t=a[p++];null!==t&&M(t)}return this.ut=s,directive_helpers_m(t,i),lit_html.c0}});var apprun_html=__webpack_require__(14);let startTime,lastName;const startMeasure=function(t){lastName=t,startTime=performance.now()},stopMeasure=function(){window.setTimeout((function(){const t=performance.now(),e=lastName+" took "+(t-startTime).toFixed(2),n=document.getElementById("measure");n&&(n.innerHTML=e)}))};function _random(t){return Math.round(1e3*Math.random())%t}const adjectives=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],colours=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],nouns=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],state={data:[],selected:0};let id=1;function buildData(t){return new Array(t).fill(0).map((t=>({id:id++,label:`${adjectives[_random(adjectives.length)]} ${colours[_random(colours.length)]} ${nouns[_random(nouns.length)]}`})))}const store_update={run:()=>({data:buildData(1e3),selected:0}),add:t=>({data:t.data.concat(buildData(1e3)),selected:t.selected}),runlots:()=>({data:buildData(1e4),selected:0}),clear:()=>({data:[],selected:0}),update:t=>({data:t.data.map(((t,e)=>(e%10==0&&(t.label=`${t.label} !!!`),t))),selected:t.selected}),swaprows:t=>{if(t.data.length>4){const e=t.data.length-2,n=t.data[1];t.data[1]=t.data[e],t.data[e]=n}return t},select:(t,e)=>Object.assign(Object.assign({},t),{selected:e}),delete:(t,e)=>(t.selected==e&&(t.selected=0),t.data=t.data.filter((t=>t.id!=e)),t)},benchmark_lit_html_view=t=>{const e=t.selected;return apprun_html.html`<div class="container" @click=${(0,apprun_html.run)(click)}>
  <div class="row">lit-html</div>
  <div class="row">
    <button id="run">Create 1,000 rows</button>
    <button id="runlots">Create 10,000 rows</button>
    <button id="add">Append 1,000 rows</button>
    <button id="update">Update every 10th row</button>
    <button id="clear">Clear</button>
    <button id="swaprows">Swap Rows</button>
    <span class="pull-right" id="measure"></span>
  </div>
  <br />
  <table class="table table-hover table-striped test-data">
    <tbody>${repeat_c(t.data,(t=>t.id),(t=>apprun_html.html`
      <tr id=${t.id} class=${t.id===e?"danger":""}>
        <td class="col-md-1">${t.id}</td>
        <td class="col-md-4">
          <a class="lbl">${t.label}</a>
        </td>
        <td data-interaction='delete' class="col-md-1">
          <a>
            <span class="glyphicon glyphicon-remove remove" aria-hidden="true"></span>
          </a>
        </td>
        <td class="col-md-6"></td>
      </tr>`))}
    </tbody>
  </table>
  <span class="preloadicon glyphicon glyphicon-remove hidden" aria-hidden="true"></span>
</div>`},getId=t=>{const e=t.closest("tr");return parseInt(e.id)},click=(t,e)=>{const n=e.target;if(n)if(e.preventDefault(),"BUTTON"===n.tagName&&n.id)startMeasure(n.id),benchmark_lit_html_component.run(n.id),stopMeasure();else if(n.matches(".remove")){startMeasure("delete");const t=getId(n);benchmark_lit_html_component.run("delete",t),stopMeasure()}else if(n.matches("td")){startMeasure("select");const t=getId(n);benchmark_lit_html_component.run("select",t),stopMeasure()}},my_update=Object.assign({"#benchmark-lit-html":t=>t},store_update),benchmark_lit_html_component=new apprun_html.Component(state,benchmark_lit_html_view,my_update),benchmark_lit_html=t=>benchmark_lit_html_component.mount(t,{route:""}),benchmark_view=t=>apprun.app.h("div",{class:"container",$onclick:benchmark_click},apprun.app.h("div",{class:"row"},"JSX"),apprun.app.h("div",{class:"row"},apprun.app.h("button",{id:"run"},"Create 1,000 rows"),apprun.app.h("button",{id:"runlots"},"Create 10,000 rows"),apprun.app.h("button",{id:"add"},"Append 1,000 rows"),apprun.app.h("button",{id:"update"},"Update every 10th row"),apprun.app.h("button",{id:"clear"},"Clear"),apprun.app.h("button",{id:"swaprows"},"Swap Rows"),apprun.app.h("span",{class:"pull-right",id:"measure"})),apprun.app.h("br",null),apprun.app.h("table",{class:"table table-hover table-striped test-data",id:"main-table"},apprun.app.h("tbody",null,t.data.map((e=>{const n=e.id==t.selected?"danger":void 0;return apprun.app.h("tr",{class:n,id:e.id},apprun.app.h("td",{class:"col-md-1"},e.id),apprun.app.h("td",{class:"col-md-4"},apprun.app.h("a",{class:"lbl"},e.label)),apprun.app.h("td",{class:"col-md-1"},apprun.app.h("a",{class:"remove"},apprun.app.h("span",{class:"glyphicon glyphicon-remove remove","aria-hidden":"true"}))),apprun.app.h("td",{class:"col-md-6"}))})))),apprun.app.h("span",{class:"preloadicon glyphicon glyphicon-remove hidden","aria-hidden":"true"})),benchmark_getId=t=>{for(;t;){if("TR"===t.tagName)return t.id;t=t.parentNode}},benchmark_click=(t,e)=>{const n=e.target;if(n)if(e.preventDefault(),"BUTTON"===n.tagName&&n.id)startMeasure(n.id),benchmark_component.run(n.id),stopMeasure();else if(n.matches(".remove")){startMeasure("delete");const t=benchmark_getId(n);benchmark_component.run("delete",t),stopMeasure()}else if(n.matches("td")){startMeasure("select");const t=benchmark_getId(n);benchmark_component.run("select",t),stopMeasure()}},benchmark_my_update=Object.assign({"#benchmark":t=>t},store_update),benchmark_component=new apprun.Component(state,benchmark_view,benchmark_my_update),benchmark=t=>benchmark_component.mount(t);var __decorate=function(t,e,n,o){var a,l=arguments.length,s=l<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(s=(l<3?a(s):l>3?a(e,n,s):a(e,n))||s);return l>3&&s&&Object.defineProperty(e,n,s),s};class HelloComponent extends apprun.Component{constructor(){super(...arguments),this.model="world",this.view=t=>apprun.default.h("div",null,apprun.default.h("h1",null,"Hello: ",t),apprun.default.h("input",{autofocus:!0,oninput:t=>this.run("input",t)})),this.hello=t=>t,this.oninput=(t,e)=>e.target.value}}__decorate([(0,apprun.on)("#hello")],HelloComponent.prototype,"hello",void 0),__decorate([(0,apprun.on)("input")],HelloComponent.prototype,"oninput",void 0);class HelloStateComponent extends apprun.Component{constructor(){super(...arguments),this.model="world",this.view=t=>apprun.default.h("div",null,apprun.default.h("div",null,"Test push state"),apprun.default.h("h1",null,"Hello: ",t),apprun.default.h("input",{oninput:t=>this.run("input",t)})),this.hello=(t,e)=>e||t,this.oninput=(t,e)=>(history.pushState(null,null,"#hello-pushstate/"+e.target.value),e.target.value)}}__decorate([(0,apprun.on)("#hello-pushstate")],HelloStateComponent.prototype,"hello",void 0),__decorate([(0,apprun.on)("input")],HelloStateComponent.prototype,"oninput",void 0);class HelloDelayComponent extends apprun.Component{constructor(){super(...arguments),this.model="world",this.view=t=>apprun.default.h("div",null,apprun.default.h("div",null,"Test delayed event (1s)"),apprun.default.h("h1",null,"Hello: ",t),apprun.default.h("input",{oninput:t=>this.run("input",t)})),this.hello=t=>t,this.update={input:[(t,e)=>e.target.value,{delay:1e3,debug:!0}]}}}__decorate([(0,apprun.on)("#hello-delayed")],HelloDelayComponent.prototype,"hello",void 0);class HelloDirectiveComponent extends apprun.Component{constructor(){super(...arguments),this.model="world",this.view=t=>apprun.default.h("div",null,apprun.default.h("div",null,"Test directive"),apprun.default.h("h1",null,"Hello: ",t),apprun.default.h("table",null,apprun.default.h("tr",null,apprun.default.h("td",null,"Default event:"),apprun.default.h("td",null,"<input $oninput />"),apprun.default.h("td",null,apprun.default.h("input",{value:t,$oninput:!0}))),apprun.default.h("tr",null,apprun.default.h("td",null,"Named event:"),apprun.default.h("td",null,"<input $oninput='ev1' />"),apprun.default.h("td",null,apprun.default.h("input",{value:t,$oninput:"ev1"}))),apprun.default.h("tr",null,apprun.default.h("td",null,"Bind:"),apprun.default.h("td",null,"<input $bind />"),apprun.default.h("td",null,apprun.default.h("input",{value:t,$bind:!0}))))),this.hello=t=>t,this.oninput=(t,e)=>e.target.value}}__decorate([(0,apprun.on)("#hello-directive")],HelloDirectiveComponent.prototype,"hello",void 0),__decorate([(0,apprun.on)("oninput, ev1")],HelloDirectiveComponent.prototype,"oninput",void 0);const hello=t=>{(new HelloComponent).mount(t),(new HelloStateComponent).mount(t),(new HelloDelayComponent).mount(t),(new HelloDirectiveComponent).mount(t)},triangles=[{id:"yellow",rot:0},{id:"green",rot:60},{id:"magenta",rot:120},{id:"red",rot:180},{id:"cyan",rot:240},{id:"blue",rot:300}];class SvgComponent extends apprun_html.Component{constructor(){super(...arguments),this.state=0,this.view=t=>{const e=triangles.map((t=>apprun_html.svg`<polygon id="${t.id}"
        points="-50,-88 0,-175 50,-88"
        transform="rotate(${t.rot})"
        stroke-width="3" />`));return apprun_html.html`<div class="view">
      <h1>AppRun SVG Carousel</h1>
      <svg width="380" height="380" viewBox="-190,-190,380,380">
        <g id="carousel" style="transform: rotate(${t}deg);">
          ${e}
        </g>
      </svg>
      <button @click=${(0,apprun_html.run)("@rot+60")}>Rotate Clockwise</button>
      <button @click=${(0,apprun_html.run)("@rot-60")}>Rotate Anticlockwise</button>
      <button @click=${(0,apprun_html.run)("@reset")}>Reset</button>
      <div>It is a reimplementation of <a href="https://github.com/snabbdom/snabbdom/tree/master/examples/carousel-svg">a snabbdom example</a> by Jon Kleiser.</div>
    </div>`},this.update={"@rot+60":t=>t+60,"@rot-60":t=>t-60,"@reset":()=>0,"#svg":t=>t}}}let svg_component=new SvgComponent;const svg=t=>svg_component.mount(t);apprun.default.on("$",(({key:t,props:e})=>{if("$animation"===t){const n=e[t];"string"==typeof n&&(e.class=`animated ${n}`)}}));class AniComponent extends apprun.Component{constructor(){super(...arguments),this.state={animation:!0},this.view=t=>apprun.default.h(apprun.default.Fragment,null,apprun.default.h("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css"}),apprun.default.h("img",{$animation:t.animation&&"bounce infinite",src:"logo.png"}),apprun.default.h("div",{$animation:"bounceInRight"},apprun.default.h("button",{disabled:t.animation,$onclick:"start-animation"},"start"),apprun.default.h("button",{disabled:!t.animation,$onclick:"stop-animation"},"stop"))),this.update={"#animation":t=>t,"start-animation":t=>Object.assign(Object.assign({},t),{animation:!0}),"stop-animation":t=>Object.assign(Object.assign({},t),{animation:!1})}}}const animation=t=>(new AniComponent).mount(t),play_examples=[{name:"Hello World ($bind)",code:"// Hello World ($bind)\nconst state = '';\nconst view = state => <div>\n  <h1>Hello {state}</h1>\n  <input autofocus $bind />\n</div>;\napp.start(document.body, state, view);\n"},{name:"Hello World ($on)",code:"// Hello World ($on)\nconst state = '';\nconst view = state => <>\n  <h1>Hello {state}</h1>\n  <input $oninput={oninput}/>\n</>;\nconst oninput = (_, e) => e.target.value;\napp.start(document.body, state, view);\n"},{name:"Hello World (debounce)",code:"// Hello World (debounce)\nconst state = '';\nconst view = state => <>\n  <h1>Hello {state}</h1>\n  <input autofocus $oninput />\n</>;\nconst oninput = [(_, e) => e.target.value, { delay: 300 }];\napp.start(document.body, state, view, {oninput});\n"},{name:"Clock",code:"// Clock\nconst state = new Date();\nconst view = state => <h1>{state.toLocaleTimeString()}</h1>;\nconst timer = state => new Date();\nwindow.setInterval(() => { app.run('timer') }, 1000);\napp.start(document.body, state, view, {timer});\n"},{name:"Clock (Component Lifecycle)",code:"// Clock (Component Lifecycle)\nclass Clock extends Component {\n  id;\n  state = new Date();\n  view = state => <>\n    <h1>{state.toLocaleTimeString()}</h1>\n    <button onclick={()=>document.body.innerHTML=\"Clock deleted\"}>delete</button>\n  </>;\n  update = {\n    timer: state => new Date()\n  }\n  mounted = () => {\n    this.id = window.setInterval(() => { this.run('timer') }, 1000);\n    console.log('timer started');\n  }\n  unload = () => {\n    window.clearInterval(this.id);\n    console.log('timer cleared');\n  }\n}\napp.render(document.body, <Clock />);\n"},{name:"Stopwatch",code:"// Stopwatch\nconst state = {\n  id: null,\n  start: new Date(),\n  elapsed: '0'\n}\nconst view = state => <div>\n  <h1>{state.elapsed}</h1>\n  <button $onclick=\"start\">Start</button>\n  <button $onclick=\"stop\">Stop</button>\n</div>;\n\nconst update = {\n  start:state => {\n    state.start = new Date();\n    state.id = state.id || window.setInterval(() => { app.run('timer') }, 100);\n  },\n  stop: state => {\n    state.id = state.id && window.clearInterval(state.id) && false;\n  },\n  timer: state => {\n    state.elapsed = ((new Date() - state.start) / 1000).toFixed(3) + ' seconds';\n    return state\n  }\n};\napp.start(document.body, state, view, update);\n"},{name:"Counter (HTML)",code:"// Counter (HTML)\nconst state = 0;\nconst view = state => `<div>\n  <h1>${state}</h1>\n  <button onclick=\"app.run('-1')\">-1</button>\n  <button onclick=\"app.run('+1')\">+1</button>\n</div>`;\nconst update = {\n  '+1': state => state + 1,\n  '-1': state => state - 1\n};\napp.start(document.body, state, view, update);\n"},{name:"Counter (JSX)",code:"// Counter (JSX)\nconst state = 0;\nconst view = state => <div>\n  <h1>{state}</h1>\n  <button onclick={()=>app.run('-1')}>-1</button>\n  <button onclick={()=>app.run('+1')}>+1</button>\n</div>;\nconst update = {\n  '+1': state => state + 1,\n  '-1': state => state - 1\n};\napp.start(document.body, state, view, update);\n"},{name:"Counter ($onclick)",code:"// Counter ($onclick)\nconst state = 0;\nconst view = state => <div>\n  <h1>{state}</h1>\n  <button $onclick={state => state - 1}>+1</button>\n  <button $onclick={state => state + 1}>+1</button>\n</div>;\napp.start(document.body, state, view);\n  "},{name:"Counter (Web Component)",code:"// Counter (Web Component)\nclass Counter extends Component {\n  state = 0;\n  view = state => {\n    const add = (state, num) => state + num;\n    return <>\n      <h1>{state}</h1>\n      <button $onclick={[add, -1]}>-1</button>\n      <button $onclick={[add, +1]}>+1</button>\n      </>;\n  }\n}\napp.webComponent('my-app', Counter);\napp.render(document.body, <my-app />);\n"},{name:"Async fetch",code:"// Async fetch\nconst state = {};\nconst view = state => <>\n  <div><button $onclick=\"fetchComic\">fetch ...</button></div>\n  {state.loading && <div>loading ... </div>}\n  {state.comic && <img src={state.comic.img}/>}\n</>;\nconst update = {\n  'loading': (state, loading) => ({...state, loading }),\n  'fetchComic': async _ => {\n    app.run('loading', true);\n    const response = await fetch('https://xkcd-api.netlify.app');\n    const comic = await response.json();\n    return {comic};\n  }\n};\napp.start(document.body, state, view, update);\n"},{name:"Custom Directive",code:"// Animation Directive Using animate.css\napp.on('$', ({key, props}) => {\n  if (key === '$animation') {\n    const value = props[key];\n    if (typeof value === 'string') {\n      props.class = `animated ${value}`;\n    }\n  }\n});\n\nconst state = {\n  animation: true\n}\n\nconst start_animation = state => ({ animation: true })\nconst stop_animation = state => ({ animation: false })\n\nconst view = state => <>\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css\"></link>\n  <img $animation={state.animation && 'bounce infinite'} src='logo.png' />\n  <div $animation='bounceInRight'>\n    <button disabled={state.animation} $onclick={start_animation}>start</button>\n    <button disabled={!state.animation} $onclick={stop_animation}>stop</button>\n  </div>\n</>\n\napp.start(document.body, state, view);\n"},{name:"Ref - Examples",code:"// Ref - Examples\nconst focus = e => e.focus()\nconst edit = e => e.setAttribute('contenteditable', 'true');\nconst View = () => <>\n  <input ref={focus}/>\n  <hr />\n  <div ref={edit} style=\"height:100px; width:100%\">\n    This text is editable. Click to edit.\n  </div>\n</>;\n\napp.render(document.body, <View />);\n"},{name:"Child Components",code:"// Child Components\n\nclass Counter extends Component {\n  state = 0;\n  view = state => (\n    <div>\n      <h1>{state}</h1>\n      <button $onclick='-1'>-1</button>\n      <button $onclick='+1'>+1</button>\n    </div>\n  );\n  update = {\n    '+1': state => state + 1,\n    '-1': state => state - 1\n  };\n}\n\nclass App extends Component {\n  state = 0;\n  view = state => (\n    <div>\n      <button $onclick='+1'>{state}</button>\n      <hr/>\n      <Counter />\n      <Counter />\n      <Counter />\n    </div>\n  );\n  update = {\n    '+1': state => state + 1,\n  };\n}\n\nnew App().start(document.body);\n"},{name:"Element in JSX - canvas",code:"// Element in JSX - canvas\nconst View = () => {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext(\"2d\");\n  ctx.beginPath();\n  ctx.arc(95, 50, 40, 0, 2 * Math.PI);\n  ctx.stroke();\n  return <div>\n    {canvas}\n  </div>\n}\napp.render(document.body, <View/>);\n"},{name:"Shadow DOM",code:"// Shadow DOM\nconst Shadow = (_, children) => {\n  const el = document.createElement('section');\n  el.attachShadow({ mode: 'open' });\n  app.render(el.shadowRoot, children);\n  return <>{el}</>;\n};\n\nconst View = () => <>\n  <div>black</div>\n  <Shadow>\n    <style>{'div {color: red}'}</style>\n    <div>red</div>\n    <div>red</div>\n  </Shadow>\n  <div>black</div>\n</>\napp.render(document.body, <View />);\n"},{name:"Decorators",code:"// Decorators\n//@customElement decorator creates a web component\n@customElement('my-counter')\nclass Counter extends Component {\n  state = 0;\n\n  //@on decorator creates an event handler\n  @on('+') add = (state, delta) => state + delta;\n\n  view = state => <>\n    <h1>{state}</h1>\n    <button $onclick={['+', -1]}>-1</button>\n    <button $onclick={['+', +1]}>+1</button>\n  </>;\n}\n\n//now, create three web components\ndocument.body.append(document.createElement('my-counter'));\ndocument.body.append(document.createElement('my-counter'));\ndocument.body.append(document.createElement('my-counter'));\n"},{name:"Reactivity - getter",code:'// Reactivity - getter\nconst state = {\n  a: 1,\n  b: 2,\n  get c() {\n    return this.a + this.b;\n  }\n};\nconst view = ({a, b, c}) => <>\n  <input type="number" $bind="a" />\n  <input type="number" $bind="b" />\n  <p>{a} + {b} = { c }</p>\n</>;\napp.start(document.body, state, view);\n'},{name:"Reactivity - Proxy",code:"// Reactivity - Proxy\nconst handler = {\n  get: (target, name) => {\n    const text = target.text || '';\n    switch (name) {\n      case 'text': return target.text;\n      case 'characters': return text.replace(/\\s/g, '').length;\n      case 'words': return !text ? 0 : text.split(/\\s/).length;\n      case 'lines': return text.split('\\n').length;\n      default: return null\n    }\n  }\n};\nconst state = new Proxy(\n  { text: \"let's count\" },\n  handler\n);\nconst view = state => <div>\n  <textarea rows=\"10\" cols=\"50\" $bind=\"text\"></textarea>\n  <div>chars: {state.characters} words: {state.words} lines: {state.lines}</div>\n  <pre>{state.text}</pre>\n</div>;\napp.start(document.body, state, view);\n"},{name:"Routing (component event)",code:"// Routing (component event)\nclass Home extends Component {\n  view = () => <div>Home</div>;\n  update = {'#, #home': state => state };\n}\n\nclass Contact extends Component {\n  view = () => <div>Contact</div>;\n  update = {'#contact': state => state };\n}\n\nclass About extends Component {\n  view = () => <div>About</div>;\n  update = {'#about': state => state };\n}\n\nconst App = () => <>\n  <div id=\"menus\">\n    <a href=\"#home\">Home</a>{' | '}\n    <a href=\"#contact\">Contact</a>{' | '}\n    <a href=\"#about\">About</a></div>\n  <div id=\"pages\"></div>\n</>\n\napp.render(document.body, <App />);\n[About, Contact, Home].map(C => new C().start('pages'));\n"},{name:"Routing (mount options)",code:"// Routing (mount options)\nclass Home extends Component {\n  view = () => <div>Home</div>;\n}\n\nclass Contact extends Component {\n  view = () => <div>Contact</div>;\n}\n\nclass About extends Component {\n  view = () => <div>About</div>;\n}\n\nconst App = () => <>\n  <div id=\"menus\">\n    <a href=\"#home\">Home</a>{' | '}\n    <a href=\"#contact\">Contact</a>{' | '}\n    <a href=\"#about\">About</a></div>\n  <div id=\"pages\"></div>\n</>\n\napp.render(document.body, <App />);\n[\n  [About, '#about'],\n  [Contact, '#contact'],\n  [Home, '#, #home'],\n].map(([C, route]) => new C().start('pages', {route}));\n"},{name:"SVG - animation",code:'// SVG - animation\nconst view = () => <>\n  <svg height="60" width="160">\n    <rect width="100%" height="100%" rx="10" ry="10" fill="lightgrey" />\n    <circle cx="30" cy="30" r="20" fill=\'lime\'>\n    <animate\n          attributeType="XML"\n          attributeName="fill"\n          values="lime;lightgrey;lime;lightgrey"\n          dur="0.5s"\n          repeatCount="indefinite"/>\n    </circle>\n    <circle cx="80" cy="30" r="20" fill=\'yellow\' fill-opacity=\'0.2\'/>\n    <circle cx="130" cy="30" r="20" fill=\'orangered\' fill-opacity=\'0.2\' />\n  </svg>\n</>;\n\napp.start(document.body, {}, view);\n'},{name:"SVG - xlink",code:'// SVG - xlink\nconst view = () => <svg viewBox="0 0 150 20">\n  <a xlinkHref="https://apprun.js.org/">\n    <text x="10" y="10" font-size="5">Click => AppRun</text></a>\n</svg>\n\napp.start(document.body, {}, view);\n'},{name:"SVG - $onclick",code:'// SVG - $onclick\nconst view = state => <svg viewBox="0 0 520 520" xmlns="http://www.w3.org/2000/svg">\n  <rect x="10" y="10" width="90" height="40" fill="#aaa"\n    $onclick="test"/>\n  <rect x="10" y="80" width="90" height="40" fill="#bbb"\n    onclick="alert(\'You have clicked the rect.\')"/>\n</svg>\n\nconst update = {\n  test: (state, evt) => alert("You have clicked the " + evt.target.tagName)\n}\napp.start(document.body, \'\', view, update);\n'},{name:"Content Editable",code:'// Content Editable\nconst view = () => <>\n  <div contenteditable\n    style="height:100px; width:100%">\n    This text is editable. Click to edit.\n  </div>\n  <input readonly value="This text is readonly."/>\n  <button onclick="alert(0)">event handler as string</button>\n</>\napp.start(document.body, {}, view);\n'},{name:"List attribute",code:'// List attribute\nconst view = () => <>\n  <input list="browsers"/>\n  <datalist id="browsers">\n    <option value="Internet Explorer"/>\n    <option value="Firefox"/>\n    <option value="Google Chrome"/>\n    <option value="Opera"/>\n    <option value="Safari"/>\n  </datalist>\n</>\napp.start(document.body, {}, view);\n'},{name:"Init State as an Async Function",code:"// Init State as an Async Function\nconst state = async () => {\n  const response = await fetch('https://xkcd-api.netlify.app');\n  const comic = await response.json();\n  return { comic };\n};\n\nconst view = state => <>\n  { state.comic && <img src={ state.comic.img } />}\n</>;\n\napp.start(document.body, state, view);\n"},{name:"View Transition Event Level",code:"// View Transition\nconst style = `\n  ::view-transition-old(root),\n  ::view-transition-new(root) {\n    animation-duration: 1s; // slow motion fade\n  }\n`;\nconst state = 0;\nconst view = state => <div>\n  <style>{style}</style>\n  <h1>{state}</h1>\n  <button onclick={()=>app.run('-1')}>-1</button>\n  <button onclick={()=>app.run('+1')}>+1</button>\n</div>;\nconst update = {\n  '+1': [state => state + 1, {transition: true}],\n  '-1': [state => state - 1, {transition: true}]\n};\napp.start(document.body, state, view, update);\n"},{name:"View Transition Component Level",code:"// View Transition\nconst style = `\n  ::view-transition-old(root),\n  ::view-transition-new(root) {\n    animation-duration: 1s; // slow motion fade\n  }\n`;\nconst state = 0;\nconst view = state => <div>\n  <style>{style}</style>\n  <h1>{state}</h1>\n  <button onclick={()=>app.run('-1')}>-1</button>\n  <button onclick={()=>app.run('+1')}>+1</button>\n</div>;\nconst update = {\n  '+1': state => state + 1,\n  '-1': state => state - 1\n};\napp.start(document.body, state, view, update, {transition: true});\n"},{name:"Async Generator Function",code:"// Async Generator Function\n  async function* getComic() {\n    yield { loading: true };\n    const response = await fetch('https://xkcd-api.netlify.app');\n    const comic = await response.json();\n    yield { comic };\n  }\n\n  const state = {};\n  const view = state => <>\n    <div><button $onclick={getComic}>fetch ...</button></div>\n    {state.loading && <div>loading ... </div>}\n    {state.comic && <img src={state.comic.img} />}\n  </>;\n\n  app.start(document.body, state, view);\n"}],html=t=>`<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <meta http-equiv="X-UA-Compatible" content="ie=edge">\n  <script src="https://cdnjs.cloudflare.com/ajax/libs/custom-elements/1.1.2/custom-elements.min.js"><\/script>\n  <title>AppRun Playground</title>\n  <style>\n    body {\n      font-family: "Benton Sans", "Helvetica Neue", helvetica, arial, sans-serif;\n      margin: 2em;\n    }\n    img { width: 100%; }\n  </style>\n  <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>\n  <script src="dist/apprun-dev-tools.js"><\/script>\n  <script src="dist/apprun-html.js"><\/script>\n</head>\n<body>\n<script>\n  Babel.registerPlugin("d", [Babel.availablePlugins["proposal-decorators"], {legacy: true}]);\n  Babel.registerPlugin("c", [Babel.availablePlugins["proposal-class-properties"], {loose: true}]);\n  Babel.registerPlugin("b", [Babel.availablePlugins["proposal-private-methods"], {loose: true}]);\n<\/script>\n<script type="text/babel" data-plugins="d, c, b">\n  ${t}\n<\/script>\n</body>\n</html>`,tab=({code:t})=>{const e=window.open().document;e.open(),e.write(html(t)),e.close()},editor=t=>{const e=document.createElement("apprun-code");e.style.height="80vh",e.setAttribute("code-width","60%"),t.appendChild(e)};class PlayComponent extends apprun.Component{constructor(){super(...arguments),this.state=Object.assign(Object.assign({},play_examples[0]),{selectedIndex:0}),this.view=t=>apprun.default.h("div",{class:"playground",ref:t=>editor(t)},apprun.default.h("div",{class:"row"},apprun.default.h("div",{class:"col-sm-6"},"Examples:",apprun.default.h("select",{$onchange:"select"},play_examples.map(((e,n)=>apprun.default.h("option",{selected:n===t.selectedIndex},e.name))))),apprun.default.h("div",{class:"col-sm-6"},apprun.default.h("button",{class:"btn btn-default btn-sm pull-right",$onclick:"openTab"},"Open in a new tab"))),apprun.default.h("textarea",null,t.code)),this.update={"#play":(t,e)=>{const n=parseInt(e);return isNaN(n)||(t=Object.assign(Object.assign({},play_examples[n]),{selectedIndex:n})),t},select:(t,e)=>(t=Object.assign(Object.assign({},play_examples[e.target.selectedIndex]),{selectedIndex:e.target.selectedIndex}),history.pushState(null,null,"#play/"+e.target.selectedIndex),t),openTab:(t,e)=>{e.preventDefault(),tab(t)}}}}const play=t=>(new PlayComponent).mount(t);class MyWebcomp extends apprun.Component{constructor(){super(...arguments),this.css="section { border: 1px solid #ccc; margin: 0.2em 0; }\nspan { display: inline-block; width: 6em }\nbutton { width: 6em }",this.state=0,this.view=(t,e=this.props)=>{const{name:n,value:o,handleClick:a}=e;return apprun.app.h(apprun.app.Fragment,null,apprun.app.h("style",null,this.css),apprun.app.h("section",null,apprun.app.h("span",null,n),apprun.app.h("button",{$onclick:"inc"},"state: ",t),a?apprun.app.h("button",{onclick:()=>a(10)},"props: ",o):null))},this.update={inc:t=>(t+=1,this.dispatchEvent(new CustomEvent("my-webcomp-inc",{composed:!0,bubbles:!0,detail:{name:this.props.name,state:t}})),t),attributeChanged:(t,e,n,o)=>{console.log("attributeChanged",{state:t,name:e,oldValue:n,value:o})}},this.mounted=t=>(this.props=t,this.state)}}apprun.app.webComponent("my-webcomp",MyWebcomp,{shadow:!0,observedAttributes:["name","value","valueCamelCase","handleClick"]});class MyContainer extends HTMLElement{constructor(){super(...arguments),this.state=2,this.update=t=>{this.$state.textContent=this.$el.value=t,this.$el.setAttribute("valueCamelCase",t+5)},this.handleClick=()=>this.update(this.state=0)}connectedCallback(){this.innerHTML=`<div class='box app'>\n      <h4>A Web-Component Container</h4>\n      <button>reset: <span>${this.state}</span></button>\n      <my-webcomp name='name: wc' valueCamelCase="${this.state+5}" />\n    </div>`,this.$reset=this.querySelector("button"),this.$state=this.querySelector("span"),this.$el=this.querySelector("my-webcomp"),this.update(this.state),this.$el.handleClick=t=>this.update(this.state+=t),this.$reset.addEventListener("click",this.handleClick)}disconnectedCallback(){this.$reset.removeEventListener("click",this.handleClick)}}customElements.define("my-container",MyContainer);class MyJsxContainer extends apprun.Component{constructor(){super(...arguments),this.state=5,this.view=t=>apprun.app.h("div",{className:"box jsx",ref:t=>this.attachCustomEvent(t)},apprun.app.h("h4",null,"A JSX Container"),apprun.app.h("button",{onclick:()=>this.run("reset")},"reset: ",t),apprun.app.h("my-webcomp",{name:"name: local"}),apprun.app.h("my-webcomp",{name:"name: bidir",value:t,handleClick:t=>this.run("change",t)})),this.update={reset:t=>0,change:(t,e)=>t+e},this.unload=()=>{this.detachCustomEvent(this.ref)},this.handleCustomEvent=t=>{console.log("handleCustomEvent",t.detail)},this.attachCustomEvent=t=>{this.ref!==t&&(this.detachCustomEvent(this.ref),this.ref=t,this.ref.addEventListener("my-webcomp-inc",this.handleCustomEvent.bind(this)))},this.detachCustomEvent=t=>{t&&t.removeEventListener("my-webcomp-inc",this.handleCustomEvent.bind(this))}}}const style="html { font-family: sans-serif; }\n.box { margin: 0.5em 0; padding: 0.5em; border: 1px solid #ccc; }\n",web_components_view=()=>apprun.app.h(apprun.app.Fragment,null,apprun.app.h("style",null,style),apprun.app.h("div",null,apprun.app.h("h2",null,"Web-Components Demo"),apprun.app.h("p",null,"This Demo passes properties from a container to the web-component ",apprun.app.h("code",null,"<my-webcomp>"),"."),apprun.app.h("p",null,'Clicking on "props:" buttons increase the counter in the container, which then passes on the new value back to the component. "state:" changes only the local state')),apprun.app.h("my-container",null),apprun.app.h(MyJsxContainer,null)),web_components_update={"#webcomponents":t=>t},web_components=t=>new apprun.Component({},web_components_view,web_components_update).mount(t);var apprun_dev_tools=__webpack_require__(72);apprun.default.on(apprun.ROUTER_EVENT,(t=>{const e=document.querySelectorAll(".navbar-nav li");for(let t=0;t<e.length;++t)e[t].classList.remove("active");const n=document.querySelector(`[href='${t}']`);n&&n.parentElement.classList.add("active")}));const main_element=document.getElementById("my-app");return[home,hello,counter,counters,todo,calculator.A,dragdrop,svg,animation,benchmark,benchmark_lit_html,play,web_components].forEach((t=>t(main_element))),__webpack_exports__})()));
//# sourceMappingURL=app.js.map