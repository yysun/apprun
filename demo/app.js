/*! For license information please see app.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.apprun=t():e.apprun=t()}(this,(()=>(()=>{"use strict";var __webpack_modules__={14:(e,t,n)=>{n.d(t,{Component:()=>o.Component,html:()=>E.qy,run:()=>I,svg:()=>E.JW});var o=n(971),r=n(634),s=n(593);const i=globalThis,l=i.ShadowRoot&&(void 0===i.ShadyCSS||i.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,a=Symbol(),c=new WeakMap;class u{constructor(e,t,n){if(this._$cssResult$=!0,n!==a)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(l&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=c.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&c.set(t,e))}return e}toString(){return this.cssText}}const p=(e,t)=>{if(l)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const n of t){const t=document.createElement("style"),o=i.litNonce;void 0!==o&&t.setAttribute("nonce",o),t.textContent=n.cssText,e.appendChild(t)}},d=l?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return(e=>new u("string"==typeof e?e:e+"",void 0,a))(t)})(e):e,{is:h,defineProperty:m,getOwnPropertyDescriptor:f,getOwnPropertyNames:g,getOwnPropertySymbols:_,getPrototypeOf:b}=Object,y=globalThis,v=y.trustedTypes,k=v?v.emptyScript:"",w=y.reactiveElementPolyfillSupport,x=(e,t)=>e,A={toAttribute(e,t){switch(t){case Boolean:e=e?k:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},$=(e,t)=>!h(e,t),C={attribute:!0,type:String,converter:A,reflect:!1,useDefault:!1,hasChanged:$};Symbol.metadata??=Symbol("metadata"),y.litPropertyMetadata??=new WeakMap;class S extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=C){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),o=this.getPropertyDescriptor(e,n,t);void 0!==o&&m(this.prototype,e,o)}}static getPropertyDescriptor(e,t,n){const{get:o,set:r}=f(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:o,set(t){const s=o?.call(this);r?.call(this,t),this.requestUpdate(e,s,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??C}static _$Ei(){if(this.hasOwnProperty(x("elementProperties")))return;const e=b(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(x("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(x("properties"))){const e=this.properties,t=[...g(e),..._(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const n=this._$Eu(e,t);void 0!==n&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(d(e))}else void 0!==e&&t.push(d(e));return t}static _$Eu(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return p(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ET(e,t){const n=this.constructor.elementProperties.get(e),o=this.constructor._$Eu(e,n);if(void 0!==o&&!0===n.reflect){const r=(void 0!==n.converter?.toAttribute?n.converter:A).toAttribute(t,n.type);this._$Em=e,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$Em=null}}_$AK(e,t){const n=this.constructor,o=n._$Eh.get(e);if(void 0!==o&&this._$Em!==o){const e=n.getPropertyOptions(o),r="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:A;this._$Em=o,this[o]=r.fromAttribute(t,e.type)??this._$Ej?.get(o)??null,this._$Em=null}}requestUpdate(e,t,n){if(void 0!==e){const o=this.constructor,r=this[e];if(n??=o.getPropertyOptions(e),!((n.hasChanged??$)(r,t)||n.useDefault&&n.reflect&&r===this._$Ej?.get(e)&&!this.hasAttribute(o._$Eu(e,n))))return;this.C(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:n,reflect:o,wrapped:r},s){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,s??t??this[e]),!0!==r||void 0!==s)||(this._$AL.has(e)||(this.hasUpdated||n||(t=void 0),this._$AL.set(e,t)),!0===o&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,n]of e){const{wrapped:e}=n,o=this[t];!0!==e||this._$AL.has(t)||void 0===o||this.C(t,void 0,n,o)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((e=>this._$ET(e,this[e]))),this._$EM()}updated(e){}firstUpdated(e){}}S.elementStyles=[],S.shadowRootOptions={mode:"open"},S[x("elementProperties")]=new Map,S[x("finalized")]=new Map,w?.({ReactiveElement:S}),(y.reactiveElementVersions??=[]).push("2.1.0");var E=n(752);const T=globalThis;class R extends S{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,E.XX)(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return E.c0}}R._$litElement$=!0,R.finalized=!0,T.litElementHydrateSupport?.({LitElement:R});const P=T.litElementPolyfillSupport;P?.({LitElement:R}),(T.litElementVersions??=[]).push("4.2.0");var O=n(804);class M extends O.WL{constructor(e){if(super(e),this.it=E.s6,e.type!==O.OA.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===E.s6||null==e)return this._t=void 0,this.it=e;if(e===E.c0)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}M.directiveName="unsafeHTML",M.resultType=1;const D=(0,O.u$)(M);class L extends O.WL{constructor(e){if(super(e),e.type!==O.OA.EVENT)throw new Error("run() can only be used in event handlers")}update(e,t){const n=e.element,r=e.name,[s,...i]=t,l=()=>{let e=n,t=e._component;for(;!t&&e;)e=e.parentElement,t=e&&e._component;return console.assert(!!t,"Component not found."),t};return"string"==typeof s?n[`on${r}`]=e=>{const t=l();t?t.run(s,...i,e):o.default.run(s,...i,e)}:"function"==typeof s&&(n[`on${r}`]=e=>l().setState(s(l().state,...i,e))),this.render()}render(){return E.c0}}const I=(0,O.u$)(L);if(o.default.createElement=s.n,o.default.render=function(e,t,n){t&&("string"==typeof t?(e._$litPart$||e.replaceChildren(),(0,E.XX)(E.qy`${D(t)}`,e)):t._$litType$?(e._$litPart$||e.replaceChildren(),(0,E.XX)(t,e)):((0,s.cJ)(e,t,n),e._$litPart$=void 0))},o.default.Fragment=s.FK,"object"==typeof window){const e=window;(0,r.Q0)(e,{React:e._React||o.default,html:E.qy,svg:E.JW,run:I})}},72:(e,t,n)=>{var o=n(859);function r(e){return e.map((e=>i(e))).join("")}function s(e){for(var t in e)null==e[t]?delete e[t]:"object"==typeof e[t]&&s(e[t])}function i(e){if(!e)return"";if(e._$litType$)return e.toString();if(s(e),Array.isArray(e))return r(e);if("string"==typeof e)return e.startsWith("_html:")?e.substring(6):e;if(e.tag){const t=e.props?function(e){return Object.keys(e).map((t=>{return` ${"className"===t?"class":t}="${n=e[t],"object"==typeof n?Object.keys(n).map((e=>`${e}:${n[e]}`)).join(";"):n.toString()}"`;var n})).join("")}(e.props):"",n=e.children?r(e.children):"";return`<${e.tag}${t}>${n}</${e.tag}>`}return"object"==typeof e?JSON.stringify(e):void 0}const l=i;let a;function c(e){a=window.open("",e),a.document.write(`<html>\n  <title>AppRun Analyzer | ${document.location.href}</title>\n  <style>\n    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI" }\n  </style>\n  <body><pre>`)}function u(e){a.document.write(e+"\n")}function p(){a.document.write("</pre>\n  </body>\n  </html>"),a.document.close()}app.debug=!0;const d=e=>{u(`import ${e.constructor.name} from '../src/${e.constructor.name}'`),u(`describe('${e.constructor.name}', ()=>{`),e._actions.forEach((t=>{"."!==t.name&&(u(`  it ('should handle event: ${t.name}', (done)=>{`),u(`    const component = new ${e.constructor.name}().mount();`),u(`    component.run('${t.name}');`),u("    setTimeout(() => {"),u("      //expect(?).toHaveBeenCalled();"),u("      //expect(component.state).toBe(?);"),u("    done();"),u("  })"))})),u("});")};let h=!1,m=[];app.on("debug",(e=>{h&&e.vdom&&(m.push(e),console.log(`* ${m.length} state(s) recorded.`))}));function f(e){const t={get(e,t,n){const o=Reflect.get(e,t,n);return"object"==typeof o&&null!==o?Array.isArray(o)?o.map((e=>f(e))):f(o):`{${t}}`}};return Array.isArray(e)?e.map((e=>f(e))):new Proxy(e,t)}function g(e){let t;if("object"==typeof e.state){const n=f(e.state);t=e.view(n)}else t=e.view(e.state);return t}const _=new Map;function b(e){const t=window.open("","_apprun_debug","toolbar=0");t.document.write(`<html>\n  <title>AppRun Analyzer | ${document.location.href}</title>\n  <style>\n    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI" }\n    li { margin-left: 80px; }\n  </style>\n  <body>\n  <div id="main">${e}</div>\n  <\/script>\n  </body>\n  </html>`),t.document.close()}o.A.debug=!0,o.A.on("debug-create-component",(e=>{const t=e.element;t?_.get(t)?_.get(t).push(e):_.set(t,[e]):console.warn("Component created without an element:",e)})),window["_apprun-help"]=["",()=>{Object.keys(window).forEach((e=>{e.startsWith("_apprun-")&&("_apprun-help"===e?console.log("AppRun Commands:"):console.log(`* ${e.substring(8)}: ${window[e][0]}`))}))}];const y=e=>{const t=_,n=[];if(t instanceof Map)for(let[e,o]of t){const t="string"==typeof e?document.getElementById(e)||document.querySelector(e):e;n.push({element:t,comps:o})}if(e){const e=(e=>{const t=({components:e})=>o.A.h("ul",null,e.map((e=>{const t=g(e),n=e._actions.map((e=>e.name)),r={state:e.state,view:t,actions:n,update:e.update};return o.A.h("li",null,o.A.h("div",null,e.constructor.name),o.A.h("div",null,o.A.h("pre",null,(s=JSON.stringify(r,null,2))?s.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):s)),o.A.h("br",null));var s})));return o.A.h("ul",null,e.map((({element:e,comps:n})=>o.A.h("li",null,o.A.h("div",null,(e=>o.A.h("div",null,e.tagName.toLowerCase(),e.id?"#"+e.id:""," ",e.className&&e.className.split(" ").map((e=>"."+e)).join()))(e)),o.A.h(t,{components:n})))))})(n);b(l(e))}else n.forEach((({element:e,comps:t})=>console.log(e,t)))};let v=Number(window?.localStorage?.getItem("__apprun_debugging__"))||0;if(o.A.on("debug",(e=>{1&v&&e.event&&console.log(e),2&v&&e.vdom&&console.log(e)})),window["_apprun-components"]=["components [print|clear]",e=>{"print"===e?y(!0):"clear"===e?(_.clear(),console.log("Component cache cleared")):y(!1)}],window["_apprun-events"]=["events [print]",e=>{(e=>{const t=o.A._events,n={},r=_,s=e=>e._actions.forEach((t=>{n[t.name]=n[t.name]||[],n[t.name].push(e)}));if(r instanceof Map)for(let[e,t]of r)t.forEach(s);const i=[];if(Object.keys(n).forEach((e=>{i.push({event:e,components:n[e],global:!!t[e]})})),i.sort(((e,t)=>e.event>t.event?1:-1)).map((e=>e.event)),e){const e=(e=>{const t=({components:e})=>o.A.h("ul",null,e.map((e=>o.A.h("li",null,o.A.h("div",null,e.constructor.name))))),n=({events:e,global:n})=>o.A.h("ul",null,e&&e.filter((e=>e.global===n&&"."!==e.event)).map((({event:e,components:n})=>o.A.h("li",null,o.A.h("div",null,e),o.A.h(t,{components:n})))));return o.A.h("div",null,o.A.h("div",null,"GLOBAL EVENTS"),o.A.h(n,{events:e,global:!0}),o.A.h("div",null,"LOCAL EVENTS"),o.A.h(n,{events:e,global:!1}))})(i);b(l(e))}else console.log("=== GLOBAL EVENTS ==="),i.filter((e=>e.global&&"."!==e.event)).forEach((({event:e,components:t})=>console.log({event:e},t))),console.log("=== LOCAL EVENTS ==="),i.filter((e=>!e.global&&"."!==e.event)).forEach((({event:e,components:t})=>console.log({event:e},t)))})("print"===e)}],window["_apprun-log"]=["log [event|view] on|off",(e,t)=>{"on"===e?v=3:"off"===e?v=0:"event"===e?"on"===t?v|=1:"off"===t&&(v&=-2):"view"===e&&("on"===t?v|=2:"off"===t&&(v&=-3)),console.log(`* log ${e} ${t||""}`),window?.localStorage?.setItem("__apprun_debugging__",`${v}`)}],window["_apprun-create-event-tests"]=["create-event-tests",()=>(()=>{const e={components:{}};app.run("get-components",e);const{components:t}=e;if(c(""),t instanceof Map)for(let[e,n]of t)n.forEach(d);else Object.keys(t).forEach((e=>{t[e].forEach(d)}));p()})()],window["_apprun-create-state-tests"]=["create-state-tests <start|stop>",e=>(e=>{"start"===e?(m=[],h=!0,console.log("* State logging started.")):"stop"===e?(0!==m.length?(c(""),m.forEach(((e,t)=>{u(`  it ('view snapshot: #${t+1}', ()=>{`),u(`    const component = new ${e.component.constructor.name}()`),u(`    const state = ${JSON.stringify(e.state,void 0,2)};`),u("    const vdom = component['view'](state);"),u("    expect(JSON.stringify(vdom)).toMatchSnapshot();"),u("  })")})),p()):console.log("* No state recorded."),h=!1,m=[],console.log("* State logging stopped.")):console.log("create-state-tests <start|stop>")})(e)],window._apprun=e=>{const[t,...n]=e[0].split(" ").filter((e=>!!e)),o=window[`_apprun-${t}`];o?o[1](...n):window["_apprun-help"][1]()},console.info('AppRun DevTools 3.36: type "_apprun `help`" to list all available commands.'),window.__REDUX_DEVTOOLS_EXTENSION__){let e=!1;const t=window.__REDUX_DEVTOOLS_EXTENSION__.connect();if(t){const n=location.hash||"#";t.send(n,"");const r=[{component:null,state:""}];console.info("Connected to the Redux DevTools"),t.subscribe((t=>{if("START"===t.type)e=!0;else if("STOP"===t.type)e=!1;else if("DISPATCH"===t.type){const e=t.payload.index;if(0===e)o.A.run(n);else{const{component:t,state:n}=r[e];t?.setState(n)}}}));const s=(e,n,o)=>{null!=o&&(r.push({component:e,state:o}),t.send(n,o))};o.A.on("debug",(t=>{if(e&&t.event){const e=t.newState,n={type:t.event,payload:t.p},o=t.component;e instanceof Promise?e.then((e=>s(o,n,e))):s(o,n,e)}}))}}},284:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _src_apprun__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(971),_state_machine__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(739);const state={_state:"START",display:"0",arg1:0,arg2:0,op:"",stack:[]},view=({_state:e,op:t,arg1:n,arg2:o,display:r,stack:s})=>_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h(_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.Fragment,null,_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("style",null," ","\n    .calculator { width: 200px; }\n    .buttons {\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      grid-gap: 2px;\n    }\n    button { padding: 10px; width:100%; }\n    button:nth-of-type(1) {\n      grid-column: span 2;\n    }\n    button:nth-of-type(16) {\n      grid-column: span 2;\n    }\n  "),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("div",{class:"calculator"},_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("h1",null,r),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("div",{class:"buttons",$onclick:button_click},_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"CE"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"+/-"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"/"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"7"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"8"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"9"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"*"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"4"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"5"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"6"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"-"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"1"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"2"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"3"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"+"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"0"),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"."),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("button",null,"=")),_src_apprun__WEBPACK_IMPORTED_MODULE_0__.default.h("small",null,s.length>0&&`${s[0][0]} ${s[0][1]} `,e.startsWith("FIRST_")&&`${r}`,"OP"===e&&`${n} ${t}`,e.startsWith("SECOND_")&&`${n} ${t} ${r}`,"EQ"===e&&`${n} ${t} ${o} = ${r}`))),button_click=(state,e)=>{const priority={"*":2,"/":2,"+":1,"-":1},getEvent=e=>{switch(e){case"+/-":return"+/-";case"CE":return"CE";case".":return"DOT";case"=":return"EQ";default:return/\d/.test(e)?"NUM":"OP"}},key=e.target?.textContent||e,event=getEvent(key);let{_state,op,arg1,arg2,display,stack}=state;const clear=()=>{display="0",arg1=arg2=0,op="",stack.length=0},negative=()=>{display=display.startsWith("-")?display.substring(1):"-"+display},calc=()=>{display=eval(`${arg1}${op}${arg2}`).toString()},op1=()=>{op=key,arg1=parseFloat(display)},op2=()=>{if(priority[key]===priority[op])arg2=parseFloat(display),calc(),op=key,arg1=parseFloat(display);else if(priority[key]<priority[op]){if(arg2=parseFloat(display),calc(),arg1=parseFloat(display),op=key,stack.length){const f=stack.pop();arg1=eval(`${f[0]}${f[1]}${display}`),display=arg1.toString()}}else stack.push([arg1,op]),arg1=parseFloat(display),op=key},eq0=()=>{arg1=parseFloat(display),calc()},eq2=()=>{if(arg2=parseFloat(display),calc(),stack.length){arg2=parseFloat(display);const f=stack.pop();display=eval(`${f[0]}${f[1]}${display}`).toString(),arg1=f[0],op=f[1]}},state_machine={START:[["NUM","FIRST_ARG",()=>display=key],["DOT","FIRST_ARG_FLOAT",()=>display="0."]],FIRST_ARG:[["+/-","FIRST_ARG",negative],["NUM","FIRST_ARG",()=>display+=key],["DOT","FIRST_ARG_FLOAT",()=>display+=key],["OP","OP",op1],["CE","START",clear]],FIRST_ARG_FLOAT:[["+/-","FIRST_ARG_FLOAT",negative],["NUM","FIRST_ARG_FLOAT",()=>display+=key],["OP","OP",op1],["CE","START",clear]],OP:[["NUM","SECOND_ARG",()=>display=key],["DOT","SECOND_ARG",()=>display="0."],["OP","OP",()=>op=key],["CE","START",clear]],SECOND_ARG:[["+/-","SECOND_ARG",negative],["NUM","SECOND_ARG",()=>display+=key],["DOT","SECOND_ARG_FLOAT",()=>display+=key],["EQ","EQ",eq2],["OP","OP",op2],["CE","OP",()=>display="0"]],SECOND_ARG_FLOAT:[["+/-","SECOND_ARG_FLOAT",negative],["NUM","SECOND_ARG_FLOAT",()=>display+=key],["EQ","EQ",eq2],["OP","OP",op2],["CE","OP",()=>display="0"]],EQ:[["+/-","FIRST_ARG",negative],["NUM","FIRST_ARG",()=>display=key],["DOT","FIRST_ARG_FLOAT",()=>display="0."],["EQ","EQ",eq0],["OP","OP",op1],["CE","START",clear]]},{next_state,transition}=(0,_state_machine__WEBPACK_IMPORTED_MODULE_1__.a)(state_machine,_state,event);return _state=next_state||_state,transition&&transition(),{_state,op,arg1,arg2,display,stack}},update={"#calculator":e=>e},__WEBPACK_DEFAULT_EXPORT__=e=>new _src_apprun__WEBPACK_IMPORTED_MODULE_0__.Component(state,view,update).mount(e)},320:(e,t,n)=>{n.d(t,{Fragment:()=>o.FK,createElement:()=>o.n,render:()=>o.cJ,safeHTML:()=>o.t_});var o=n(593)},593:(e,t,n)=>{n.d(t,{FK:()=>q,n:()=>X,t_:()=>Y,cJ:()=>Z});var o={};n.r(o),n.d(o,{boolean:()=>l,booleanish:()=>a,commaOrSpaceSeparated:()=>h,commaSeparated:()=>d,number:()=>u,overloadedBoolean:()=>c,spaceSeparated:()=>p});var r=n(741);class s{constructor(e,t){this.attribute=t,this.property=e}}s.prototype.attribute="",s.prototype.booleanish=!1,s.prototype.boolean=!1,s.prototype.commaOrSpaceSeparated=!1,s.prototype.commaSeparated=!1,s.prototype.defined=!1,s.prototype.mustUseProperty=!1,s.prototype.number=!1,s.prototype.overloadedBoolean=!1,s.prototype.property="",s.prototype.spaceSeparated=!1,s.prototype.space=void 0;let i=0;const l=m(),a=m(),c=m(),u=m(),p=m(),d=m(),h=m();function m(){return 2**++i}const f=Object.keys(o);class g extends s{constructor(e,t,n,r){let s=-1;if(super(e,t),_(this,"space",r),"number"==typeof n)for(;++s<f.length;){const e=f[s];_(this,f[s],(n&o[e])===o[e])}}}function _(e,t,n){n&&(e[t]=n)}function b(e){return e.toLowerCase()}g.prototype.defined=!0;const y=/[A-Z]/g,v=/-[a-z]/g,k=/^data[-\w.:]+$/i;function w(e){return"-"+e.toLowerCase()}function x(e){return e.charAt(1).toUpperCase()}class A{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function $(e,t){const n={},o={};for(const t of e)Object.assign(n,t.property),Object.assign(o,t.normal);return new A(n,o,t)}function C(e){const t={},n={};for(const[o,r]of Object.entries(e.properties)){const s=new g(o,e.transform(e.attributes||{},o),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(o)&&(s.mustUseProperty=!0),t[o]=s,n[b(o)]=o,n[b(s.attribute)]=o}return new A(t,n,e.space)}A.prototype.normal={},A.prototype.property={},A.prototype.space=void 0;const S=C({properties:{ariaActiveDescendant:null,ariaAtomic:a,ariaAutoComplete:null,ariaBusy:a,ariaChecked:a,ariaColCount:u,ariaColIndex:u,ariaColSpan:u,ariaControls:p,ariaCurrent:null,ariaDescribedBy:p,ariaDetails:null,ariaDisabled:a,ariaDropEffect:p,ariaErrorMessage:null,ariaExpanded:a,ariaFlowTo:p,ariaGrabbed:a,ariaHasPopup:null,ariaHidden:a,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:p,ariaLevel:u,ariaLive:null,ariaModal:a,ariaMultiLine:a,ariaMultiSelectable:a,ariaOrientation:null,ariaOwns:p,ariaPlaceholder:null,ariaPosInSet:u,ariaPressed:a,ariaReadOnly:a,ariaRelevant:null,ariaRequired:a,ariaRoleDescription:p,ariaRowCount:u,ariaRowIndex:u,ariaRowSpan:u,ariaSelected:a,ariaSetSize:u,ariaSort:null,ariaValueMax:u,ariaValueMin:u,ariaValueNow:u,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function E(e,t){return t in e?e[t]:t}function T(e,t){return E(e,t.toLowerCase())}const R=C({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:d,acceptCharset:p,accessKey:p,action:null,allow:null,allowFullScreen:l,allowPaymentRequest:l,allowUserMedia:l,alt:null,as:null,async:l,autoCapitalize:null,autoComplete:p,autoFocus:l,autoPlay:l,blocking:p,capture:null,charSet:null,checked:l,cite:null,className:p,cols:u,colSpan:null,content:null,contentEditable:a,controls:l,controlsList:p,coords:u|d,crossOrigin:null,data:null,dateTime:null,decoding:null,default:l,defer:l,dir:null,dirName:null,disabled:l,download:c,draggable:a,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:l,formTarget:null,headers:p,height:u,hidden:c,high:u,href:null,hrefLang:null,htmlFor:p,httpEquiv:p,id:null,imageSizes:null,imageSrcSet:null,inert:l,inputMode:null,integrity:null,is:null,isMap:l,itemId:null,itemProp:p,itemRef:p,itemScope:l,itemType:p,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:l,low:u,manifest:null,max:null,maxLength:u,media:null,method:null,min:null,minLength:u,multiple:l,muted:l,name:null,nonce:null,noModule:l,noValidate:l,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:l,optimum:u,pattern:null,ping:p,placeholder:null,playsInline:l,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:l,referrerPolicy:null,rel:p,required:l,reversed:l,rows:u,rowSpan:u,sandbox:p,scope:null,scoped:l,seamless:l,selected:l,shadowRootClonable:l,shadowRootDelegatesFocus:l,shadowRootMode:null,shape:null,size:u,sizes:null,slot:null,span:u,spellCheck:a,src:null,srcDoc:null,srcLang:null,srcSet:null,start:u,step:null,style:null,tabIndex:u,target:null,title:null,translate:null,type:null,typeMustMatch:l,useMap:null,value:a,width:u,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:p,axis:null,background:null,bgColor:null,border:u,borderColor:null,bottomMargin:u,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:l,declare:l,event:null,face:null,frame:null,frameBorder:null,hSpace:u,leftMargin:u,link:null,longDesc:null,lowSrc:null,marginHeight:u,marginWidth:u,noResize:l,noHref:l,noShade:l,noWrap:l,object:null,profile:null,prompt:null,rev:null,rightMargin:u,rules:null,scheme:null,scrolling:a,standby:null,summary:null,text:null,topMargin:u,valueType:null,version:null,vAlign:null,vLink:null,vSpace:u,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:l,disableRemotePlayback:l,prefix:null,property:null,results:u,security:null,unselectable:null},space:"html",transform:T}),P=C({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:h,accentHeight:u,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:u,amplitude:u,arabicForm:null,ascent:u,attributeName:null,attributeType:null,azimuth:u,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:u,by:null,calcMode:null,capHeight:u,className:p,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:u,diffuseConstant:u,direction:null,display:null,dur:null,divisor:u,dominantBaseline:null,download:l,dx:null,dy:null,edgeMode:null,editable:null,elevation:u,enableBackground:null,end:null,event:null,exponent:u,externalResourcesRequired:null,fill:null,fillOpacity:u,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:d,g2:d,glyphName:d,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:u,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:u,horizOriginX:u,horizOriginY:u,id:null,ideographic:u,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:u,k:u,k1:u,k2:u,k3:u,k4:u,kernelMatrix:h,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:u,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:u,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:u,overlineThickness:u,paintOrder:null,panose1:null,path:null,pathLength:u,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:p,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:u,pointsAtY:u,pointsAtZ:u,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:h,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:h,rev:h,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:h,requiredFeatures:h,requiredFonts:h,requiredFormats:h,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:u,specularExponent:u,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:u,strikethroughThickness:u,string:null,stroke:null,strokeDashArray:h,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:u,strokeOpacity:u,strokeWidth:null,style:null,surfaceScale:u,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:h,tabIndex:u,tableValues:null,target:null,targetX:u,targetY:u,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:h,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:u,underlineThickness:u,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:u,values:null,vAlphabetic:u,vMathematical:u,vectorEffect:null,vHanging:u,vIdeographic:u,version:null,vertAdvY:u,vertOriginX:u,vertOriginY:u,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:u,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:E}),O=C({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),M=C({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:T}),D=C({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),L=$([S,R,O,M,D],"html"),I=$([S,P,O,M,D],"svg"),N="_props",z=new Map;function U(e,t,n){!function(e){return null!=e&&!1!==e&&""!==e&&(!0===e||("string"==typeof e?"false"!==e.toLowerCase()&&"0"!==e:Boolean(e)))}(n)?e.removeAttribute(t):e.setAttribute(t,t)}function B(e,t,n){try{e[t]=n}catch(o){j(e,t,n,!1)}}function j(e,t,n,o){if(null==n)return void e.removeAttribute(t);const r=String(n);if(o&&t.includes(":")){const[n]=t.split(":");"xlink"===n?e.setAttributeNS("http://www.w3.org/1999/xlink",t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}function H(e,t,n,o){if(r=e,i=t,document.activeElement===r?["value","selectionStart","selectionEnd","selectionDirection"].includes(i):"scrollTop"===i||"scrollLeft"===i||r instanceof HTMLMediaElement&&["currentTime","paused","playbackRate","volume"].includes(i))return;var r,i;if("style"===t){if(e.style.cssText&&(e.style.cssText=""),"string"==typeof n)e.style.cssText=n;else if(n&&"object"==typeof n)for(const t in n)e.style[t]!==n[t]&&(e.style[t]=n[t]);return}if("key"===t)return void(null!=n&&(e.key=n));if(t.startsWith("data-"))return void function(e,t,n){const o=(r=t.slice(5)).length<=1?r.toLowerCase():r.split("-").map(((e,t)=>0===t?e.toLowerCase():e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join("");var r;null==n?delete e.dataset[o]:e.dataset[o]=String(n)}(e,t,n);if(t.startsWith("on"))return void function(e,t,n){t.startsWith("on")&&(n&&"function"!=typeof n?"string"==typeof n&&(n?e.setAttribute(t,n):e.removeAttribute(t)):e[t]=n)}(e,t,n);if(!("INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&"SELECT"!==e.tagName||"value"!==t&&"selected"!==t&&"selectedIndex"!==t))return void B(e,t,n);if("INPUT"===e.tagName&&"checked"===t)return B(e,t,n),void U(e,t,n);const l=function(e,t){const n=`${e}:${t}`;let o=z.get(n);return void 0===o&&(o=function(e,t){const n=b(t);let o=t,r=s;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&k.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(v,x);o="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!v.test(e)){let n=e.replace(y,w);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}r=g}return new r(o,t)}(t?I:L,e)||null,z.set(n,o)),o}(t,o);l?l.boolean||l.overloadedBoolean?U(e,l.attribute,n):l.mustUseProperty&&!o?B(e,l.property,n):j(e,l.attribute,n,o):t.startsWith("aria-")||"role"===t?j(e,t,n,o):t in e||void 0!==e[t]?B(e,t,n):j(e,t,n,o)}function F(e){return/^[a-zA-Z_:][\w\-:.]*$/.test(e)&&!e.includes("<")&&!e.includes(">")&&!e.includes('"')&&!e.includes("'")}function W(e,t,n){const o=function(e,t){if(t&&(t.class=t.class||t.className,delete t.className),!e||0===Object.keys(e).length)return t||{};if(!t||0===Object.keys(t).length){const t={};return Object.keys(e).forEach((e=>t[e]=null)),t}const n={};return Object.keys(e).forEach((e=>{e in t||(n[e]=null)})),Object.keys(t).forEach((e=>n[e]=t[e])),n}(e[N]||{},t);e[N]=t||{},function(e,t,n,o){for(const n in t)F(n)&&H(e,n,t[n],o);t&&"function"==typeof t.ref&&window.requestAnimationFrame((()=>t.ref(e)))}(e,o,0,n)}function q(e,...t){return V(t)}function V(e){const t=[],n=e=>{null!=e&&""!==e&&!1!==e&&t.push("function"==typeof e||"object"==typeof e?e:`${e}`)};return e&&e.forEach((e=>{Array.isArray(e)?e.forEach((e=>n(e))):n(e)})),t}const K={};let G=0;function X(e,t,...n){const o=V(n);if("string"==typeof e)return{tag:e,props:t,children:o};if(Array.isArray(e))return e;if(void 0===e&&n)return o;if(Object.getPrototypeOf(e).__isAppRunComponent)return{tag:e,props:t,children:o};if("function"==typeof e)return e(t,o);throw new Error(`Unknown tag in vdom ${e}`)}const Z=(e,t,n={})=>{null!=t&&!1!==t&&function(e,t,n={}){if(null==t||!1===t)return;if(t=ne(t,n),!e)return;const o="SVG"===e.nodeName;Array.isArray(t)?J(e,t,o):J(e,[t],o)}("string"==typeof e&&e?document.getElementById(e)||document.querySelector(e):e,t=(0,r.A)(t,n),n)};function Q(e,t,n){n=n||"svg"===t.tag,function(e,t){const n=e.nodeName,o=`${t.tag||""}`;return n.toUpperCase()===o.toUpperCase()}(e,t)?(J(e,t.children,n),W(e,t.props,n)):e.parentNode.replaceChild(te(t,n),e)}function J(e,t,n){const o=e.childNodes?.length||0,r=t?.length||0,s=Math.min(o,r);for(let o=0;o<s;o++){const r=t[o],s=e.childNodes[o];if("string"==typeof r)s.textContent!==r&&(3===s.nodeType?s.nodeValue=r:e.replaceChild(ee(r),s));else if(r instanceof HTMLElement||r instanceof SVGElement)e.insertBefore(r,s);else{const t=r.props&&r.props.key;if(t)if(s.key===t)Q(e.childNodes[o],r,n);else{const i=K[t];i?(e.insertBefore(i,s),Q(e.childNodes[o],r,n)):e.replaceChild(te(r,n),s)}else Q(e.childNodes[o],r,n)}}let i=e.childNodes?.length||0;for(;i>s;)e.removeChild(e.lastChild),i--;if(r>s){const o=document.createDocumentFragment();for(let e=s;e<t.length;e++)o.appendChild(te(t[e],n));e.appendChild(o)}}const Y=e=>{const t=document.createElement("section");return t.insertAdjacentHTML("afterbegin",e),Array.from(t.children)};function ee(e){if(0===e?.indexOf("_html:")){const t=document.createElement("div");return t.insertAdjacentHTML("afterbegin",e.substring(6)),t}return document.createTextNode(e??"")}function te(e,t){if(e instanceof HTMLElement||e instanceof SVGElement)return e;if("string"==typeof e)return ee(e);if(!e.tag||"function"==typeof e.tag)return ee(JSON.stringify(e));const n=(t=t||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag);return W(n,e.props,t),e.children&&e.children.forEach((e=>n.appendChild(te(e,t)))),e.props&&void 0!==e.props.key&&(n.key=e.props.key,K[e.props.key]=n,++G>=500&&(function(){if(!(Object.keys(K).length<=1e3))for(const[e,t]of Object.entries(K))t.isConnected||delete K[e]}(),G=0)),n}function ne(e,t,n=0){if("string"==typeof e)return e;if(Array.isArray(e))return e.map((e=>ne(e,t,n++)));let o=e;if(e&&"function"==typeof e.tag&&Object.getPrototypeOf(e.tag).__isAppRunComponent&&(o=function(e,t,n){const{tag:o,props:r,children:s}=e;let i=`_${n}`,l=r&&r.id;l?i=l:l=`_${n}${Date.now()}`;let a="section";r&&r.as&&(a=r.as,delete r.as),t.__componentCache||(t.__componentCache={});let c=t.__componentCache[i];if(c&&c instanceof o&&c.element)c.renderState(c.state);else{const e=document.createElement(a);c=t.__componentCache[i]=new o({...r,children:s}).mount(e,{render:!0})}if(c.mounted){const e=c.mounted(r,s,c.state);void 0!==e&&c.setState(e)}return W(c.element,r,!1),c.element}(e,t,n)),o&&Array.isArray(o.children)){const e=o.props?._component;if(e){let t=0;o.children=o.children.map((n=>ne(n,e,t++)))}else o.children=o.children.map((e=>ne(e,t,n++)))}return o}},634:(e,t,n)=>{function o(e){return e?.target instanceof HTMLElement?e.target:null}function r(e,t){"object"==typeof e&&null!==e&&Object.keys(t).forEach((n=>{e[n]=t[n]}))}function s(e,t=document){try{return t.querySelector(e)}catch(t){return console.warn(`Invalid selector: ${e}`,t),null}}function i(e){try{return document.getElementById(e)}catch(t){return console.warn(`Error getting element by id: ${e}`,t),null}}n.d(t,{PB:()=>o,Q0:()=>r,bV:()=>s,oP:()=>i})},672:(e,t,n)=>{n.d(t,{C:()=>r,a:()=>o});const o="3.37.1",r=`AppRun-${o}`},692:(e,t,n)=>{n.d(t,{createState:()=>V});var o=Symbol.for("immer-nothing"),r=Symbol.for("immer-draftable"),s=Symbol.for("immer-state");function i(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var l=Object.getPrototypeOf;function a(e){return!!e&&!!e[s]}function c(e){return!!e&&(p(e)||Array.isArray(e)||!!e[r]||!!e.constructor?.[r]||g(e)||_(e))}var u=Object.prototype.constructor.toString();function p(e){if(!e||"object"!=typeof e)return!1;const t=l(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===u}function d(e,t){0===h(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,o)=>t(o,n,e)))}function h(e){const t=e[s];return t?t.type_:Array.isArray(e)?1:g(e)?2:_(e)?3:0}function m(e,t){return 2===h(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function f(e,t,n){const o=h(e);2===o?e.set(t,n):3===o?e.add(n):e[t]=n}function g(e){return e instanceof Map}function _(e){return e instanceof Set}function b(e){return e.copy_||e.base_}function y(e,t){if(g(e))return new Map(e);if(_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=p(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[s];let n=Reflect.ownKeys(t);for(let o=0;o<n.length;o++){const r=n[o],s=t[r];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[r]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[r]})}return Object.create(l(e),t)}{const t=l(e);if(null!==t&&n)return{...e};const o=Object.create(t);return Object.assign(o,e)}}function v(e,t=!1){return w(e)||a(e)||!c(e)||(h(e)>1&&(e.set=e.add=e.clear=e.delete=k),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>v(t,!0)))),e}function k(){i(2)}function w(e){return Object.isFrozen(e)}var x,A={};function $(e){const t=A[e];return t||i(0),t}function C(){return x}function S(e,t){t&&($("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function E(e){T(e),e.drafts_.forEach(P),e.drafts_=null}function T(e){e===x&&(x=e.parent_)}function R(e){return x={drafts_:[],parent_:x,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function P(e){const t=e[s];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function O(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[s].modified_&&(E(t),i(4)),c(e)&&(e=M(t,e),t.parent_||L(t,e)),t.patches_&&$("Patches").generateReplacementPatches_(n[s].base_,e,t.patches_,t.inversePatches_)):e=M(t,n,[]),E(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==o?e:void 0}function M(e,t,n){if(w(t))return t;const o=t[s];if(!o)return d(t,((r,s)=>D(e,o,t,r,s,n))),t;if(o.scope_!==e)return t;if(!o.modified_)return L(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const t=o.copy_;let r=t,s=!1;3===o.type_&&(r=new Set(t),t.clear(),s=!0),d(r,((r,i)=>D(e,o,t,r,i,n,s))),L(e,t,!1),n&&e.patches_&&$("Patches").generatePatches_(o,n,e.patches_,e.inversePatches_)}return o.copy_}function D(e,t,n,o,r,s,i){if(a(r)){const i=M(e,r,s&&t&&3!==t.type_&&!m(t.assigned_,o)?s.concat(o):void 0);if(f(n,o,i),!a(i))return;e.canAutoFreeze_=!1}else i&&n.add(r);if(c(r)&&!w(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;M(e,r),t&&t.scope_.parent_||"symbol"==typeof o||!Object.prototype.propertyIsEnumerable.call(n,o)||L(e,r)}}function L(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&v(t,n)}var I={get(e,t){if(t===s)return e;const n=b(e);if(!m(n,t))return function(e,t,n){const o=U(t,n);return o?"value"in o?o.value:o.get?.call(e.draft_):void 0}(e,n,t);const o=n[t];return e.finalized_||!c(o)?o:o===z(e.base_,t)?(j(e),e.copy_[t]=H(o,e)):o},has:(e,t)=>t in b(e),ownKeys:e=>Reflect.ownKeys(b(e)),set(e,t,n){const o=U(b(e),t);if(o?.set)return o.set.call(e.draft_,n),!0;if(!e.modified_){const o=z(b(e),t),l=o?.[s];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((r=n)===(i=o)?0!==r||1/r==1/i:r!=r&&i!=i)&&(void 0!==n||m(e.base_,t)))return!0;j(e),B(e)}var r,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==z(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,j(e),B(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=b(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:o.enumerable,value:n[t]}:o},defineProperty(){i(11)},getPrototypeOf:e=>l(e.base_),setPrototypeOf(){i(12)}},N={};function z(e,t){const n=e[s];return(n?b(n):e)[t]}function U(e,t){if(!(t in e))return;let n=l(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=l(n)}}function B(e){e.modified_||(e.modified_=!0,e.parent_&&B(e.parent_))}function j(e){e.copy_||(e.copy_=y(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function H(e,t){const n=g(e)?$("MapSet").proxyMap_(e,t):_(e)?$("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),o={type_:n?1:0,scope_:t?t.scope_:C(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=o,s=I;n&&(r=[o],s=N);const{revoke:i,proxy:l}=Proxy.revocable(r,s);return o.draft_=l,o.revoke_=i,l}(e,t);return(t?t.scope_:C()).drafts_.push(n),n}function F(e){if(!c(e)||w(e))return e;const t=e[s];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=y(e,t.scope_.immer_.useStrictShallowCopy_)}else n=y(e,!0);return d(n,((e,t)=>{f(n,e,F(t))})),t&&(t.finalized_=!1),n}d(I,((e,t)=>{N[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),N.deleteProperty=function(e,t){return N.set.call(this,e,t,void 0)},N.set=function(e,t,n){return I.set.call(this,e[0],t,n,e[0])};var W=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const o=this;return function(e=n,...r){return o.produce(e,(e=>t.call(this,e,...r)))}}let r;if("function"!=typeof t&&i(6),void 0!==n&&"function"!=typeof n&&i(7),c(e)){const o=R(this),s=H(e,void 0);let i=!0;try{r=t(s),i=!1}finally{i?E(o):T(o)}return S(o,n),O(r,o)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===o&&(r=void 0),this.autoFreeze_&&v(r,!0),n){const t=[],o=[];$("Patches").generateReplacementPatches_(e,r,t,o),n(t,o)}return r}i(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,o;return[this.produce(e,t,((e,t)=>{n=e,o=t})),n,o]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){var t;c(e)||i(8),a(e)&&(a(t=e)||i(10),e=F(t));const n=R(this),o=H(e,void 0);return o[s].isManual_=!0,T(n),o}finishDraft(e,t){const n=e&&e[s];n&&n.isManual_||i(9);const{scope_:o}=n;return S(o,t),O(void 0,o)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(0===o.path.length&&"replace"===o.op){e=o.value;break}}n>-1&&(t=t.slice(n+1));const o=$("Patches").applyPatches_;return a(e)?o(e,t):this.produce(e,(e=>o(e,t)))}},q=W.produce;function V(e){return(t,...n)=>q(t,(t=>{e(t,...n)}))}W.produceWithPatches.bind(W),W.setAutoFreeze.bind(W),W.setUseStrictShallowCopy.bind(W),W.applyPatches.bind(W),W.createDraft.bind(W),W.finishDraft.bind(W)},739:(e,t,n)=>{n.d(t,{a:()=>o});const o=(e,t,n)=>{const o=e[t];if(!o)throw new Error(`No state: ${o} found in state machine`);const r=o.find((e=>e[0]===n));return r?{next_state:r[1],transition:r[2]}:{}}},741:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(859),r=n(634);const s=(e,t)=>(t?e.state[t]:e.state)||"",i=(e,t,n)=>{if(t){const o=e.state||{};o[t]=n,e.setState(o)}else e.setState(n)},l=(e,t)=>{if(Array.isArray(e))return e.map((e=>l(e,t)));{let{type:n,tag:a,props:c,children:u}=e;return a=a||n,u=u||c?.children,c&&Object.keys(c).forEach((e=>{e.startsWith("$")&&(((e,t,n,l)=>{if(e.startsWith("$on")){const n=t[e];if(e=e.substring(1),"boolean"==typeof n)t[e]=t=>l.run?l.run(e,t):o.A.run(e,t);else if("string"==typeof n)t[e]=e=>l.run?l.run(n,e):o.A.run(n,e);else if("function"==typeof n)t[e]=e=>l.setState(n(l.state,e));else if(Array.isArray(n)){const[r,...s]=n;"string"==typeof r?t[e]=e=>l.run?l.run(r,...s,e):o.A.run(r,...s,e):"function"==typeof r&&(t[e]=e=>l.setState(r(l.state,...s,e)))}}else if("$bind"===e){const o=t.type||"text",a="string"==typeof t[e]?t[e]:t.name;if("input"===n)switch(o){case"checkbox":t.checked=s(l,a),t.onclick=e=>{const t=(0,r.PB)(e);t&&i(l,a||t.name,t.checked)};break;case"radio":t.checked=s(l,a)===t.value,t.onclick=e=>{const t=(0,r.PB)(e);t&&i(l,a||t.name,t.value)};break;case"number":case"range":t.value=s(l,a),t.oninput=e=>{const t=(0,r.PB)(e);t&&i(l,a||t.name,Number(t.value))};break;default:t.value=s(l,a),t.oninput=e=>{const t=(0,r.PB)(e);t&&i(l,a||t.name,t.value)}}else"select"===n?(t.value=s(l,a),t.onchange=e=>{const t=(0,r.PB)(e);t&&!t.multiple&&i(l,a||t.name,t.value)}):"option"===n?(t.selected=s(l,a),t.onclick=e=>{const t=(0,r.PB)(e);t&&i(l,a||t.name,t.selected)}):"textarea"===n&&(t.innerHTML=s(l,a),t.oninput=e=>{const t=(0,r.PB)(e);t&&i(l,a||t.name,t.value)})}else o.A.run("$",{key:e,tag:n,props:t,component:l})})(e,c,a,t),delete c[e])})),u&&l(u,t),e}},a=l},752:(e,t,n)=>{n.d(t,{JW:()=>$,XX:()=>F,c0:()=>C,ge:()=>j,qy:()=>A,s6:()=>S});const o=globalThis,r=o.trustedTypes,s=r?r.createPolicy("lit-html",{createHTML:e=>e}):void 0,i="$lit$",l=`lit$${Math.random().toFixed(9).slice(2)}$`,a="?"+l,c=`<${a}>`,u=document,p=()=>u.createComment(""),d=e=>null===e||"object"!=typeof e&&"function"!=typeof e,h=Array.isArray,m=e=>h(e)||"function"==typeof e?.[Symbol.iterator],f="[ \t\n\f\r]",g=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_=/-->/g,b=/>/g,y=RegExp(`>|${f}(?:([^\\s"'>=/]+)(${f}*=${f}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),v=/'/g,k=/"/g,w=/^(?:script|style|textarea|title)$/i,x=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),A=x(1),$=x(2),C=(x(3),Symbol.for("lit-noChange")),S=Symbol.for("lit-nothing"),E=new WeakMap,T=u.createTreeWalker(u,129);function R(e,t){if(!h(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s?s.createHTML(t):t}const P=(e,t)=>{const n=e.length-1,o=[];let r,s=2===t?"<svg>":3===t?"<math>":"",a=g;for(let t=0;t<n;t++){const n=e[t];let u,p,d=-1,h=0;for(;h<n.length&&(a.lastIndex=h,p=a.exec(n),null!==p);)h=a.lastIndex,a===g?"!--"===p[1]?a=_:void 0!==p[1]?a=b:void 0!==p[2]?(w.test(p[2])&&(r=RegExp("</"+p[2],"g")),a=y):void 0!==p[3]&&(a=y):a===y?">"===p[0]?(a=r??g,d=-1):void 0===p[1]?d=-2:(d=a.lastIndex-p[2].length,u=p[1],a=void 0===p[3]?y:'"'===p[3]?k:v):a===k||a===v?a=y:a===_||a===b?a=g:(a=y,r=void 0);const m=a===y&&e[t+1].startsWith("/>")?" ":"";s+=a===g?n+c:d>=0?(o.push(u),n.slice(0,d)+i+n.slice(d)+l+m):n+l+(-2===d?t:m)}return[R(e,s+(e[n]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),o]};class O{constructor({strings:e,_$litType$:t},n){let o;this.parts=[];let s=0,c=0;const u=e.length-1,d=this.parts,[h,m]=P(e,t);if(this.el=O.createElement(h,n),T.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(o=T.nextNode())&&d.length<u;){if(1===o.nodeType){if(o.hasAttributes())for(const e of o.getAttributeNames())if(e.endsWith(i)){const t=m[c++],n=o.getAttribute(e).split(l),r=/([.?@])?(.*)/.exec(t);d.push({type:1,index:s,name:r[2],strings:n,ctor:"."===r[1]?N:"?"===r[1]?z:"@"===r[1]?U:I}),o.removeAttribute(e)}else e.startsWith(l)&&(d.push({type:6,index:s}),o.removeAttribute(e));if(w.test(o.tagName)){const e=o.textContent.split(l),t=e.length-1;if(t>0){o.textContent=r?r.emptyScript:"";for(let n=0;n<t;n++)o.append(e[n],p()),T.nextNode(),d.push({type:2,index:++s});o.append(e[t],p())}}}else if(8===o.nodeType)if(o.data===a)d.push({type:2,index:s});else{let e=-1;for(;-1!==(e=o.data.indexOf(l,e+1));)d.push({type:7,index:s}),e+=l.length-1}s++}}static createElement(e,t){const n=u.createElement("template");return n.innerHTML=e,n}}function M(e,t,n=e,o){if(t===C)return t;let r=void 0!==o?n._$Co?.[o]:n._$Cl;const s=d(t)?void 0:t._$litDirective$;return r?.constructor!==s&&(r?._$AO?.(!1),void 0===s?r=void 0:(r=new s(e),r._$AT(e,n,o)),void 0!==o?(n._$Co??=[])[o]=r:n._$Cl=r),void 0!==r&&(t=M(e,r._$AS(e,t.values),r,o)),t}class D{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,o=(e?.creationScope??u).importNode(t,!0);T.currentNode=o;let r=T.nextNode(),s=0,i=0,l=n[0];for(;void 0!==l;){if(s===l.index){let t;2===l.type?t=new L(r,r.nextSibling,this,e):1===l.type?t=new l.ctor(r,l.name,l.strings,this,e):6===l.type&&(t=new B(r,this,e)),this._$AV.push(t),l=n[++i]}s!==l?.index&&(r=T.nextNode(),s++)}return T.currentNode=u,o}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class L{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,o){this.type=2,this._$AH=S,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=o,this._$Cv=o?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=M(this,e,t),d(e)?e===S||null==e||""===e?(this._$AH!==S&&this._$AR(),this._$AH=S):e!==this._$AH&&e!==C&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):m(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==S&&d(this._$AH)?this._$AA.nextSibling.data=e:this.T(u.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:n}=e,o="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=O.createElement(R(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===o)this._$AH.p(t);else{const e=new D(o,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=E.get(e.strings);return void 0===t&&E.set(e.strings,t=new O(e)),t}k(e){h(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,o=0;for(const r of e)o===t.length?t.push(n=new L(this.O(p()),this.O(p()),this,this.options)):n=t[o],n._$AI(r),o++;o<t.length&&(this._$AR(n&&n._$AB.nextSibling,o),t.length=o)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class I{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,o,r){this.type=1,this._$AH=S,this._$AN=void 0,this.element=e,this.name=t,this._$AM=o,this.options=r,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=S}_$AI(e,t=this,n,o){const r=this.strings;let s=!1;if(void 0===r)e=M(this,e,t,0),s=!d(e)||e!==this._$AH&&e!==C,s&&(this._$AH=e);else{const o=e;let i,l;for(e=r[0],i=0;i<r.length-1;i++)l=M(this,o[n+i],t,i),l===C&&(l=this._$AH[i]),s||=!d(l)||l!==this._$AH[i],l===S?e=S:e!==S&&(e+=(l??"")+r[i+1]),this._$AH[i]=l}s&&!o&&this.j(e)}j(e){e===S?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class N extends I{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===S?void 0:e}}class z extends I{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==S)}}class U extends I{constructor(e,t,n,o,r){super(e,t,n,o,r),this.type=5}_$AI(e,t=this){if((e=M(this,e,t,0)??S)===C)return;const n=this._$AH,o=e===S&&n!==S||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,r=e!==S&&(n===S||o);o&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class B{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){M(this,e)}}const j={M:i,P:l,A:a,C:1,L:P,R:D,D:m,V:M,I:L,H:I,N:z,U,B:N,F:B},H=o.litHtmlPolyfillSupport;H?.(O,L),(o.litHtmlVersions??=[]).push("3.3.0");const F=(e,t,n)=>{const o=n?.renderBefore??t;let r=o._$litPart$;if(void 0===r){const e=n?.renderBefore??null;o._$litPart$=r=new L(t.insertBefore(p(),e),e,void 0,n??{})}return r._$AI(e),r}},804:(e,t,n)=>{n.d(t,{OA:()=>o,WL:()=>s,u$:()=>r});const o={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},r=e=>(...t)=>({_$litDirective$:e,values:t});class s{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}},859:(e,t,n)=>{n.d(t,{A:()=>a,q:()=>r});var o=n(672);class r{constructor(){this._events={}}on(e,t,n={}){this._events[e]=this._events[e]||[],this._events[e].push({fn:t,options:n})}off(e,t){const n=this._events[e]||[];this._events[e]=n.filter((e=>e.fn!==t))}find(e){return this._events[e]}run(e,...t){const n=this.getSubscribers(e,this._events);return console.assert(n&&n.length>0,"No subscriber for event: "+e),n.forEach((n=>{const{fn:o,options:r}=n;if(!o||"function"!=typeof o)return console.error(`AppRun event handler for '${e}' is not a function:`,o),!1;if(r.delay)this.delay(e,o,t,r);else try{Object.keys(r).length>0?o.apply(this,[...t,r]):o.apply(this,t)}catch(t){console.error(`Error in event handler for '${e}':`,t)}return!n.options.once})),n.length}once(e,t,n={}){this.on(e,t,{...n,once:!0})}delay(e,t,n,o){o._t&&clearTimeout(o._t),o._t=setTimeout((()=>{clearTimeout(o._t);try{Object.keys(o).length>0?t.apply(this,[...n,o]):t.apply(this,n)}catch(t){console.error(`Error in delayed event handler for '${e}':`,t)}}),o.delay)}runAsync(e,...t){const n=this.getSubscribers(e,this._events);console.assert(n&&n.length>0,"No subscriber for event: "+e);const o=n.map((n=>{const{fn:o,options:r}=n;if(!o||"function"!=typeof o)return console.error(`AppRun async event handler for '${e}' is not a function:`,o),Promise.resolve(null);try{return Object.keys(r).length>0?o.apply(this,[...t,r]):o.apply(this,t)}catch(t){return console.error(`Error in async event handler for '${e}':`,t),Promise.reject(t)}}));return Promise.all(o)}query(e,...t){return console.warn("app.query() is deprecated. Use app.runAsync() instead."),this.runAsync(e,...t)}getSubscribers(e,t){const n=t[e]||[];return t[e]=n.filter((e=>!e.options.once)),Object.keys(t).filter((t=>t.endsWith("*")&&e.startsWith(t.replace("*","")))).sort(((e,t)=>t.length-e.length)).forEach((o=>n.push(...t[o].map((t=>({...t,options:{...t.options,event:e}})))))),n}}const s=o.C;let i;const l="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};l.app&&l._AppRunVersions?i=l.app:(i=new r,l.app=i,l._AppRunVersions=s);const a=i},962:(e,t,n)=>{var o=n(971);class r extends o.Component{constructor(){super(...arguments),this.view=({code:e,hide_code:t})=>o.app.h(o.app.Fragment,null,o.app.h("style",null,"\n.CodeMirror, .apprun-play iframe {\n  height: 100%;\n  border: dotted gray 1px;\n}\n\n.apprun-play {\n  height: 100%;\n  display: flex;\n  font-size: 1.1rem;\n}\n\n.apprun-play .col {\n  margin: 2px;\n}\n\n.apprun-play .editor, .apprun-play .preview {\n  width: 100%;\n  height: 100%;\n}\n"),t?o.app.h("div",{class:"apprun-play"},o.app.h("iframe",{class:"preview"})):o.app.h("div",{class:"apprun-play"},o.app.h("div",{class:"col",style:"width:75%"},o.app.h("textarea",{class:"editor"},e)),o.app.h("div",{class:"col",style:"flex:1"},o.app.h("iframe",{class:"preview"})))),this.mounted=e=>{const t=this.element,n=e["code-id"],o=e["hide-code"],r=e["code-width"];let s;s=n?document.getElementById(n):t.previousElementSibling||t.parentElement.previousElementSibling;const i=s?.innerText||s?.value||t.textContent;return s&&(s.style.display="none"),{code:i,hide_code:o,code_width:r}},this.rendered=({code:e,hide_code:t,code_width:n})=>{const o=this.element,r=o.querySelector(".apprun-play .editor");let s=o.querySelector(".apprun-play .preview");if(!s||!r)return;const i=e=>{const t=s.cloneNode();s.parentNode?.replaceChild(t,s),s=t;const n=s.contentWindow?.document;n&&(n.open(),e.indexOf("<html")>=0?n.write(e):n.write((e=>`<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <meta http-equiv="X-UA-Compatible" content="ie=edge">\n  <title>AppRun Playground</title>\n  <style>\n    body {\n      font-family: "Benton Sans", "Helvetica Neue", helvetica, arial, sans-serif;\n      margin: 2em;\n    }\n  </style>\n  <script src="https://cdn.jsdelivr.net/npm/typescript@latest"><\/script>\n  <script src="dist/apprun-html.js"><\/script>\n</head>\n<body>\n<pre id="code" style="display:none">${(e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))(e)}</pre>\n<script type="module">\nconst code = document.getElementById('code').innerText;\nconst compiled = ts.transpileModule(code, {\n  compilerOptions: {\n    "jsx": "react",\n    "jsxFactory": "app.h",\n    "jsxFragmentFactory": "app.Fragment",\n    "target": "es2020",\n    "module": "esnext",\n  },\n  reportDiagnostics: true,\n});\n\nif (compiled.diagnostics && compiled.diagnostics.length) {\n  const pre = document.createElement('pre');\n  pre.style = 'font-size: 10px;';\n  pre.innerText = compiled.diagnostics.map(d => {\n    const start = d.start;\n    const end = d.start + d.length;\n    const line = code.substring(0, end).split('\\n').length;\n    const column = code.substring(0, end).split('\\n').pop().length;\n    return \`Line: \${line}, Column: \${column}, \${d.messageText}\`;\n  }).join('\\n');\n  document.body.appendChild(pre);\n} else {\n  window.onerror = function () {\n    const pre = document.createElement('pre');\n    pre.style = 'font-size: 10px;';\n    pre.innerText = compiled.outputText;;\n    document.body.appendChild(pre);\n  };\n  const script = document.createElement('script');\n  script.type = 'module';\n  script.text = compiled.outputText;\n  document.body.appendChild(script);\n}\n<\/script>\n</body>\n</html>`)(e)),n.close())};if(e&&i(e),!t&&r)if(n&&(r.parentElement.style.width=n),"undefined"==typeof CodeMirror)r.onkeyup=()=>i(r.value);else{const t=CodeMirror.fromTextArea(r,{lineNumbers:!0,mode:"jsx"});t.setValue(e),t.on("change",(e=>i(e.getValue())))}}}}o.app.webComponent("apprun-code",r)},971:(e,t,n)=>{n.d(t,{Component:()=>h,ROUTER_EVENT:()=>g,app:()=>$,default:()=>C,on:()=>a,safeHTML:()=>r.safeHTML});var o=n(859),r=n(320);const s=(e,t={})=>class extends HTMLElement{constructor(){super()}get component(){return this._component}get state(){return this._component.state}static get observedAttributes(){return(t.observedAttributes||[]).map((e=>e.toLowerCase()))}connectedCallback(){if(this.isConnected&&!this._component){const n=t||{};this._shadowRoot=n.shadow?this.attachShadow({mode:"open"}):this;const o=n.observedAttributes||[],r=o.reduce(((e,t)=>{const n=t.toLowerCase();return n!==t&&(e[n]=t),e}),{});this._attrMap=e=>r[e]||e;const s={};Array.from(this.attributes).forEach((e=>s[this._attrMap(e.name)]=e.value)),o.forEach((e=>{void 0!==this[e]&&(s[e]=this[e]),Object.defineProperty(this,e,{get:()=>s[e],set(t){this.attributeChangedCallback(e,s[e],t)},configurable:!0,enumerable:!0})})),requestAnimationFrame((()=>{const t=this.children?Array.from(this.children):[];if(this._component=new e({...s,children:t}).mount(this._shadowRoot,n),this._component._props=s,this._component.dispatchEvent=this.dispatchEvent.bind(this),this._component.mounted){const e=this._component.mounted(s,t,this._component.state);void 0!==e&&(this._component.state=e)}this.on=this._component.on.bind(this._component),this.run=this._component.run.bind(this._component),!1!==n.render&&this._component.run(".")}))}}disconnectedCallback(){this._component?.unload?.(),this._component?.unmount?.(),this._component=null}attributeChangedCallback(e,n,o){if(this._component){const r=this._attrMap(e);this._component._props[r]=o,this._component.run("attributeChanged",r,n,o),o!==n&&!1!==t.render&&window.requestAnimationFrame((()=>{this._component.run(".")}))}}},i=(e,t,n)=>{"undefined"!=typeof customElements&&customElements.define(e,s(t,n))},l={meta:new WeakMap,defineMetadata(e,t,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[e]=t},getMetadataKeys(e){return e=Object.getPrototypeOf(e),this.meta.get(e)?Object.keys(this.meta.get(e)):[]},getMetadata(e,t){return t=Object.getPrototypeOf(t),this.meta.get(t)?this.meta.get(t)[e]:null}};function a(e,t={}){return function(n,o){const r=e?e.toString():o;l.defineMetadata(`apprun-update:${r}`,{name:r,key:o,options:t},n)}}var c=n(741),u=n(634);const p=e=>e,d=o.A;class h{renderState(e,t=null){if(!this.view)return;let n=t||this.view(e);if(d.debug&&d.run("debug",{component:this,_:n?".":"-",state:e,vdom:n,el:this.element}),"object"!=typeof document)return;const o="string"==typeof this.element&&this.element?(0,u.oP)(this.element)||(0,u.bV)(this.element):this.element;if(!o)return void console.warn(`Component element not found: ${this.element}`);const r="_c";this.unload?o._component===this&&o.getAttribute(r)===this.tracking_id||(this.tracking_id=(new Date).valueOf().toString(),o.setAttribute(r,this.tracking_id),"undefined"!=typeof MutationObserver&&(this.observer||(this.observer=new MutationObserver((e=>{e[0].oldValue!==this.tracking_id&&document.body.contains(o)||(this.unload(this.state),this.observer.disconnect(),this.observer=null)}))),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[r]}))):o.removeAttribute&&o.removeAttribute(r),o._component=this,!t&&n&&(n=(0,c.A)(n,this),this.options.transition&&document&&document.startViewTransition?document.startViewTransition((()=>d.render(o,n,this))):d.render(o,n,this)),this.rendered&&this.rendered(this.state)}setState(e,t={render:!0,history:!1}){const n=e;if(n?.[Symbol.asyncIterator])this.setState((async e=>{try{for(;;){const{value:n,done:o}=await e.next();if(o)break;this.setState(n,t)}}catch(e){console.error("Error in async iterator:",e)}})(n[Symbol.asyncIterator]()),t);else if(n?.[Symbol.iterator]&&"function"==typeof n.next)for(const e of n)this.setState(e,t);else if(e&&e instanceof Promise)Promise.resolve(e).then((n=>{this.setState(n,t),this._state=e}));else{if(this._state=e,null==e)return;this.state=e,!1!==t.render&&(t.transition&&document&&document.startViewTransition?document.startViewTransition((()=>this.renderState(e))):this.renderState(e)),!1!==t.history&&this.enable_history&&(this._history=[...this._history,e],this._history_idx=this._history.length-1),"function"==typeof t.callback&&t.callback(this.state)}}constructor(e,t,n,r){this.state=e,this.view=t,this.update=n,this.options=r,this._app=new o.q,this._actions=[],this._global_events=[],this._history=[],this._history_idx=-1,this._history_prev=()=>{this._history_idx--,this._history_idx>=0?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=0},this._history_next=()=>{this._history_idx++,this._history_idx<this._history.length?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=this._history.length-1},this.start=(e=null,t)=>{if(this.mount(e,{render:!0,...t}),this.mounted&&"function"==typeof this.mounted){const e=this.mounted({},[],this.state);void 0!==e&&this.setState(e)}return this}}mount(e=null,t){return console.assert(!this.element,"Component already mounted."),this.options=t={...this.options,...t},this.element=e,this.global_event=t.global_event,this.enable_history=!!t.history,this.enable_history&&(this.on(t.history.prev||"history-prev",this._history_prev),this.on(t.history.next||"history-next",this._history_next)),t.route&&(this.update=this.update||{},this.update[t.route]||(this.update[t.route]=p)),this.add_actions(),this.state=this.state??this.model??{},"function"==typeof this.state&&(this.state=this.state()),this.setState(this.state,{render:!!t.render,history:!0}),d.debug&&d.find("debug-create-component")?.length&&d.run("debug-create-component",this),this}is_global_event(e){return e&&(this.global_event||this._global_events.indexOf(e)>=0||e.startsWith("#")||e.startsWith("/")||e.startsWith("@"))}add_action(e,t,n={}){t&&"function"==typeof t?(n.global&&this._global_events.push(e),this.on(e,((...o)=>{d.debug&&d.run("debug",{component:this,_:">",event:e,p:o,current_state:this.state,options:n});try{const r=t(this.state,...o);d.debug&&d.run("debug",{component:this,_:"<",event:e,p:o,newState:r,state:this.state,options:n}),this.setState(r,n)}catch(t){console.error(`Error in component action '${e}':`,t),d.debug&&d.run("debug",{component:this,_:"!",event:e,p:o,error:t,state:this.state,options:n})}}),n)):console.warn(`Component action for '${e}' is not a valid function:`,t)}add_actions(){const e=this.update||{};l.getMetadataKeys(this).forEach((t=>{if(t.startsWith("apprun-update:")){const n=l.getMetadata(t,this);e[n.name]=[this[n.key].bind(this),n.options]}}));const t={};Array.isArray(e)?e.forEach((e=>{const[n,o,r]=e;n.toString().split(",").forEach((e=>t[e.trim()]=[o,r]))})):Object.keys(e).forEach((n=>{const o=e[n];("function"==typeof o||Array.isArray(o))&&n.split(",").forEach((e=>t[e.trim()]=o))})),t["."]||(t["."]=p),Object.keys(t).forEach((e=>{const n=t[e];"function"==typeof n?this.add_action(e,n):Array.isArray(n)&&this.add_action(e,n[0],n[1])}))}run(e,...t){if(this.state instanceof Promise)return Promise.resolve(this.state).then((n=>{this.state=n,this.run(e,...t)}));{const n=e.toString();return this.is_global_event(n)?d.run(n,...t):this._app.run(n,...t)}}on(e,t,n){const o=e.toString();return this._actions.push({name:o,fn:t}),this.is_global_event(o)?d.on(o,t,n):this._app.on(o,t,n)}runAsync(e,...t){const n=e.toString();return this.is_global_event(n)?d.runAsync(n,...t):this._app.runAsync(n,...t)}query(e,...t){return console.warn("component.query() is deprecated. Use component.runAsync() instead."),this.runAsync(e,...t)}unmount(){this.observer?.disconnect(),this._actions.forEach((e=>{const{name:t,fn:n}=e;this.is_global_event(t)?d.off(t,n):this._app.off(t,n)}))}}function m(){const e=o.A.find("#");if(e&&e.length>0)return o.A.run("#"),void o.A.run(g,"#");const t=o.A.find("/");if(t&&t.length>0)return o.A.run("/"),void o.A.run(g,"/");const n=o.A.find("#/");if(n&&n.length>0)return o.A.run("#/"),void o.A.run(g,"#/");console.warn("No subscribers for event: "),o.A.run(_,""),o.A.run(g,"")}h.__isAppRunComponent=!0;const f=(e,...t)=>{if(!e||e===g||e===_)return;const n=o.A.find(e);n&&0!==n.length?o.A.run(e,...t):(console.warn(`No subscribers for event: ${e}`),o.A.run(_,e,...t)),o.A.run(g,e,...t)},g="//",_="///",b=e=>{o.A.lastUrl!==e&&(o.A.lastUrl=e,function(e){if(!e)return void m();e=function(e){return e&&"/"!==e&&"#"!==e&&"#/"!==e&&e.endsWith("/")?e.slice(0,-1):e}(e);const t=o.A.basePath;t&&(e=function(e,t){if(!t||"/"===t||""===t)return e;const n=t.startsWith("/")?t:"/"+t;if(e.startsWith(n)){const t=e.substring(n.length);return t.startsWith("/")?t:"/"+t}return e}(e,t));const n=function(e){return e?e.startsWith("#/")?e.substring(2).split("/"):e.startsWith("#")||e.startsWith("/")?e.substring(1).split("/"):e.split("/"):[]}(e);let r;!function(e){const t=e.filter(Boolean);t.length>11&&console.warn(`Deep route hierarchy detected: ${t.join("/")} (${t.length} levels)`)}(n),r=e.startsWith("#/")?"hash-slash":e.startsWith("#")?"hash":e.startsWith("/")?"path":"non-prefixed";const s=function(e,t){const n=[];for(let o=e.length;o>0;o--){const r=e.slice(0,o);let s="";switch(t){case"path":s="/"+r.join("/");break;case"hash":s="#"+r.join("/");break;case"hash-slash":s="#/"+r.join("/");break;case"non-prefixed":s=r.join("/")}n.push(s)}return n}(n,r),i=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],s=o.A.find(r);if(s&&s.length>0){const o=e.length-n;return{eventName:r,parameters:t.slice(o)}}}return null}(s,n);if(i)f(i.eventName,...i.parameters);else if(s.length>0){const t=s[s.length-1];console.warn(`No subscribers for event: ${t}`),o.A.run(_,e),o.A.run(g,e)}else m()}(e))};function y(e){return e&&"object"==typeof e&&"function"==typeof e.mount}function v(e){return"function"==typeof e&&e.prototype&&e.prototype.constructor===e&&(void 0!==e.prototype.mount||void 0!==e.prototype.state||void 0!==e.prototype.view)}function k(e){return"function"==typeof e&&!v(e)}async function w(e,t=3){let n=e,o=0;for(;k(n)&&o<t;)try{const e=await n();if(e===n)break;n=e,o++}catch(e){console.error(`Error executing component function: ${e}`);break}return n}const x=async(e,t)=>{for(const[n,r]of Object.entries(t))if(r&&n)if(y(r)){const t={route:n};r.mount(e,t)}else if(v(r)){const t={route:n};(new r).mount(e,t)}else if(k(r)){let t=await w(r);if(y(t)){const o={route:n};t.mount(e,o);continue}if(v(t)){const o={route:n};(new t).mount(e,o);continue}o.A.on(n,((...t)=>{const n=r(...t);if("string"!=typeof e||(e=document.querySelector(e)))return o.A.render(e,n);console.error(`Element not found: ${e}`)}))}else console.error("Invalid component: component must be a class, instance, or function that returns a class/instance");else console.error(`Invalid component configuration: component=${r}, route=${n}`)};var A=n(672);const $=o.A,C=$;if(!$.start){$.version=A.a,$.h=$.createElement=r.createElement,$.render=r.render,$.Fragment=r.Fragment,$.webComponent=i,$.safeHTML=r.safeHTML,$.start=(e,t,n,o,r)=>{const s={render:!0,global_event:!0,...r},i=new h(t,n,o);return r&&r.rendered&&(i.rendered=r.rendered),r&&r.mounted&&(i.mounted=r.mounted),i.start(e,s),i},$.query=$.query||$.runAsync;const e=e=>{};if($.on("/",e),$.on("debug",(t=>e)),$.on(g,e),$.on(_,e),$.route=b,$.on("route",(e=>$.route&&$.route(e))),"object"==typeof document){let e=location.pathname;e.endsWith("/")&&(e=e.slice(0,-1)),$.basePath=e,document.addEventListener("DOMContentLoaded",(()=>{const e=document.body.hasAttribute("apprun-no-init")||$["no-init-route"]||!1,t=$.find("#")||$.find("#/")||!1;window.addEventListener("hashchange",(()=>b(location.hash))),window.addEventListener("popstate",(()=>b(location.pathname))),t?!e&&b(location.hash):(!e&&(()=>{const e=$.basePath||"";let t=location.pathname;e&&t.startsWith(e)&&(t=t.substring(e.length),t.startsWith("/")||(t="/"+t)),b(t)})(),document.body.addEventListener("click",(e=>{const t=e.target;if(!t)return;const n="A"===t.tagName?t:t.closest("a");if(n&&n.origin===location.origin&&n.pathname){e.preventDefault();const t=($.basePath||"")+n.pathname;history.pushState(null,"",t),b(n.pathname)}})))}))}if("object"==typeof window){const e=window;e.Component=h,e._React=e.React,e.React=$,e.on=a,e.customElement=function(e,t){return function(n){return i(e,n,t),n}},e.safeHTML=r.safeHTML}$.use_render=(e,t=0)=>{$.render=0===t?(t,n)=>e(n,t):(t,n)=>e(t,n)},$.use_react=(e,t)=>{if(e&&t)if("function"==typeof e.createElement)if(e.Fragment)if($.h=$.createElement=e.createElement,$.Fragment=e.Fragment,e.version&&e.version.startsWith("18")){if(!t.createRoot||"function"!=typeof t.createRoot)return void console.error("AppRun use_react: ReactDOM.createRoot not found in React 18+");$.render=(e,n)=>{e&&void 0!==n&&(e._root||(e._root=t.createRoot(e)),e._root.render(n))}}else{if(!t.render||"function"!=typeof t.render)return void console.error("AppRun use_react: ReactDOM.render not found in legacy React");$.render=(e,n)=>t.render(n,e)}else console.error("AppRun use_react: Invalid React object - Fragment not found");else console.error("AppRun use_react: Invalid React object - createElement method not found");else console.error("AppRun use_react: React and ReactDOM parameters are required")},$.addComponents=x}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={},apprun=__webpack_require__(971);function M(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var w=M();function H(e){w=e}var C={exec:()=>null};function h(e,t=""){let n="string"==typeof e?e:e.source,o={replace:(e,t)=>{let r="string"==typeof t?t:t.source;return r=r.replace(m.caret,"$1"),n=n.replace(e,r),o},getRegex:()=>new RegExp(n,t)};return o}var m={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},xe=/^(?:[ \t]*(?:\n|$))+/,be=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Te=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,I=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,we=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,j=/(?:[*+-]|\d{1,9}[.)])/,re=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ie=h(re).replace(/bull/g,j).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ye=h(re).replace(/bull/g,j).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),F=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Re=/^[^\n]+/,Q=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Se=h(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Q).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$e=h(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,j).getRegex(),v="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_e=h("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",U).replace("tag",v).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),oe=h(F).replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex(),Le=h(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",oe).getRegex(),K={blockquote:Le,code:be,def:Se,fences:Te,heading:we,hr:I,html:_e,lheading:ie,list:$e,newline:xe,paragraph:oe,table:C,text:Re},se=h("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex(),ze={...K,lheading:ye,table:se,paragraph:h(F).replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",se).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex()},Me={...K,html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",U).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:h(F).replace("hr",I).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ie).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Pe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ae=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,le=/^( {2,}|\\)\n(?!\s*$)/,Ee=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,D=/[\p{P}\p{S}]/u,X=/[\s\p{P}\p{S}]/u,ae=/[^\s\p{P}\p{S}]/u,Ce=h(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,X).getRegex(),ce=/(?!~)[\p{P}\p{S}]/u,Ie=/(?!~)[\s\p{P}\p{S}]/u,Oe=/(?:[^\s\p{P}\p{S}]|~)/u,Be=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,pe=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,qe=h(pe,"u").replace(/punct/g,D).getRegex(),ve=h(pe,"u").replace(/punct/g,ce).getRegex(),ue="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",De=h(ue,"gu").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,X).replace(/punct/g,D).getRegex(),Ze=h(ue,"gu").replace(/notPunctSpace/g,Oe).replace(/punctSpace/g,Ie).replace(/punct/g,ce).getRegex(),Ge=h("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,X).replace(/punct/g,D).getRegex(),He=h(/\\(punct)/,"gu").replace(/punct/g,D).getRegex(),Ne=h(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),je=h(U).replace("(?:--\x3e|$)","--\x3e").getRegex(),Fe=h("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",je).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),q=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Qe=h(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",q).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),he=h(/^!?\[(label)\]\[(ref)\]/).replace("label",q).replace("ref",Q).getRegex(),ke=h(/^!?\[(ref)\](?:\[\])?/).replace("ref",Q).getRegex(),Ue=h("reflink|nolink(?!\\()","g").replace("reflink",he).replace("nolink",ke).getRegex(),W={_backpedal:C,anyPunctuation:He,autolink:Ne,blockSkip:Be,br:le,code:Ae,del:C,emStrongLDelim:qe,emStrongRDelimAst:De,emStrongRDelimUnd:Ge,escape:Pe,link:Qe,nolink:ke,punctuation:Ce,reflink:he,reflinkSearch:Ue,tag:Fe,text:Ee,url:C},Ke={...W,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",q).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q).getRegex()},N={...W,emStrongRDelimAst:Ze,emStrongLDelim:ve,url:h(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Xe={...N,br:h(le).replace("{2,}","*").getRegex(),text:h(N.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},O={normal:K,gfm:ze,pedantic:Me},P={normal:W,gfm:N,breaks:Xe,pedantic:Ke},We={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ge=e=>We[e];function R(e,t){if(t){if(m.escapeTest.test(e))return e.replace(m.escapeReplace,ge)}else if(m.escapeTestNoEncode.test(e))return e.replace(m.escapeReplaceNoEncode,ge);return e}function J(e){try{e=encodeURI(e).replace(m.percentDecode,"%")}catch{return null}return e}function V(e,t){let n=e.replace(m.findPipe,((e,t,n)=>{let o=!1,r=t;for(;--r>=0&&"\\"===n[r];)o=!o;return o?"|":" |"})),o=n.split(m.splitPipe),r=0;if(o[0].trim()||o.shift(),o.length>0&&!o.at(-1)?.trim()&&o.pop(),t)if(o.length>t)o.splice(t);else for(;o.length<t;)o.push("");for(;r<o.length;r++)o[r]=o[r].trim().replace(m.slashPipe,"|");return o}function A(e,t,n){let o=e.length;if(0===o)return"";let r=0;for(;r<o;){let s=e.charAt(o-r-1);if(s!==t||n){if(s===t||!n)break;r++}else r++}return e.slice(0,o-r)}function fe(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let o=0;o<e.length;o++)if("\\"===e[o])o++;else if(e[o]===t[0])n++;else if(e[o]===t[1]&&(n--,n<0))return o;return n>0?-2:-1}function de(e,t,n,o,r){let s=t.href,i=t.title||null,l=e[1].replace(r.other.outputLinkReplace,"$1");o.state.inLink=!0;let a={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:s,title:i,text:l,tokens:o.inlineTokens(l)};return o.state.inLink=!1,a}function Je(e,t,n){let o=e.match(n.other.indentCodeCompensation);if(null===o)return t;let r=o[1];return t.split("\n").map((e=>{let t=e.match(n.other.beginningSpace);if(null===t)return e;let[o]=t;return o.length>=r.length?e.slice(r.length):e})).join("\n")}var S=class{options;rules;lexer;constructor(e){this.options=e||w}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:A(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=Je(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=A(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:A(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=A(t[0],"\n").split("\n"),n="",o="",r=[];for(;e.length>0;){let t,s=!1,i=[];for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))i.push(e[t]),s=!0;else{if(s)break;i.push(e[t])}e=e.slice(t);let l=i.join("\n"),a=l.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${l}`:l,o=o?`${o}\n${a}`:a;let c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(a,r,!0),this.lexer.state.top=c,0===e.length)break;let u=r.at(-1);if("code"===u?.type)break;if("blockquote"===u?.type){let t=u,s=t.raw+"\n"+e.join("\n"),i=this.blockquote(s);r[r.length-1]=i,n=n.substring(0,n.length-t.raw.length)+i.raw,o=o.substring(0,o.length-t.text.length)+i.text;break}if("list"!==u?.type);else{let t=u,s=t.raw+"\n"+e.join("\n"),i=this.list(s);r[r.length-1]=i,n=n.substring(0,n.length-u.raw.length)+i.raw,o=o.substring(0,o.length-t.raw.length)+i.raw,e=s.substring(r.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:r,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),o=n.length>1,r={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");let s=this.rules.other.listItemRegex(n),i=!1;for(;e;){let n=!1,o="",l="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;o=t[0],e=e.substring(o.length);let a=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],u=!a.trim(),p=0;if(this.options.pedantic?(p=2,l=a.trimStart()):u?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,l=a.slice(p),p+=t[1].length),u&&this.rules.other.blankLine.test(c)&&(o+=c+"\n",e=e.substring(c.length+1),n=!0),!n){let t=this.rules.other.nextBulletRegex(p),n=this.rules.other.hrRegex(p),r=this.rules.other.fencesBeginRegex(p),s=this.rules.other.headingBeginRegex(p),i=this.rules.other.htmlBeginRegex(p);for(;e;){let d,h=e.split("\n",1)[0];if(c=h,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),d=c):d=c.replace(this.rules.other.tabCharGlobal,"    "),r.test(c)||s.test(c)||i.test(c)||t.test(c)||n.test(c))break;if(d.search(this.rules.other.nonSpaceChar)>=p||!c.trim())l+="\n"+d.slice(p);else{if(u||a.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||r.test(a)||s.test(a)||n.test(a))break;l+="\n"+c}!u&&!c.trim()&&(u=!0),o+=h+"\n",e=e.substring(h.length+1),a=d.slice(p)}}r.loose||(i?r.loose=!0:this.rules.other.doubleBlankLine.test(o)&&(i=!0));let d,h=null;this.options.gfm&&(h=this.rules.other.listIsTask.exec(l),h&&(d="[ ] "!==h[0],l=l.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:o,task:!!h,checked:d,loose:!1,text:l,tokens:[]}),r.raw+=o}let l=r.items.at(-1);if(!l)return;l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd(),r.raw=r.raw.trimEnd();for(let e=0;e<r.items.length;e++)if(this.lexer.state.top=!1,r.items[e].tokens=this.lexer.blockTokens(r.items[e].text,[]),!r.loose){let t=r.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>this.rules.other.anyLine.test(e.raw)));r.loose=n}if(r.loose)for(let e=0;e<r.items.length;e++)r.items[e].loose=!0;return r}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:o}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=V(t[1]),o=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===o.length){for(let e of o)this.rules.other.tableAlignRight.test(e)?s.align.push("right"):this.rules.other.tableAlignCenter.test(e)?s.align.push("center"):this.rules.other.tableAlignLeft.test(e)?s.align.push("left"):s.align.push(null);for(let e=0;e<n.length;e++)s.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:s.align[e]});for(let e of r)s.rows.push(V(e,s.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:s.align[t]}))));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=A(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=fe(t[2],"()");if(-2===e)return;if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],o="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],o=e[3])}else o=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),de(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return de(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let o=this.rules.inline.emStrongLDelim.exec(e);if(!(!o||o[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){let n,r,s=[...o[0]].length-1,i=s,l=0,a="*"===o[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(a.lastIndex=0,t=t.slice(-1*e.length+s);null!=(o=a.exec(t));){if(n=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!n)continue;if(r=[...n].length,o[3]||o[4]){i+=r;continue}if((o[5]||o[6])&&s%3&&!((s+r)%3)){l+=r;continue}if(i-=r,i>0)continue;r=Math.min(r,r+i+l);let t=[...o[0]][0].length,a=e.slice(0,s+o.index+t+r);if(Math.min(s,r)%2){let e=a.slice(1,-1);return{type:"em",raw:a,text:e,tokens:this.lexer.inlineTokens(e)}}let c=a.slice(2,-2);return{type:"strong",raw:a,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),o=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&o&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=t[0],n="mailto:"+e;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(o!==t[0]);e=t[0],n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},b=class e{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||w,this.options.tokenizer=this.options.tokenizer||new S,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:m,block:O.normal,inline:P.normal};this.options.pedantic?(t.block=O.pedantic,t.inline=P.pedantic):this.options.gfm&&(t.block=O.gfm,this.options.breaks?t.inline=P.breaks:t.inline=P.gfm),this.tokenizer.rules=t}static get rules(){return{block:O,inline:P}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){e=e.replace(m.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(m.tabCharGlobal,"    ").replace(m.spaceLine,""));e;){let o;if(this.options.extensions?.block?.some((n=>!!(o=n.call({lexer:this},e,t))&&(e=e.substring(o.raw.length),t.push(o),!0))))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let n=t.at(-1);1===o.raw.length&&void 0!==n?n.raw+="\n":t.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+o.raw,n.text+="\n"+o.text,this.inlineQueue.at(-1).src=n.text):t.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+o.raw,n.text+="\n"+o.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),t.push(o);continue}let r=e;if(this.options.extensions?.startBlock){let t,n=1/0,o=e.slice(1);this.options.extensions.startBlock.forEach((e=>{t=e.call({lexer:this},o),"number"==typeof t&&t>=0&&(n=Math.min(n,t))})),n<1/0&&n>=0&&(r=e.substring(0,n+1))}if(this.state.top&&(o=this.tokenizer.paragraph(r))){let s=t.at(-1);n&&"paragraph"===s?.type?(s.raw+="\n"+o.raw,s.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(o),n=r.length!==e.length,e=e.substring(o.raw.length)}else if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let n=t.at(-1);"text"===n?.type?(n.raw+="\n"+o.raw,n.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(o)}else if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,o=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(n));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,o.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let r=!1,s="";for(;e;){let o;if(r||(s=""),r=!1,this.options.extensions?.inline?.some((n=>!!(o=n.call({lexer:this},e,t))&&(e=e.substring(o.raw.length),t.push(o),!0))))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let n=t.at(-1);"text"===o.type&&"text"===n?.type?(n.raw+=o.raw,n.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,n,s)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),t.push(o);continue}let i=e;if(this.options.extensions?.startInline){let t,n=1/0,o=e.slice(1);this.options.extensions.startInline.forEach((e=>{t=e.call({lexer:this},o),"number"==typeof t&&t>=0&&(n=Math.min(n,t))})),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(o=this.tokenizer.inlineText(i)){e=e.substring(o.raw.length),"_"!==o.raw.slice(-1)&&(s=o.raw.slice(-1)),r=!0;let n=t.at(-1);"text"===n?.type?(n.raw+=o.raw,n.text+=o.text):t.push(o)}else if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}},$=class{options;parser;constructor(e){this.options=e||w}space(e){return""}code({text:e,lang:t,escaped:n}){let o=(t||"").match(m.notSpaceStart)?.[0],r=e.replace(m.endingNewline,"")+"\n";return o?'<pre><code class="language-'+R(o)+'">'+(n?r:R(r,!0))+"</code></pre>\n":"<pre><code>"+(n?r:R(r,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,o="";for(let t=0;t<e.items.length;t++){let n=e.items[t];o+=this.listitem(n)}let r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+o+"</"+r+">\n"}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+R(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let o="";for(let t=0;t<e.rows.length;t++){let r=e.rows[t];n="";for(let e=0;e<r.length;e++)n+=this.tablecell(r[e]);o+=this.tablerow({text:n})}return o&&(o=`<tbody>${o}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+o+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${R(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let o=this.parser.parseInline(n),r=J(e);if(null===r)return o;let s='<a href="'+(e=r)+'"';return t&&(s+=' title="'+R(t)+'"'),s+=">"+o+"</a>",s}image({href:e,title:t,text:n,tokens:o}){o&&(n=this.parser.parseInline(o,this.parser.textRenderer));let r=J(e);if(null===r)return R(n);let s=`<img src="${e=r}" alt="${n}"`;return t&&(s+=` title="${R(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:R(e.text)}},_=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},T=class e{options;renderer;textRenderer;constructor(e){this.options=e||w,this.options.renderer=this.options.renderer||new $,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e,t=!0){let n="";for(let o=0;o<e.length;o++){let r=e[o];if(this.options.extensions?.renderers?.[r.type]){let e=r,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}let s=r;switch(s.type){case"space":n+=this.renderer.space(s);continue;case"hr":n+=this.renderer.hr(s);continue;case"heading":n+=this.renderer.heading(s);continue;case"code":n+=this.renderer.code(s);continue;case"table":n+=this.renderer.table(s);continue;case"blockquote":n+=this.renderer.blockquote(s);continue;case"list":n+=this.renderer.list(s);continue;case"html":n+=this.renderer.html(s);continue;case"paragraph":n+=this.renderer.paragraph(s);continue;case"text":{let r=s,i=this.renderer.text(r);for(;o+1<e.length&&"text"===e[o+1].type;)r=e[++o],i+="\n"+this.renderer.text(r);n+=t?this.renderer.paragraph({type:"paragraph",raw:i,text:i,tokens:[{type:"text",raw:i,text:i,escaped:!0}]}):i;continue}default:{let e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t=this.renderer){let n="";for(let o=0;o<e.length;o++){let r=e[o];if(this.options.extensions?.renderers?.[r.type]){let e=this.options.extensions.renderers[r.type].call({parser:this},r);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){n+=e||"";continue}}let s=r;switch(s.type){case"escape":case"text":n+=t.text(s);break;case"html":n+=t.html(s);break;case"link":n+=t.link(s);break;case"image":n+=t.image(s);break;case"strong":n+=t.strong(s);break;case"em":n+=t.em(s);break;case"codespan":n+=t.codespan(s);break;case"br":n+=t.br(s);break;case"del":n+=t.del(s);break;default:{let e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}},L=class{options;block;constructor(e){this.options=e||w}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?b.lex:b.lexInline}provideParser(){return this.block?T.parse:T.parseInline}},B=class{defaults=M();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=T;Renderer=$;TextRenderer=_;Lexer=b;Tokenizer=S;Hooks=L;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let o of e)switch(n=n.concat(t.call(this,o)),o.type){case"table":{let e=o;for(let o of e.header)n=n.concat(this.walkTokens(o.tokens,t));for(let o of e.rows)for(let e of o)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=o;n=n.concat(this.walkTokens(e.items,t));break}default:{let e=o;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((o=>{let r=e[o].flat(1/0);n=n.concat(this.walkTokens(r,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{let n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let o=e.renderer.apply(this,t);return!1===o&&(o=n.apply(this,t)),o}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");let n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){let t=this.defaults.renderer||new $(this.defaults);for(let n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let o=n,r=e.renderer[o],s=t[o];t[o]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=s.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new S(this.defaults);for(let n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let o=n,r=e.tokenizer[o],s=t[o];t[o]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=s.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new L;for(let n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let o=n,r=e.hooks[o],s=t[o];L.passThroughHooks.has(n)?t[o]=e=>{if(this.defaults.async)return Promise.resolve(r.call(t,e)).then((e=>s.call(t,e)));let n=r.call(t,e);return s.call(t,n)}:t[o]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=s.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,o=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(o.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return b.lex(e,t??this.defaults)}parser(e,t){return T.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let o={...n},r={...this.defaults,...o},s=this.onError(!!r.silent,!!r.async);if(!0===this.defaults.async&&!1===o.async)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=e);let i=r.hooks?r.hooks.provideLexer():e?b.lex:b.lexInline,l=r.hooks?r.hooks.provideParser():e?T.parse:T.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(t):t).then((e=>i(e,r))).then((e=>r.hooks?r.hooks.processAllTokens(e):e)).then((e=>r.walkTokens?Promise.all(this.walkTokens(e,r.walkTokens)).then((()=>e)):e)).then((e=>l(e,r))).then((e=>r.hooks?r.hooks.postprocess(e):e)).catch(s);try{r.hooks&&(t=r.hooks.preprocess(t));let e=i(t,r);r.hooks&&(e=r.hooks.processAllTokens(e)),r.walkTokens&&this.walkTokens(e,r.walkTokens);let n=l(e,r);return r.hooks&&(n=r.hooks.postprocess(n)),n}catch(e){return s(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let e="<p>An error occurred:</p><pre>"+R(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}},z=new B;function k(e,t){return z.parse(e,t)}k.options=k.setOptions=function(e){return z.setOptions(e),k.defaults=z.defaults,H(k.defaults),k},k.getDefaults=M,k.defaults=w,k.use=function(...e){return z.use(...e),k.defaults=z.defaults,H(k.defaults),k},k.walkTokens=function(e,t){return z.walkTokens(e,t)},k.parseInline=z.parseInline,k.Parser=T,k.parser=T.parse,k.Renderer=$,k.TextRenderer=_,k.Lexer=b,k.lexer=b.lex,k.Tokenizer=S,k.Hooks=L,k.parse=k;var Dt=k.options,Zt=k.setOptions,Gt=k.use,Ht=k.walkTokens,Nt=k.parseInline,jt=null,Ft=T.parse,Qt=b.lex;async function getDoc(e){const t=await fetch(e);if(!t.ok)return console.error(`Failed to fetch document: ${e}`),"404 Not Found";const n=await t.text();if(e.endsWith(".md")){const e=await k(n);return(0,apprun.safeHTML)(e)}return(0,apprun.safeHTML)(n)}class HomeComponent extends apprun.Component{constructor(){super(...arguments),this.state="Welcome to AppRun",this.view=e=>apprun.app.h("div",null,e),this.update={"#":()=>getDoc("./README.md"),"#new":()=>getDoc("./WHATSNEW.md"),"#docs":async(e,...t)=>t&&0!==t.length?getDoc(`./docs/${t.join("/")}`):getDoc("./README.md")}}}const home=e=>(new HomeComponent).start(e),model=0,view=e=>apprun.default.h("div",null,apprun.default.h("h1",null,e),apprun.default.h("button",{$onclick:"DECREASE"},"-1"),apprun.default.h("button",{$onclick:"INCREASE"},"+1")),update={"#counter":e=>e,INCREASE:e=>e+1,DECREASE:e=>e-1},counter=e=>apprun.default.start(e,model,view,update,{render:!1});var createState=__webpack_require__(692);const counters_immer_model=[],Counter=({num:e,idx:t})=>apprun.default.h("div",null,apprun.default.h("h1",null,e),apprun.default.h("button",{onclick:()=>apprun.default.run("-1",t)},"-1"),apprun.default.h("button",{onclick:()=>apprun.default.run("+1",t)},"+1"),apprun.default.h("button",{onclick:()=>apprun.default.run("remove-counter",t)},"x")),CounterList=({counters:e})=>e.map(((e,t)=>apprun.default.h(Counter,{num:e,idx:t}))),counters_immer_view=e=>(console.log(e),apprun.default.h("div",null,apprun.default.h("div",null,apprun.default.h("button",{onclick:()=>apprun.default.run("history-prev")}," << "),apprun.default.h("button",{onclick:()=>apprun.default.run("history-next")}," >> "),apprun.default.h("button",{onclick:()=>apprun.default.run("add-counter")},"add counter"),apprun.default.h("button",{onclick:()=>apprun.default.run("remove-counter",e.length-1),disabled:e.length<=0},"remove counter")),apprun.default.h("br",null),apprun.default.h(CounterList,{counters:e}))),counters_immer_update={"#counters":e=>e,"add-counter":(0,createState.createState)((e=>{e.push(0)})),"remove-counter":(0,createState.createState)(((e,t)=>{e.splice(t,1)})),"+1":(0,createState.createState)(((e,t)=>{e[t]+=1})),"-1":(0,createState.createState)(((e,t)=>{e[t]-=1}))},counters_immer=e=>apprun.default.start(e,counters_immer_model,counters_immer_view,counters_immer_update,{history:!0,render:!1});class DragDemo extends apprun.Component{constructor(){super(...arguments),this.model={dragging:!1,position:{x:100,y:100},start:{x:0,y:0}},this.view=e=>{const t={userSelect:"none",cursor:"move",position:"absolute",padding:"50px",border:"1px solid black",color:e.dragging?"gold":"white","background-color":"#3C8D2F",left:`${e.position.x}px`,top:`${e.position.y}px`};return apprun.app.h("div",{ref:t=>e.el=t,$onpointerdown:"drag",$onpointermove:"move",$onpointerup:"drop",style:t}," Drag me!")},this.update={"#dragdrop":e=>e,drag:(e,t)=>(t.target.setPointerCapture(t.pointerId),{...e,dragging:!0,start:{x:t.pageX,y:t.pageY}}),move:(e,t)=>{if(!e.dragging)return;const n={x:t.pageX,y:t.pageY},o={x:e.position.x+t.pageX-e.start.x,y:e.position.y+t.pageY-e.start.y};return{...e,start:n,position:o}},drop:(e,t)=>(t.target.releasePointerCapture(t.pointerId),{...e,dragging:!1})},this.unload=({el:e})=>{console.log("dragdrop.unload"),e.onpointerdown=e.onpointerup=e.onpointermove=null}}}const dragdrop=e=>(new DragDemo).mount(e);var calculator=__webpack_require__(284),Filters;!function(e){e[e.all=0]="all",e[e.todo=1]="todo",e[e.done=2]="done"}(Filters||(Filters={}));const ENTER=13,todo_model={filter:0,todos:[]},Todo=({todo:e,idx:t})=>apprun.default.h("li",{onclick:()=>component.run("toggle",t),style:{color:e.done?"green":"red",textDecoration:e.done?"line-through":"none",cursor:"pointer"}},e.value),todo_view=e=>{const t=t=>({"font-weight":e.filter===t?"bold":"normal",cursor:"pointer"});return apprun.default.h("div",null,apprun.default.h("h1",null,"Todo"),apprun.default.h("div",null,apprun.default.h("span",null,"Show:"),apprun.default.h("span",null," ",apprun.default.h("a",{style:t(0),onclick:()=>component.run("filter",0)},"All"))," |",apprun.default.h("span",null," ",apprun.default.h("a",{style:t(1),onclick:()=>component.run("filter",1)},"Todo"))," |",apprun.default.h("span",null," ",apprun.default.h("a",{style:t(2),onclick:()=>component.run("filter",2)},"Done"))),apprun.default.h("ul",null,e.todos.filter((t=>0===e.filter||1===e.filter&&!t.done||2===e.filter&&t.done)).map(((e,t)=>apprun.default.h(Todo,{todo:e,idx:t})))),apprun.default.h("div",null,apprun.default.h("input",{id:"new-todo",placeholder:"add todo",onkeyup:e=>add(e.keyCode)}),apprun.default.h("button",{onclick:e=>add(ENTER)},"Add"),apprun.default.h("button",{onclick:()=>component.run("clear")},"Clear")),apprun.default.h("br",null),apprun.default.h("div",null,apprun.default.h("button",{onclick:()=>component.run("todo-undo")}," Undo "),apprun.default.h("button",{onclick:()=>component.run("todo-redo")}," Redo ")))},add=e=>{const t=document.getElementById("new-todo");e===ENTER&&t.value&&(component.run("add",t.value),t.value="")},todo_update={"#todo":e=>e,add:(e,t)=>({...e,todos:[...e.todos,{value:t,done:!1}]}),toggle:(e,t)=>({...e,todos:[...e.todos.slice(0,t),{...e.todos[t],done:!e.todos[t].done},...e.todos.slice(t+1)]}),filter:(e,t)=>({...e,filter:t}),clear:e=>({...e,todos:[]})};let component=new apprun.Component(todo_model,todo_view,todo_update);const todo=e=>component.mount(e,{history:{prev:"todo-undo",next:"todo-redo"}});var lit_html=__webpack_require__(752),directive=__webpack_require__(804);const{I:t}=lit_html.ge,i=e=>null===e||"object"!=typeof e&&"function"!=typeof e,n={HTML:1,SVG:2,MATHML:3},e=(e,t)=>void 0===t?void 0!==e?._$litType$:e?._$litType$===t,l=e=>null!=e?._$litType$?.h,c=e=>void 0!==e?._$litDirective$,d=e=>e?._$litDirective$,f=e=>void 0===e.strings,s=()=>document.createComment(""),directive_helpers_r=(e,n,o)=>{const r=e._$AA.parentNode,i=void 0===n?e._$AB:n._$AA;if(void 0===o){const n=r.insertBefore(s(),i),l=r.insertBefore(s(),i);o=new t(n,l,e,e.options)}else{const t=o._$AB.nextSibling,n=o._$AM,s=n!==e;if(s){let t;o._$AQ?.(e),o._$AM=e,void 0!==o._$AP&&(t=e._$AU)!==n._$AU&&o._$AP(t)}if(t!==i||s){let e=o._$AA;for(;e!==t;){const t=e.nextSibling;r.insertBefore(e,i),e=t}}}return o},directive_helpers_v=(e,t,n=e)=>(e._$AI(t,n),e),u={},directive_helpers_m=(e,t=u)=>e._$AH=t,directive_helpers_p=e=>e._$AH,directive_helpers_M=e=>{e._$AP?.(!1,!0);let t=e._$AA;const n=e._$AB.nextSibling;for(;t!==n;){const e=t.nextSibling;t.remove(),t=e}},directive_helpers_h=e=>{e._$AR()},repeat_u=(e,t,n)=>{const o=new Map;for(let r=t;r<=n;r++)o.set(e[r],r);return o},repeat_c=(0,directive.u$)(class extends directive.WL{constructor(e){if(super(e),e.type!==directive.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,n){let o;void 0===n?n=t:void 0!==t&&(o=t);const r=[],s=[];let i=0;for(const t of e)r[i]=o?o(t,i):i,s[i]=n(t,i),i++;return{values:s,keys:r}}render(e,t,n){return this.dt(e,t,n).values}update(e,[t,n,o]){const r=directive_helpers_p(e),{values:s,keys:i}=this.dt(t,n,o);if(!Array.isArray(r))return this.ut=i,s;const l=this.ut??=[],a=[];let c,u,p=0,d=r.length-1,h=0,m=s.length-1;for(;p<=d&&h<=m;)if(null===r[p])p++;else if(null===r[d])d--;else if(l[p]===i[h])a[h]=directive_helpers_v(r[p],s[h]),p++,h++;else if(l[d]===i[m])a[m]=directive_helpers_v(r[d],s[m]),d--,m--;else if(l[p]===i[m])a[m]=directive_helpers_v(r[p],s[m]),directive_helpers_r(e,a[m+1],r[p]),p++,m--;else if(l[d]===i[h])a[h]=directive_helpers_v(r[d],s[h]),directive_helpers_r(e,r[p],r[d]),d--,h++;else if(void 0===c&&(c=repeat_u(i,h,m),u=repeat_u(l,p,d)),c.has(l[p]))if(c.has(l[d])){const t=u.get(i[h]),n=void 0!==t?r[t]:null;if(null===n){const t=directive_helpers_r(e,r[p]);directive_helpers_v(t,s[h]),a[h]=t}else a[h]=directive_helpers_v(n,s[h]),directive_helpers_r(e,r[p],n),r[t]=null;h++}else directive_helpers_M(r[d]),d--;else directive_helpers_M(r[p]),p++;for(;h<=m;){const t=directive_helpers_r(e,a[m+1]);directive_helpers_v(t,s[h]),a[h++]=t}for(;p<=d;){const e=r[p++];null!==e&&directive_helpers_M(e)}return this.ut=i,directive_helpers_m(e,a),lit_html.c0}});var apprun_html=__webpack_require__(14);let startTime,lastName;const startMeasure=function(e){lastName=e,startTime=performance.now()},stopMeasure=function(){window.setTimeout((function(){const e=performance.now(),t=lastName+" took "+(e-startTime).toFixed(2),n=document.getElementById("measure");n&&(n.innerHTML=t)}))};function _random(e){return Math.round(1e3*Math.random())%e}const adjectives=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],colours=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],nouns=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],state={data:[],selected:0};let id=1;function buildData(e){return new Array(e).fill(0).map((e=>({id:id++,label:`${adjectives[_random(adjectives.length)]} ${colours[_random(colours.length)]} ${nouns[_random(nouns.length)]}`})))}const store_update={run:()=>({data:buildData(1e3),selected:0}),add:e=>({data:e.data.concat(buildData(1e3)),selected:e.selected}),runlots:()=>({data:buildData(1e4),selected:0}),clear:()=>({data:[],selected:0}),update:e=>({data:e.data.map(((e,t)=>(t%10==0&&(e.label=`${e.label} !!!`),e))),selected:e.selected}),swaprows:e=>{if(e.data.length>4){const t=e.data.length-2,n=e.data[1];e.data[1]=e.data[t],e.data[t]=n}return e},select:(e,t)=>({...e,selected:t}),delete:(e,t)=>(e.selected==t&&(e.selected=0),e.data=e.data.filter((e=>e.id!=t)),e)},benchmark_lit_html_view=e=>{const t=e.selected;return apprun_html.html`<div class="container" @click=${(0,apprun_html.run)(click)}>
  <div class="row">lit-html</div>
  <div class="row">
    <button id="run">Create 1,000 rows</button>
    <button id="runlots">Create 10,000 rows</button>
    <button id="add">Append 1,000 rows</button>
    <button id="update">Update every 10th row</button>
    <button id="clear">Clear</button>
    <button id="swaprows">Swap Rows</button>
    <span class="pull-right" id="measure"></span>
  </div>
  <br />
  <table class="table table-hover table-striped test-data">
    <tbody>${repeat_c(e.data,(e=>e.id),(e=>apprun_html.html`
      <tr id=${e.id} class=${e.id===t?"danger":""}>
        <td class="col-md-1">${e.id}</td>
        <td class="col-md-4">
          <a class="lbl">${e.label}</a>
        </td>
        <td data-interaction='delete' class="col-md-1">
          <a>
            <span class="glyphicon glyphicon-remove remove" aria-hidden="true"></span>
          </a>
        </td>
        <td class="col-md-6"></td>
      </tr>`))}
    </tbody>
  </table>
  <span class="preloadicon glyphicon glyphicon-remove hidden" aria-hidden="true"></span>
</div>`},getId=e=>{const t=e.closest("tr");return parseInt(t.id)},click=(e,t)=>{const n=t.target;if(n)if(t.preventDefault(),"BUTTON"===n.tagName&&n.id)startMeasure(n.id),benchmark_lit_html_component.run(n.id),stopMeasure();else if(n.matches(".remove")){startMeasure("delete");const e=getId(n);benchmark_lit_html_component.run("delete",e),stopMeasure()}else if(n.matches("td")){startMeasure("select");const e=getId(n);benchmark_lit_html_component.run("select",e),stopMeasure()}},my_update={"#benchmark-lit-html":e=>e,...store_update},benchmark_lit_html_component=new apprun_html.Component(state,benchmark_lit_html_view,my_update),benchmark_lit_html=e=>benchmark_lit_html_component.mount(e,{route:""}),benchmark_view=e=>apprun.app.h("div",{class:"container",$onclick:benchmark_click},apprun.app.h("div",{class:"row"},"JSX"),apprun.app.h("div",{class:"row"},apprun.app.h("button",{id:"run"},"Create 1,000 rows"),apprun.app.h("button",{id:"runlots"},"Create 10,000 rows"),apprun.app.h("button",{id:"add"},"Append 1,000 rows"),apprun.app.h("button",{id:"update"},"Update every 10th row"),apprun.app.h("button",{id:"clear"},"Clear"),apprun.app.h("button",{id:"swaprows"},"Swap Rows"),apprun.app.h("span",{class:"pull-right",id:"measure"})),apprun.app.h("br",null),apprun.app.h("table",{class:"table table-hover table-striped test-data",id:"main-table"},apprun.app.h("tbody",null,e.data.map((t=>{const n=t.id==e.selected?"danger":void 0;return apprun.app.h("tr",{class:n,id:t.id},apprun.app.h("td",{class:"col-md-1"},t.id),apprun.app.h("td",{class:"col-md-4"},apprun.app.h("a",{class:"lbl"},t.label)),apprun.app.h("td",{class:"col-md-1"},apprun.app.h("a",{class:"remove"},apprun.app.h("span",{class:"glyphicon glyphicon-remove remove","aria-hidden":"true"}))),apprun.app.h("td",{class:"col-md-6"}))})))),apprun.app.h("span",{class:"preloadicon glyphicon glyphicon-remove hidden","aria-hidden":"true"})),benchmark_getId=e=>{for(;e;){if("TR"===e.tagName)return e.id;e=e.parentNode}},benchmark_click=(e,t)=>{const n=t.target;if(n)if(t.preventDefault(),"BUTTON"===n.tagName&&n.id)startMeasure(n.id),benchmark_component.run(n.id),stopMeasure();else if(n.matches(".remove")){startMeasure("delete");const e=benchmark_getId(n);benchmark_component.run("delete",e),stopMeasure()}else if(n.matches("td")){startMeasure("select");const e=benchmark_getId(n);benchmark_component.run("select",e),stopMeasure()}},benchmark_my_update={"#benchmark":e=>e,...store_update},benchmark_component=new apprun.Component(state,benchmark_view,benchmark_my_update),benchmark=e=>benchmark_component.mount(e);var __decorate=function(e,t,n,o){var r,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(i=(s<3?r(i):s>3?r(t,n,i):r(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};class HelloComponent extends apprun.Component{constructor(){super(...arguments),this.model="world",this.view=e=>apprun.default.h("div",null,apprun.default.h("h1",null,"Hello: ",e),apprun.default.h("input",{autofocus:!0,oninput:e=>this.run("input",e)})),this.hello=e=>e,this.oninput=(e,t)=>t.target.value}}__decorate([(0,apprun.on)("#hello")],HelloComponent.prototype,"hello",void 0),__decorate([(0,apprun.on)("input")],HelloComponent.prototype,"oninput",void 0);class HelloStateComponent extends apprun.Component{constructor(){super(...arguments),this.model="world",this.view=e=>apprun.default.h("div",null,apprun.default.h("div",null,"Test push state"),apprun.default.h("h1",null,"Hello: ",e),apprun.default.h("input",{oninput:e=>this.run("input",e)})),this.hello=(e,t)=>t||e,this.oninput=(e,t)=>(history.pushState(null,null,"#hello-pushstate/"+t.target.value),t.target.value)}}__decorate([(0,apprun.on)("#hello-pushstate")],HelloStateComponent.prototype,"hello",void 0),__decorate([(0,apprun.on)("input")],HelloStateComponent.prototype,"oninput",void 0);class HelloDelayComponent extends apprun.Component{constructor(){super(...arguments),this.model="world",this.view=e=>apprun.default.h("div",null,apprun.default.h("div",null,"Test delayed event (1s)"),apprun.default.h("h1",null,"Hello: ",e),apprun.default.h("input",{oninput:e=>this.run("input",e)})),this.hello=e=>e,this.update={input:[(e,t)=>t.target.value,{delay:1e3,debug:!0}]}}}__decorate([(0,apprun.on)("#hello-delayed")],HelloDelayComponent.prototype,"hello",void 0);class HelloDirectiveComponent extends apprun.Component{constructor(){super(...arguments),this.model="world",this.view=e=>apprun.default.h("div",null,apprun.default.h("div",null,"Test directive"),apprun.default.h("h1",null,"Hello: ",e),apprun.default.h("table",null,apprun.default.h("tr",null,apprun.default.h("td",null,"Default event:"),apprun.default.h("td",null,"<input $oninput />"),apprun.default.h("td",null,apprun.default.h("input",{value:e,$oninput:!0}))),apprun.default.h("tr",null,apprun.default.h("td",null,"Named event:"),apprun.default.h("td",null,"<input $oninput='ev1' />"),apprun.default.h("td",null,apprun.default.h("input",{value:e,$oninput:"ev1"}))),apprun.default.h("tr",null,apprun.default.h("td",null,"Bind:"),apprun.default.h("td",null,"<input $bind />"),apprun.default.h("td",null,apprun.default.h("input",{value:e,$bind:!0}))))),this.hello=e=>e,this.oninput=(e,t)=>t.target.value}}__decorate([(0,apprun.on)("#hello-directive")],HelloDirectiveComponent.prototype,"hello",void 0),__decorate([(0,apprun.on)("oninput, ev1")],HelloDirectiveComponent.prototype,"oninput",void 0);const hello=e=>{(new HelloComponent).mount(e),(new HelloStateComponent).mount(e),(new HelloDelayComponent).mount(e),(new HelloDirectiveComponent).mount(e)},triangles=[{id:"yellow",rot:0},{id:"green",rot:60},{id:"magenta",rot:120},{id:"red",rot:180},{id:"cyan",rot:240},{id:"blue",rot:300}];class SvgComponent extends apprun_html.Component{constructor(){super(...arguments),this.state=0,this.view=e=>{const t=triangles.map((e=>apprun_html.svg`<polygon id="${e.id}"
        points="-50,-88 0,-175 50,-88"
        transform="rotate(${e.rot})"
        stroke-width="3" />`));return apprun_html.html`<div class="view">
      <h1>AppRun SVG Carousel</h1>
      <svg width="380" height="380" viewBox="-190,-190,380,380">
        <g id="carousel" style="transform: rotate(${e}deg);">
          ${t}
        </g>
      </svg>
      <button @click=${(0,apprun_html.run)("@rot+60")}>Rotate Clockwise</button>
      <button @click=${(0,apprun_html.run)("@rot-60")}>Rotate Anticlockwise</button>
      <button @click=${(0,apprun_html.run)("@reset")}>Reset</button>
      <div>It is a reimplementation of <a href="https://github.com/snabbdom/snabbdom/tree/master/examples/carousel-svg">a snabbdom example</a> by Jon Kleiser.</div>
    </div>`},this.update={"@rot+60":e=>e+60,"@rot-60":e=>e-60,"@reset":()=>0,"#svg":e=>e}}}let svg_component=new SvgComponent;const svg=e=>svg_component.mount(e);apprun.default.on("$",(({key:e,props:t})=>{if("$animation"===e){const n=t[e];"string"==typeof n&&(t.class=`animated ${n}`)}}));class AniComponent extends apprun.Component{constructor(){super(...arguments),this.state={animation:!0},this.view=e=>apprun.default.h(apprun.default.Fragment,null,apprun.default.h("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css"}),apprun.default.h("img",{$animation:e.animation&&"bounce infinite",src:"logo.png"}),apprun.default.h("div",{$animation:"bounceInRight"},apprun.default.h("button",{disabled:e.animation,$onclick:"start-animation"},"start"),apprun.default.h("button",{disabled:!e.animation,$onclick:"stop-animation"},"stop"))),this.update={"#animation":e=>e,"start-animation":e=>({...e,animation:!0}),"stop-animation":e=>({...e,animation:!1})}}}const animation=e=>(new AniComponent).mount(e),play_examples=[{name:"Hello World ($bind)",code:"// Hello World ($bind)\nconst state = '';\nconst view = state => <div>\n  <h1>Hello {state}</h1>\n  <input autofocus $bind />\n</div>;\napp.start(document.body, state, view);\n"},{name:"Hello World ($on)",code:"// Hello World ($on)\nconst state = '';\nconst view = state => <>\n  <h1>Hello {state}</h1>\n  <input $oninput={oninput}/>\n</>;\nconst oninput = (_, e) => e.target.value;\napp.start(document.body, state, view);\n"},{name:"Hello World (debounce)",code:"// Hello World (debounce)\nconst state = '';\nconst view = state => <>\n  <h1>Hello {state}</h1>\n  <input autofocus $oninput />\n</>;\nconst oninput = [(_, e) => e.target.value, { delay: 300 }];\napp.start(document.body, state, view, {oninput});\n"},{name:"Clock",code:"// Clock\nconst state = new Date();\nconst view = state => <h1>{state.toLocaleTimeString()}</h1>;\nconst timer = state => new Date();\nwindow.setInterval(() => { app.run('timer') }, 1000);\napp.start(document.body, state, view, {timer});\n"},{name:"Clock (Component Lifecycle)",code:"// Clock (Component Lifecycle)\nclass Clock extends Component {\n  id;\n  state = new Date();\n  view = state => <>\n    <h1>{state.toLocaleTimeString()}</h1>\n    <button onclick={()=>document.body.innerHTML=\"Clock deleted\"}>delete</button>\n  </>;\n  update = {\n    timer: state => new Date()\n  }\n  mounted = () => {\n    this.id = window.setInterval(() => { this.run('timer') }, 1000);\n    console.log('timer started');\n  }\n  unload = () => {\n    window.clearInterval(this.id);\n    console.log('timer cleared');\n  }\n}\napp.render(document.body, <Clock />);\n"},{name:"Stopwatch",code:"// Stopwatch\nconst state = {\n  id: null,\n  start: new Date(),\n  elapsed: '0'\n}\nconst view = state => <div>\n  <h1>{state.elapsed}</h1>\n  <button $onclick=\"start\">Start</button>\n  <button $onclick=\"stop\">Stop</button>\n</div>;\n\nconst update = {\n  start:state => {\n    state.start = new Date();\n    state.id = state.id || window.setInterval(() => { app.run('timer') }, 100);\n  },\n  stop: state => {\n    state.id = state.id && window.clearInterval(state.id) && false;\n  },\n  timer: state => {\n    state.elapsed = ((new Date() - state.start) / 1000).toFixed(3) + ' seconds';\n    return state\n  }\n};\napp.start(document.body, state, view, update);\n"},{name:"Counter (HTML)",code:"// Counter (HTML)\nconst state = 0;\nconst view = state => `<div>\n  <h1>${state}</h1>\n  <button onclick=\"app.run('-1')\">-1</button>\n  <button onclick=\"app.run('+1')\">+1</button>\n</div>`;\nconst update = {\n  '+1': state => state + 1,\n  '-1': state => state - 1\n};\napp.start(document.body, state, view, update);\n"},{name:"Counter (JSX)",code:"// Counter (JSX)\nconst state = 0;\nconst view = state => <div>\n  <h1>{state}</h1>\n  <button onclick={()=>app.run('-1')}>-1</button>\n  <button onclick={()=>app.run('+1')}>+1</button>\n</div>;\nconst update = {\n  '+1': state => state + 1,\n  '-1': state => state - 1\n};\napp.start(document.body, state, view, update);\n"},{name:"Counter ($onclick)",code:"// Counter ($onclick)\nconst state = 0;\nconst view = state => <div>\n  <h1>{state}</h1>\n  <button $onclick={state => state - 1}>+1</button>\n  <button $onclick={state => state + 1}>+1</button>\n</div>;\napp.start(document.body, state, view);\n  "},{name:"Counter (Web Component)",code:"// Counter (Web Component)\nclass Counter extends Component {\n  state = 0;\n  view = state => {\n    const add = (state, num) => state + num;\n    return <>\n      <h1>{state}</h1>\n      <button $onclick={[add, -1]}>-1</button>\n      <button $onclick={[add, +1]}>+1</button>\n      </>;\n  }\n}\napp.webComponent('my-app', Counter);\napp.render(document.body, <my-app />);\n"},{name:"Async fetch",code:"// Async fetch\nconst state = {};\nconst view = state => <>\n  <div><button $onclick=\"fetchComic\">fetch ...</button></div>\n  {state.loading && <div>loading ... </div>}\n  {state.comic && <img src={state.comic.img}/>}\n</>;\nconst update = {\n  'loading': (state, loading) => ({...state, loading }),\n  'fetchComic': async _ => {\n    app.run('loading', true);\n    const response = await fetch('https://xkcd-api.netlify.app');\n    const comic = await response.json();\n    return {comic};\n  }\n};\napp.start(document.body, state, view, update);\n"},{name:"Custom Directive",code:"// Animation Directive Using animate.css\napp.on('$', ({key, props}) => {\n  if (key === '$animation') {\n    const value = props[key];\n    if (typeof value === 'string') {\n      props.class = `animated ${value}`;\n    }\n  }\n});\n\nconst state = {\n  animation: true\n}\n\nconst start_animation = state => ({ animation: true })\nconst stop_animation = state => ({ animation: false })\n\nconst view = state => <>\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css\"></link>\n  <img $animation={state.animation && 'bounce infinite'} src='logo.png' />\n  <div $animation='bounceInRight'>\n    <button disabled={state.animation} $onclick={start_animation}>start</button>\n    <button disabled={!state.animation} $onclick={stop_animation}>stop</button>\n  </div>\n</>\n\napp.start(document.body, state, view);\n"},{name:"Ref - Examples",code:"// Ref - Examples\nconst focus = e => e.focus()\nconst edit = e => e.setAttribute('contenteditable', 'true');\nconst View = () => <>\n  <input ref={focus}/>\n  <hr />\n  <div ref={edit} style=\"height:100px; width:100%\">\n    This text is editable. Click to edit.\n  </div>\n</>;\n\napp.render(document.body, <View />);\n"},{name:"Child Components",code:"// Child Components\n\nclass Counter extends Component {\n  state = 0;\n  view = state => (\n    <div>\n      <h1>{state}</h1>\n      <button $onclick='-1'>-1</button>\n      <button $onclick='+1'>+1</button>\n    </div>\n  );\n  update = {\n    '+1': state => state + 1,\n    '-1': state => state - 1\n  };\n}\n\nclass App extends Component {\n  state = 0;\n  view = state => (\n    <div>\n      <button $onclick='+1'>{state}</button>\n      <hr/>\n      <Counter />\n      <Counter />\n      <Counter />\n    </div>\n  );\n  update = {\n    '+1': state => state + 1,\n  };\n}\n\nnew App().start(document.body);\n"},{name:"Element in JSX - canvas",code:"// Element in JSX - canvas\nconst View = () => {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext(\"2d\");\n  ctx.beginPath();\n  ctx.arc(95, 50, 40, 0, 2 * Math.PI);\n  ctx.stroke();\n  return <div>\n    {canvas}\n  </div>\n}\napp.render(document.body, <View/>);\n"},{name:"Shadow DOM",code:"// Shadow DOM\nconst Shadow = (_, children) => {\n  const el = document.createElement('section');\n  el.attachShadow({ mode: 'open' });\n  app.render(el.shadowRoot, children);\n  return <>{el}</>;\n};\n\nconst View = () => <>\n  <div>black</div>\n  <Shadow>\n    <style>{'div {color: red}'}</style>\n    <div>red</div>\n    <div>red</div>\n  </Shadow>\n  <div>black</div>\n</>\napp.render(document.body, <View />);\n"},{name:"Decorators",code:"// Decorators\n//@customElement decorator creates a web component\n@customElement('my-counter')\nclass Counter extends Component {\n  state = 0;\n\n  //@on decorator creates an event handler\n  @on('+') add = (state, delta) => state + delta;\n\n  view = state => <>\n    <h1>{state}</h1>\n    <button $onclick={['+', -1]}>-1</button>\n    <button $onclick={['+', +1]}>+1</button>\n  </>;\n}\n\n//now, create three web components\ndocument.body.append(document.createElement('my-counter'));\ndocument.body.append(document.createElement('my-counter'));\ndocument.body.append(document.createElement('my-counter'));\n"},{name:"Reactivity - getter",code:'// Reactivity - getter\nconst state = {\n  a: 1,\n  b: 2,\n  get c() {\n    return this.a + this.b;\n  }\n};\nconst view = ({a, b, c}) => <>\n  <input type="number" $bind="a" />\n  <input type="number" $bind="b" />\n  <p>{a} + {b} = { c }</p>\n</>;\napp.start(document.body, state, view);\n'},{name:"Reactivity - Proxy",code:"// Reactivity - Proxy\nconst handler = {\n  get: (target, name) => {\n    const text = target.text || '';\n    switch (name) {\n      case 'text': return target.text;\n      case 'characters': return text.replace(/\\s/g, '').length;\n      case 'words': return !text ? 0 : text.split(/\\s/).length;\n      case 'lines': return text.split('\\n').length;\n      default: return null\n    }\n  }\n};\nconst state = new Proxy(\n  { text: \"let's count\" },\n  handler\n);\nconst view = state => <div>\n  <textarea rows=\"10\" cols=\"50\" $bind=\"text\"></textarea>\n  <div>chars: {state.characters} words: {state.words} lines: {state.lines}</div>\n  <pre>{state.text}</pre>\n</div>;\napp.start(document.body, state, view);\n"},{name:"Routing (component event)",code:"// Routing (component event)\nclass Home extends Component {\n  view = () => <div>Home</div>;\n  update = {'#, #home': state => state };\n}\n\nclass Contact extends Component {\n  view = () => <div>Contact</div>;\n  update = {'#contact': state => state };\n}\n\nclass About extends Component {\n  view = () => <div>About</div>;\n  update = {'#about': state => state };\n}\n\nconst App = () => <>\n  <div id=\"menus\">\n    <a href=\"#home\">Home</a>{' | '}\n    <a href=\"#contact\">Contact</a>{' | '}\n    <a href=\"#about\">About</a></div>\n  <div id=\"pages\"></div>\n</>\n\napp.render(document.body, <App />);\n[About, Contact, Home].map(C => new C().start('pages'));\n"},{name:"Routing (mount options)",code:"// Routing (mount options)\nclass Home extends Component {\n  view = () => <div>Home</div>;\n}\n\nclass Contact extends Component {\n  view = () => <div>Contact</div>;\n}\n\nclass About extends Component {\n  view = () => <div>About</div>;\n}\n\nconst App = () => <>\n  <div id=\"menus\">\n    <a href=\"/\">Home</a>{' | '}\n    <a href=\"/contact\">Contact</a>{' | '}\n    <a href=\"/about\">About</a></div>\n  <div id=\"pages\"></div>\n</>\n\napp.render(document.body, <App />);\n\napp.addComponents('#pages', {\n  '/': Home, \n  '/about': About,\n  '/contact': Contact\n});\n\napp.run('/'); // start with Home\n"},{name:"SVG - animation",code:'// SVG - animation\nconst view = () => <>\n  <svg height="60" width="160">\n    <rect width="100%" height="100%" rx="10" ry="10" fill="lightgrey" />\n    <circle cx="30" cy="30" r="20" fill=\'lime\'>\n    <animate\n          attributeType="XML"\n          attributeName="fill"\n          values="lime;lightgrey;lime;lightgrey"\n          dur="0.5s"\n          repeatCount="indefinite"/>\n    </circle>\n    <circle cx="80" cy="30" r="20" fill=\'yellow\' fill-opacity=\'0.2\'/>\n    <circle cx="130" cy="30" r="20" fill=\'orangered\' fill-opacity=\'0.2\' />\n  </svg>\n</>;\n\napp.start(document.body, {}, view);\n'},{name:"SVG - xlink",code:'// SVG - xlink\nconst view = () => <svg viewBox="0 0 150 20">\n  <a xlinkHref="https://apprun.js.org/">\n    <text x="10" y="10" font-size="5">Click => AppRun</text></a>\n</svg>\n\napp.start(document.body, {}, view);\n'},{name:"SVG - $onclick",code:'// SVG - $onclick\nconst view = state => <svg viewBox="0 0 520 520" xmlns="http://www.w3.org/2000/svg">\n  <rect x="10" y="10" width="90" height="40" fill="#aaa"\n    $onclick="test"/>\n  <rect x="10" y="80" width="90" height="40" fill="#bbb"\n    onclick="alert(\'You have clicked the rect.\')"/>\n</svg>\n\nconst update = {\n  test: (state, evt) => alert("You have clicked the " + evt.target.tagName)\n}\napp.start(document.body, \'\', view, update);\n'},{name:"Content Editable",code:'// Content Editable\nconst view = () => <>\n  <div contenteditable\n    style="height:100px; width:100%">\n    This text is editable. Click to edit.\n  </div>\n  <input readonly value="This text is readonly."/>\n  <button onclick="alert(0)">event handler as string</button>\n</>\napp.start(document.body, {}, view);\n'},{name:"List attribute",code:'// List attribute\nconst view = () => <>\n  <input list="browsers"/>\n  <datalist id="browsers">\n    <option value="Internet Explorer"/>\n    <option value="Firefox"/>\n    <option value="Google Chrome"/>\n    <option value="Opera"/>\n    <option value="Safari"/>\n  </datalist>\n</>\napp.start(document.body, {}, view);\n'},{name:"Init State as an Async Function",code:"// Init State as an Async Function\nconst state = async () => {\n  const response = await fetch('https://xkcd-api.netlify.app');\n  const comic = await response.json();\n  return { comic };\n};\n\nconst view = state => <>\n  { state.comic && <img src={ state.comic.img } />}\n</>;\n\napp.start(document.body, state, view);\n"},{name:"View Transition Event Level",code:"// View Transition\nconst style = `\n  ::view-transition-old(root),\n  ::view-transition-new(root) {\n    animation-duration: 1s; // slow motion fade\n  }\n`;\nconst state = 0;\nconst view = state => <div>\n  <style>{style}</style>\n  <h1>{state}</h1>\n  <button onclick={()=>app.run('-1')}>-1</button>\n  <button onclick={()=>app.run('+1')}>+1</button>\n</div>;\nconst update = {\n  '+1': [state => state + 1, {transition: true}],\n  '-1': [state => state - 1, {transition: true}]\n};\napp.start(document.body, state, view, update);\n"},{name:"View Transition Component Level",code:"// View Transition\nconst style = `\n  ::view-transition-old(root),\n  ::view-transition-new(root) {\n    animation-duration: 1s; // slow motion fade\n  }\n`;\nconst state = 0;\nconst view = state => <div>\n  <style>{style}</style>\n  <h1>{state}</h1>\n  <button onclick={()=>app.run('-1')}>-1</button>\n  <button onclick={()=>app.run('+1')}>+1</button>\n</div>;\nconst update = {\n  '+1': state => state + 1,\n  '-1': state => state - 1\n};\napp.start(document.body, state, view, update, {transition: true});\n"},{name:"Async Generator Function",code:"// Async Generator Function\n  async function* getComic() {\n    yield { loading: true };\n    const response = await fetch('https://xkcd-api.netlify.app');\n    const comic = await response.json();\n    yield { comic };\n  }\n\n  const state = {};\n  const view = state => <>\n    <div><button $onclick={getComic}>fetch ...</button></div>\n    {state.loading && <div>loading ... </div>}\n    {state.comic && <img src={state.comic.img} />}\n  </>;\n\n  app.start(document.body, state, view);\n"}],html=e=>`<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <meta http-equiv="X-UA-Compatible" content="ie=edge">\n  <script src="https://cdnjs.cloudflare.com/ajax/libs/custom-elements/1.1.2/custom-elements.min.js"><\/script>\n  <title>AppRun Playground</title>\n  <style>\n    body {\n      font-family: "Benton Sans", "Helvetica Neue", helvetica, arial, sans-serif;\n      margin: 2em;\n    }\n    img { width: 100%; }\n  </style>\n  <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>\n  <script src="dist/apprun-dev-tools.js"><\/script>\n  <script src="dist/apprun-html.js"><\/script>\n</head>\n<body>\n<script>\n  Babel.registerPlugin("d", [Babel.availablePlugins["proposal-decorators"], {legacy: true}]);\n  Babel.registerPlugin("c", [Babel.availablePlugins["proposal-class-properties"], {loose: true}]);\n  Babel.registerPlugin("b", [Babel.availablePlugins["proposal-private-methods"], {loose: true}]);\n<\/script>\n<script type="text/babel" data-plugins="d, c, b">\n  ${e}\n<\/script>\n</body>\n</html>`,tab=({code:e})=>{const t=window.open().document;t.open(),t.write(html(e)),t.close()},editor=e=>{const t=document.createElement("apprun-code");t.style.height="80vh",t.setAttribute("code-width","60%"),e.appendChild(t)};class PlayComponent extends apprun.Component{constructor(){super(...arguments),this.state={...play_examples[0],selectedIndex:0},this.view=e=>apprun.default.h("div",{class:"playground",ref:e=>editor(e)},apprun.default.h("div",{class:"row"},apprun.default.h("div",{class:"col-sm-6"},"Examples:",apprun.default.h("select",{$onchange:"select"},play_examples.map(((t,n)=>apprun.default.h("option",{selected:n===e.selectedIndex},t.name))))),apprun.default.h("div",{class:"col-sm-6"},apprun.default.h("button",{class:"btn btn-default btn-sm pull-right",$onclick:"openTab"},"Open in a new tab"))),apprun.default.h("textarea",null,e.code)),this.update={"#play":(e,t)=>{const n=parseInt(t);return isNaN(n)||(e={...play_examples[n],selectedIndex:n}),e},select:(e,t)=>(e={...play_examples[t.target.selectedIndex],selectedIndex:t.target.selectedIndex},history.pushState(null,null,"#play/"+t.target.selectedIndex),e),openTab:(e,t)=>{t.preventDefault(),tab(e)}}}}const play=e=>(new PlayComponent).mount(e);class MyWebcomp extends apprun.Component{constructor(){super(...arguments),this.css="section { border: 1px solid #ccc; margin: 0.2em 0; }\nspan { display: inline-block; width: 6em }\nbutton { width: 6em }",this.state=0,this.view=(e,t=this.props)=>{const{name:n,value:o,handleClick:r}=t;return apprun.app.h(apprun.app.Fragment,null,apprun.app.h("style",null,this.css),apprun.app.h("section",null,apprun.app.h("span",null,n),apprun.app.h("button",{$onclick:"inc"},"state: ",e),r?apprun.app.h("button",{onclick:()=>r(10)},"props: ",o):null))},this.update={inc:e=>(e+=1,this.dispatchEvent(new CustomEvent("my-webcomp-inc",{composed:!0,bubbles:!0,detail:{name:this.props.name,state:e}})),e),attributeChanged:(e,t,n,o)=>{console.log("attributeChanged",{state:e,name:t,oldValue:n,value:o})}},this.mounted=e=>(this.props=e,this.state)}}apprun.app.webComponent("my-webcomp",MyWebcomp,{shadow:!0,observedAttributes:["name","value","valueCamelCase","handleClick"]});class MyContainer extends HTMLElement{constructor(){super(...arguments),this.state=2,this.update=e=>{this.$state.textContent=this.$el.value=e,this.$el.setAttribute("valueCamelCase",e+5)},this.handleClick=()=>this.update(this.state=0)}connectedCallback(){this.innerHTML=`<div class='box app'>\n      <h4>A Web-Component Container</h4>\n      <button>reset: <span>${this.state}</span></button>\n      <my-webcomp name='name: wc' valueCamelCase="${this.state+5}" />\n    </div>`,this.$reset=this.querySelector("button"),this.$state=this.querySelector("span"),this.$el=this.querySelector("my-webcomp"),this.update(this.state),this.$el.handleClick=e=>this.update(this.state+=e),this.$reset.addEventListener("click",this.handleClick)}disconnectedCallback(){this.$reset.removeEventListener("click",this.handleClick)}}customElements.define("my-container",MyContainer);class MyJsxContainer extends apprun.Component{constructor(){super(...arguments),this.state=5,this.view=e=>apprun.app.h("div",{className:"box jsx",ref:e=>this.attachCustomEvent(e)},apprun.app.h("h4",null,"A JSX Container"),apprun.app.h("button",{onclick:()=>this.run("reset")},"reset: ",e),apprun.app.h("my-webcomp",{name:"name: local"}),apprun.app.h("my-webcomp",{name:"name: bidir",value:e,handleClick:e=>this.run("change",e)})),this.update={reset:e=>0,change:(e,t)=>e+t},this.unload=()=>{this.detachCustomEvent(this.ref)},this.handleCustomEvent=e=>{console.log("handleCustomEvent",e.detail)},this.attachCustomEvent=e=>{this.ref!==e&&(this.detachCustomEvent(this.ref),this.ref=e,this.ref.addEventListener("my-webcomp-inc",this.handleCustomEvent.bind(this)))},this.detachCustomEvent=e=>{e&&e.removeEventListener("my-webcomp-inc",this.handleCustomEvent.bind(this))}}}const style="html { font-family: sans-serif; }\n.box { margin: 0.5em 0; padding: 0.5em; border: 1px solid #ccc; }\n",web_components_view=()=>apprun.app.h(apprun.app.Fragment,null,apprun.app.h("style",null,style),apprun.app.h("div",null,apprun.app.h("h2",null,"Web-Components Demo"),apprun.app.h("p",null,"This Demo passes properties from a container to the web-component ",apprun.app.h("code",null,"<my-webcomp>"),"."),apprun.app.h("p",null,'Clicking on "props:" buttons increase the counter in the container, which then passes on the new value back to the component. "state:" changes only the local state')),apprun.app.h("my-container",null),apprun.app.h(MyJsxContainer,null)),web_components_update={"#webcomponents":e=>e},web_components=e=>new apprun.Component({},web_components_view,web_components_update).mount(e);var apprun_dev_tools=__webpack_require__(72),apprun_code=__webpack_require__(962);apprun.default.on(apprun.ROUTER_EVENT,(e=>{const t=document.querySelectorAll(".navbar-nav li");for(let e=0;e<t.length;++e)t[e].classList.remove("active");const n=document.querySelector(`[href='${e}']`);n&&n.parentElement.classList.add("active")}));const main_element=document.getElementById("my-app");return[home,hello,counter,counters_immer,todo,calculator.A,dragdrop,svg,animation,benchmark,benchmark_lit_html,play,web_components].forEach((e=>e(main_element))),__webpack_exports__})()));
//# sourceMappingURL=app.js.map